var q_=Object.defineProperty;var W_=(i,e,n)=>e in i?q_(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n;var vr=(i,e,n)=>W_(i,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function Nu(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ph={exports:{}},aa={},kh={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function K_(){if(Em)return Re;Em=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function C(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,q={};function M(O,K,de){this.props=O,this.context=K,this.refs=q,this.updater=de||V}M.prototype.isReactComponent={},M.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},M.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function G(){}G.prototype=M.prototype;function re(O,K,de){this.props=O,this.context=K,this.refs=q,this.updater=de||V}var Q=re.prototype=new G;Q.constructor=re,$(Q,M.prototype),Q.isPureReactComponent=!0;var ue=Array.isArray,Ie=Object.prototype.hasOwnProperty,Te={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(O,K,de){var Se,Ae={},xe=null,Fe=null;if(K!=null)for(Se in K.ref!==void 0&&(Fe=K.ref),K.key!==void 0&&(xe=""+K.key),K)Ie.call(K,Se)&&!D.hasOwnProperty(Se)&&(Ae[Se]=K[Se]);var je=arguments.length-2;if(je===1)Ae.children=de;else if(1<je){for(var $e=Array(je),vt=0;vt<je;vt++)$e[vt]=arguments[vt+2];Ae.children=$e}if(O&&O.defaultProps)for(Se in je=O.defaultProps,je)Ae[Se]===void 0&&(Ae[Se]=je[Se]);return{$$typeof:i,type:O,key:xe,ref:Fe,props:Ae,_owner:Te.current}}function P(O,K){return{$$typeof:i,type:O.type,key:K,ref:O.ref,props:O.props,_owner:O._owner}}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function R(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(de){return K[de]})}var N=/\/+/g;function A(O,K){return typeof O=="object"&&O!==null&&O.key!=null?R(""+O.key):K.toString(36)}function Me(O,K,de,Se,Ae){var xe=typeof O;(xe==="undefined"||xe==="boolean")&&(O=null);var Fe=!1;if(O===null)Fe=!0;else switch(xe){case"string":case"number":Fe=!0;break;case"object":switch(O.$$typeof){case i:case e:Fe=!0}}if(Fe)return Fe=O,Ae=Ae(Fe),O=Se===""?"."+A(Fe,0):Se,ue(Ae)?(de="",O!=null&&(de=O.replace(N,"$&/")+"/"),Me(Ae,K,de,"",function(vt){return vt})):Ae!=null&&(x(Ae)&&(Ae=P(Ae,de+(!Ae.key||Fe&&Fe.key===Ae.key?"":(""+Ae.key).replace(N,"$&/")+"/")+O)),K.push(Ae)),1;if(Fe=0,Se=Se===""?".":Se+":",ue(O))for(var je=0;je<O.length;je++){xe=O[je];var $e=Se+A(xe,je);Fe+=Me(xe,K,de,$e,Ae)}else if($e=C(O),typeof $e=="function")for(O=$e.call(O),je=0;!(xe=O.next()).done;)xe=xe.value,$e=Se+A(xe,je++),Fe+=Me(xe,K,de,$e,Ae);else if(xe==="object")throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Qe(O,K,de){if(O==null)return O;var Se=[],Ae=0;return Me(O,Se,"","",function(xe){return K.call(de,xe,Ae++)}),Se}function Je(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(de){(O._status===0||O._status===-1)&&(O._status=1,O._result=de)},function(de){(O._status===0||O._status===-1)&&(O._status=2,O._result=de)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var be={current:null},ne={transition:null},pe={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Te};function se(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:Qe,forEach:function(O,K,de){Qe(O,function(){K.apply(this,arguments)},de)},count:function(O){var K=0;return Qe(O,function(){K++}),K},toArray:function(O){return Qe(O,function(K){return K})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=M,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=re,Re.StrictMode=s,Re.Suspense=m,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Re.act=se,Re.cloneElement=function(O,K,de){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Se=$({},O.props),Ae=O.key,xe=O.ref,Fe=O._owner;if(K!=null){if(K.ref!==void 0&&(xe=K.ref,Fe=Te.current),K.key!==void 0&&(Ae=""+K.key),O.type&&O.type.defaultProps)var je=O.type.defaultProps;for($e in K)Ie.call(K,$e)&&!D.hasOwnProperty($e)&&(Se[$e]=K[$e]===void 0&&je!==void 0?je[$e]:K[$e])}var $e=arguments.length-2;if($e===1)Se.children=de;else if(1<$e){je=Array($e);for(var vt=0;vt<$e;vt++)je[vt]=arguments[vt+2];Se.children=je}return{$$typeof:i,type:O.type,key:Ae,ref:xe,props:Se,_owner:Fe}},Re.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:u,_context:O},O.Consumer=O},Re.createElement=I,Re.createFactory=function(O){var K=I.bind(null,O);return K.type=O,K},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:d,render:O}},Re.isValidElement=x,Re.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:Je}},Re.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},Re.startTransition=function(O){var K=ne.transition;ne.transition={};try{O()}finally{ne.transition=K}},Re.unstable_act=se,Re.useCallback=function(O,K){return be.current.useCallback(O,K)},Re.useContext=function(O){return be.current.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O){return be.current.useDeferredValue(O)},Re.useEffect=function(O,K){return be.current.useEffect(O,K)},Re.useId=function(){return be.current.useId()},Re.useImperativeHandle=function(O,K,de){return be.current.useImperativeHandle(O,K,de)},Re.useInsertionEffect=function(O,K){return be.current.useInsertionEffect(O,K)},Re.useLayoutEffect=function(O,K){return be.current.useLayoutEffect(O,K)},Re.useMemo=function(O,K){return be.current.useMemo(O,K)},Re.useReducer=function(O,K,de){return be.current.useReducer(O,K,de)},Re.useRef=function(O){return be.current.useRef(O)},Re.useState=function(O){return be.current.useState(O)},Re.useSyncExternalStore=function(O,K,de){return be.current.useSyncExternalStore(O,K,de)},Re.useTransition=function(){return be.current.useTransition()},Re.version="18.3.1",Re}var wm;function Pf(){return wm||(wm=1,kh.exports=K_()),kh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function Q_(){if(Tm)return aa;Tm=1;var i=Pf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(d,m,y){var E,T={},C=null,V=null;y!==void 0&&(C=""+y),m.key!==void 0&&(C=""+m.key),m.ref!==void 0&&(V=m.ref);for(E in m)s.call(m,E)&&!u.hasOwnProperty(E)&&(T[E]=m[E]);if(d&&d.defaultProps)for(E in m=d.defaultProps,m)T[E]===void 0&&(T[E]=m[E]);return{$$typeof:e,type:d,key:C,ref:V,props:T,_owner:a.current}}return aa.Fragment=n,aa.jsx=h,aa.jsxs=h,aa}var Im;function G_(){return Im||(Im=1,Ph.exports=Q_()),Ph.exports}var b=G_(),U=Pf();const _r=Nu(U);var nu={},xh={exports:{}},Gt={},Nh={exports:{}},Dh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function Y_(){return Sm||(Sm=1,(function(i){function e(ne,pe){var se=ne.length;ne.push(pe);e:for(;0<se;){var O=se-1>>>1,K=ne[O];if(0<a(K,pe))ne[O]=pe,ne[se]=K,se=O;else break e}}function n(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var pe=ne[0],se=ne.pop();if(se!==pe){ne[0]=se;e:for(var O=0,K=ne.length,de=K>>>1;O<de;){var Se=2*(O+1)-1,Ae=ne[Se],xe=Se+1,Fe=ne[xe];if(0>a(Ae,se))xe<K&&0>a(Fe,Ae)?(ne[O]=Fe,ne[xe]=se,O=xe):(ne[O]=Ae,ne[Se]=se,O=Se);else if(xe<K&&0>a(Fe,se))ne[O]=Fe,ne[xe]=se,O=xe;else break e}}return pe}function a(ne,pe){var se=ne.sortIndex-pe.sortIndex;return se!==0?se:ne.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var m=[],y=[],E=1,T=null,C=3,V=!1,$=!1,q=!1,M=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(ne){for(var pe=n(y);pe!==null;){if(pe.callback===null)s(y);else if(pe.startTime<=ne)s(y),pe.sortIndex=pe.expirationTime,e(m,pe);else break;pe=n(y)}}function ue(ne){if(q=!1,Q(ne),!$)if(n(m)!==null)$=!0,Je(Ie);else{var pe=n(y);pe!==null&&be(ue,pe.startTime-ne)}}function Ie(ne,pe){$=!1,q&&(q=!1,G(I),I=-1),V=!0;var se=C;try{for(Q(pe),T=n(m);T!==null&&(!(T.expirationTime>pe)||ne&&!R());){var O=T.callback;if(typeof O=="function"){T.callback=null,C=T.priorityLevel;var K=O(T.expirationTime<=pe);pe=i.unstable_now(),typeof K=="function"?T.callback=K:T===n(m)&&s(m),Q(pe)}else s(m);T=n(m)}if(T!==null)var de=!0;else{var Se=n(y);Se!==null&&be(ue,Se.startTime-pe),de=!1}return de}finally{T=null,C=se,V=!1}}var Te=!1,D=null,I=-1,P=5,x=-1;function R(){return!(i.unstable_now()-x<P)}function N(){if(D!==null){var ne=i.unstable_now();x=ne;var pe=!0;try{pe=D(!0,ne)}finally{pe?A():(Te=!1,D=null)}}else Te=!1}var A;if(typeof re=="function")A=function(){re(N)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,Qe=Me.port2;Me.port1.onmessage=N,A=function(){Qe.postMessage(null)}}else A=function(){M(N,0)};function Je(ne){D=ne,Te||(Te=!0,A())}function be(ne,pe){I=M(function(){ne(i.unstable_now())},pe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ne){ne.callback=null},i.unstable_continueExecution=function(){$||V||($=!0,Je(Ie))},i.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ne?Math.floor(1e3/ne):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_getFirstCallbackNode=function(){return n(m)},i.unstable_next=function(ne){switch(C){case 1:case 2:case 3:var pe=3;break;default:pe=C}var se=C;C=pe;try{return ne()}finally{C=se}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var se=C;C=ne;try{return pe()}finally{C=se}},i.unstable_scheduleCallback=function(ne,pe,se){var O=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?O+se:O):se=O,ne){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=se+K,ne={id:E++,callback:pe,priorityLevel:ne,startTime:se,expirationTime:K,sortIndex:-1},se>O?(ne.sortIndex=se,e(y,ne),n(m)===null&&ne===n(y)&&(q?(G(I),I=-1):q=!0,be(ue,se-O))):(ne.sortIndex=K,e(m,ne),$||V||($=!0,Je(Ie))),ne},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(ne){var pe=C;return function(){var se=C;C=pe;try{return ne.apply(this,arguments)}finally{C=se}}}})(Dh)),Dh}var Am;function X_(){return Am||(Am=1,Nh.exports=Y_()),Nh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function J_(){if(Rm)return Gt;Rm=1;var i=Pf(),e=X_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function C(t){return m.call(T,t)?!0:m.call(E,t)?!1:y.test(t)?T[t]=!0:(E[t]=!0,!1)}function V(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $(t,r,o,c){if(r===null||typeof r>"u"||V(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function q(t,r,o,c,f,g,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=g,this.removeEmptyString=_}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){M[t]=new q(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];M[r]=new q(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){M[t]=new q(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){M[t]=new q(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){M[t]=new q(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){M[t]=new q(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){M[t]=new q(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){M[t]=new q(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){M[t]=new q(t,5,!1,t.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function re(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(G,re);M[r]=new q(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(G,re);M[r]=new q(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(G,re);M[r]=new q(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){M[t]=new q(t,1,!1,t.toLowerCase(),null,!1,!1)}),M.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){M[t]=new q(t,1,!1,t.toLowerCase(),null,!0,!0)});function Q(t,r,o,c){var f=M.hasOwnProperty(r)?M[r]:null;(f!==null?f.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&($(r,o,f,c)&&(o=null),c||f===null?C(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,c=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var ue=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ie=Symbol.for("react.element"),Te=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),R=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),Qe=Symbol.for("react.memo"),Je=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),ne=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=ne&&t[ne]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,O;function K(t){if(O===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+t}var de=!1;function Se(t,r){if(!t||de)return"";de=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(B){var c=B}Reflect.construct(t,[],r)}else{try{r.call()}catch(B){c=B}t.call(r.prototype)}else{try{throw Error()}catch(B){c=B}t()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var f=B.stack.split(`
`),g=c.stack.split(`
`),_=f.length-1,S=g.length-1;1<=_&&0<=S&&f[_]!==g[S];)S--;for(;1<=_&&0<=S;_--,S--)if(f[_]!==g[S]){if(_!==1||S!==1)do if(_--,S--,0>S||f[_]!==g[S]){var k=`
`+f[_].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=_&&0<=S);break}}}finally{de=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?K(t):""}function Ae(t){switch(t.tag){case 5:return K(t.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return t=Se(t.type,!1),t;case 11:return t=Se(t.type.render,!1),t;case 1:return t=Se(t.type,!0),t;default:return""}}function xe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case Te:return"Portal";case P:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case Me:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R:return(t.displayName||"Context")+".Consumer";case x:return(t._context.displayName||"Context")+".Provider";case N:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qe:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case Je:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}function Fe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function je(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $e(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function vt(t){var r=$e(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,g.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function er(t){t._valueTracker||(t._valueTracker=vt(t))}function Xi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=$e(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function Cr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pi(t,r){var o=r.checked;return se({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Ji(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=je(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function fo(t,r){r=r.checked,r!=null&&Q(t,"checked",r,!1)}function po(t,r){fo(t,r);var o=je(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Zi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Zi(t,r.type,je(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ua(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Zi(t,r,o){(r!=="number"||Cr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var tr=Array.isArray;function nr(t,r,o,c){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&c&&(t[o].defaultSelected=!0)}else{for(o=""+je(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function mo(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function es(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(tr(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:je(o)}}function ts(t,r){var o=je(r.value),c=je(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function go(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ct(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ct(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rr,yo=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,f)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=rr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Pr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gi=["Webkit","ms","Moz","O"];Object.keys(mi).forEach(function(t){gi.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),mi[r]=mi[t]})});function vo(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||mi.hasOwnProperty(t)&&mi[t]?(""+r).trim():r+"px"}function _o(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,f=vo(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,f):t[o]=f}}var Eo=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wo(t,r){if(r){if(Eo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function To(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yi=null;function ns(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rs=null,ln=null,Fn=null;function is(t){if(t=Wo(t)){if(typeof rs!="function")throw Error(n(280));var r=t.stateNode;r&&(r=yl(r),rs(t.stateNode,t.type,r))}}function jn(t){ln?Fn?Fn.push(t):Fn=[t]:ln=t}function Io(){if(ln){var t=ln,r=Fn;if(Fn=ln=null,is(t),r)for(t=0;t<r.length;t++)is(r[t])}}function vi(t,r){return t(r)}function So(){}var ir=!1;function Ao(t,r,o){if(ir)return t(r,o);ir=!0;try{return vi(t,r,o)}finally{ir=!1,(ln!==null||Fn!==null)&&(So(),Io())}}function it(t,r){var o=t.stateNode;if(o===null)return null;var c=yl(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ss=!1;if(d)try{var En={};Object.defineProperty(En,"passive",{get:function(){ss=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{ss=!1}function _i(t,r,o,c,f,g,_,S,k){var B=Array.prototype.slice.call(arguments,3);try{r.apply(o,B)}catch(X){this.onError(X)}}var Ei=!1,os=null,wn=!1,Ro=null,nc={onError:function(t){Ei=!0,os=t}};function as(t,r,o,c,f,g,_,S,k){Ei=!1,os=null,_i.apply(nc,arguments)}function Ba(t,r,o,c,f,g,_,S,k){if(as.apply(this,arguments),Ei){if(Ei){var B=os;Ei=!1,os=null}else throw Error(n(198));wn||(wn=!0,Ro=B)}}function Tn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function wi(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function In(t){if(Tn(t)!==t)throw Error(n(188))}function $a(t){var r=t.alternate;if(!r){if(r=Tn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,c=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return In(f),t;if(g===c)return In(f),r;g=g.sibling}throw Error(n(188))}if(o.return!==c.return)o=f,c=g;else{for(var _=!1,S=f.child;S;){if(S===o){_=!0,o=f,c=g;break}if(S===c){_=!0,c=f,o=g;break}S=S.sibling}if(!_){for(S=g.child;S;){if(S===o){_=!0,o=g,c=f;break}if(S===c){_=!0,c=g,o=f;break}S=S.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function Co(t){return t=$a(t),t!==null?ls(t):null}function ls(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=ls(t);if(r!==null)return r;t=t.sibling}return null}var us=e.unstable_scheduleCallback,Po=e.unstable_cancelCallback,Ha=e.unstable_shouldYield,rc=e.unstable_requestPaint,He=e.unstable_now,qa=e.unstable_getCurrentPriorityLevel,Ti=e.unstable_ImmediatePriority,kr=e.unstable_UserBlockingPriority,un=e.unstable_NormalPriority,ko=e.unstable_LowPriority,Wa=e.unstable_IdlePriority,Ii=null,Jt=null;function Ka(t){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Ii,t,void 0,(t.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Ga,xo=Math.log,Qa=Math.LN2;function Ga(t){return t>>>=0,t===0?32:31-(xo(t)/Qa|0)|0}var cs=64,hs=4194304;function xr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Si(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes,_=o&268435455;if(_!==0){var S=_&~f;S!==0?c=xr(S):(g&=_,g!==0&&(c=xr(g)))}else _=o&~f,_!==0?c=xr(_):g!==0&&(c=xr(g));if(c===0)return 0;if(r!==0&&r!==c&&(r&f)===0&&(f=c&-c,g=r&-r,f>=g||f===16&&(g&4194240)!==0))return r;if((c&4)!==0&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-jt(r),f=1<<o,c|=t[o],r&=~f;return c}function ic(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sr(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes;0<g;){var _=31-jt(g),S=1<<_,k=f[_];k===-1?((S&o)===0||(S&c)!==0)&&(f[_]=ic(S,r)):k<=r&&(t.expiredLanes|=S),g&=~S}}function Zt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ai(){var t=cs;return cs<<=1,(cs&4194240)===0&&(cs=64),t}function Nr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Dr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-jt(r),t[r]=o}function Be(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-jt(o),g=1<<f;r[f]=0,c[f]=-1,t[f]=-1,o&=~g}}function Vr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-jt(o),f=1<<c;f&r|t[c]&r&&(t[c]|=r),o&=~f}}var Pe=0;function Lr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Ya,fs,Xa,Ja,Za,No=!1,bn=[],St=null,Sn=null,An=null,Or=new Map,cn=new Map,zn=[],sc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function el(t,r){switch(t){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Or.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cn.delete(r.pointerId)}}function Bt(t,r,o,c,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},r!==null&&(r=Wo(r),r!==null&&fs(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function oc(t,r,o,c,f){switch(r){case"focusin":return St=Bt(St,t,r,o,c,f),!0;case"dragenter":return Sn=Bt(Sn,t,r,o,c,f),!0;case"mouseover":return An=Bt(An,t,r,o,c,f),!0;case"pointerover":var g=f.pointerId;return Or.set(g,Bt(Or.get(g)||null,t,r,o,c,f)),!0;case"gotpointercapture":return g=f.pointerId,cn.set(g,Bt(cn.get(g)||null,t,r,o,c,f)),!0}return!1}function tl(t){var r=xi(t.target);if(r!==null){var o=Tn(r);if(o!==null){if(r=o.tag,r===13){if(r=wi(o),r!==null){t.blockedOn=r,Za(t.priority,function(){Xa(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function or(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=ds(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);yi=c,o.target.dispatchEvent(c),yi=null}else return r=Wo(o),r!==null&&fs(r),t.blockedOn=o,!1;r.shift()}return!0}function Ri(t,r,o){or(t)&&o.delete(r)}function nl(){No=!1,St!==null&&or(St)&&(St=null),Sn!==null&&or(Sn)&&(Sn=null),An!==null&&or(An)&&(An=null),Or.forEach(Ri),cn.forEach(Ri)}function Rn(t,r){t.blockedOn===r&&(t.blockedOn=null,No||(No=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nl)))}function Cn(t){function r(f){return Rn(f,t)}if(0<bn.length){Rn(bn[0],t);for(var o=1;o<bn.length;o++){var c=bn[o];c.blockedOn===t&&(c.blockedOn=null)}}for(St!==null&&Rn(St,t),Sn!==null&&Rn(Sn,t),An!==null&&Rn(An,t),Or.forEach(r),cn.forEach(r),o=0;o<zn.length;o++)c=zn[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<zn.length&&(o=zn[0],o.blockedOn===null);)tl(o),o.blockedOn===null&&zn.shift()}var ar=ue.ReactCurrentBatchConfig,Mr=!0;function Ge(t,r,o,c){var f=Pe,g=ar.transition;ar.transition=null;try{Pe=1,Do(t,r,o,c)}finally{Pe=f,ar.transition=g}}function ac(t,r,o,c){var f=Pe,g=ar.transition;ar.transition=null;try{Pe=4,Do(t,r,o,c)}finally{Pe=f,ar.transition=g}}function Do(t,r,o,c){if(Mr){var f=ds(t,r,o,c);if(f===null)vc(t,r,c,Ci,o),el(t,c);else if(oc(f,t,r,o,c))c.stopPropagation();else if(el(t,c),r&4&&-1<sc.indexOf(t)){for(;f!==null;){var g=Wo(f);if(g!==null&&Ya(g),g=ds(t,r,o,c),g===null&&vc(t,r,c,Ci,o),g===f)break;f=g}f!==null&&c.stopPropagation()}else vc(t,r,c,null,o)}}var Ci=null;function ds(t,r,o,c){if(Ci=null,t=ns(c),t=xi(t),t!==null)if(r=Tn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=wi(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Ci=t,null}function Vo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qa()){case Ti:return 1;case kr:return 4;case un:case ko:return 16;case Wa:return 536870912;default:return 16}default:return 16}}var en=null,ps=null,$t=null;function Lo(){if($t)return $t;var t,r=ps,o=r.length,c,f="value"in en?en.value:en.textContent,g=f.length;for(t=0;t<o&&r[t]===f[t];t++);var _=o-t;for(c=1;c<=_&&r[o-c]===f[g-c];c++);return $t=f.slice(t,1<c?1-c:void 0)}function ms(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Un(){return!0}function Oo(){return!1}function At(t){function r(o,c,f,g,_){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Un:Oo,this.isPropagationStopped=Oo,this}return se(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Un)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Un)},persist:function(){},isPersistent:Un}),r}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gs=At(Pn),Bn=se({},Pn,{view:0,detail:0}),lc=At(Bn),ys,lr,Fr,Pi=se({},Bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$n,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fr&&(Fr&&t.type==="mousemove"?(ys=t.screenX-Fr.screenX,lr=t.screenY-Fr.screenY):lr=ys=0,Fr=t),ys)},movementY:function(t){return"movementY"in t?t.movementY:lr}}),vs=At(Pi),Mo=se({},Pi,{dataTransfer:0}),rl=At(Mo),_s=se({},Bn,{relatedTarget:0}),Es=At(_s),il=se({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),ur=At(il),sl=se({},Pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ol=At(sl),al=se({},Pn,{data:0}),Fo=At(al),ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ll={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ll[t])?!!r[t]:!1}function $n(){return ul}var l=se({},Bn,{key:function(t){if(t.key){var r=ws[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$n,charCode:function(t){return t.type==="keypress"?ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p=At(l),v=se({},Pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=At(v),F=se({},Bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$n}),H=At(F),te=se({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=At(te),ft=se({},Pi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=At(ft),_t=[9,13,27,32],at=d&&"CompositionEvent"in window,hn=null;d&&"documentMode"in document&&(hn=document.documentMode);var tn=d&&"TextEvent"in window&&!hn,ki=d&&(!at||hn&&8<hn&&11>=hn),Ts=" ",pd=!1;function md(t,r){switch(t){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function Bv(t,r){switch(t){case"compositionend":return gd(r);case"keypress":return r.which!==32?null:(pd=!0,Ts);case"textInput":return t=r.data,t===Ts&&pd?null:t;default:return null}}function $v(t,r){if(Is)return t==="compositionend"||!at&&md(t,r)?(t=Lo(),$t=ps=en=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ki&&r.locale!=="ko"?null:r.data;default:return null}}var Hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Hv[t.type]:r==="textarea"}function vd(t,r,o,c){jn(c),r=pl(r,"onChange"),0<r.length&&(o=new gs("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var jo=null,bo=null;function qv(t){Md(t,0)}function cl(t){var r=Ps(t);if(Xi(r))return t}function Wv(t,r){if(t==="change")return r}var _d=!1;if(d){var uc;if(d){var cc="oninput"in document;if(!cc){var Ed=document.createElement("div");Ed.setAttribute("oninput","return;"),cc=typeof Ed.oninput=="function"}uc=cc}else uc=!1;_d=uc&&(!document.documentMode||9<document.documentMode)}function wd(){jo&&(jo.detachEvent("onpropertychange",Td),bo=jo=null)}function Td(t){if(t.propertyName==="value"&&cl(bo)){var r=[];vd(r,bo,t,ns(t)),Ao(qv,r)}}function Kv(t,r,o){t==="focusin"?(wd(),jo=r,bo=o,jo.attachEvent("onpropertychange",Td)):t==="focusout"&&wd()}function Qv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cl(bo)}function Gv(t,r){if(t==="click")return cl(r)}function Yv(t,r){if(t==="input"||t==="change")return cl(r)}function Xv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var kn=typeof Object.is=="function"?Object.is:Xv;function zo(t,r){if(kn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!m.call(r,f)||!kn(t[f],r[f]))return!1}return!0}function Id(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sd(t,r){var o=Id(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Id(o)}}function Ad(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Ad(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Rd(){for(var t=window,r=Cr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Cr(t.document)}return r}function hc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Jv(t){var r=Rd(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Ad(o.ownerDocument.documentElement,o)){if(c!==null&&hc(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!t.extend&&g>c&&(f=c,c=g,g=f),f=Sd(o,g);var _=Sd(o,c);f&&_&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),g>c?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zv=d&&"documentMode"in document&&11>=document.documentMode,Ss=null,fc=null,Uo=null,dc=!1;function Cd(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dc||Ss==null||Ss!==Cr(c)||(c=Ss,"selectionStart"in c&&hc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Uo&&zo(Uo,c)||(Uo=c,c=pl(fc,"onSelect"),0<c.length&&(r=new gs("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=Ss)))}function hl(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var As={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionend:hl("Transition","TransitionEnd")},pc={},Pd={};d&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function fl(t){if(pc[t])return pc[t];if(!As[t])return t;var r=As[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Pd)return pc[t]=r[o];return t}var kd=fl("animationend"),xd=fl("animationiteration"),Nd=fl("animationstart"),Dd=fl("transitionend"),Vd=new Map,Ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(t,r){Vd.set(t,r),u(r,[t])}for(var mc=0;mc<Ld.length;mc++){var gc=Ld[mc],e_=gc.toLowerCase(),t_=gc[0].toUpperCase()+gc.slice(1);jr(e_,"on"+t_)}jr(kd,"onAnimationEnd"),jr(xd,"onAnimationIteration"),jr(Nd,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Dd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function Od(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,Ba(c,r,void 0,t),t.currentTarget=null}function Md(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],f=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var _=c.length-1;0<=_;_--){var S=c[_],k=S.instance,B=S.currentTarget;if(S=S.listener,k!==g&&f.isPropagationStopped())break e;Od(f,S,B),g=k}else for(_=0;_<c.length;_++){if(S=c[_],k=S.instance,B=S.currentTarget,S=S.listener,k!==g&&f.isPropagationStopped())break e;Od(f,S,B),g=k}}}if(wn)throw t=Ro,wn=!1,Ro=null,t}function We(t,r){var o=r[Sc];o===void 0&&(o=r[Sc]=new Set);var c=t+"__bubble";o.has(c)||(Fd(r,t,2,!1),o.add(c))}function yc(t,r,o){var c=0;r&&(c|=4),Fd(o,t,c,r)}var dl="_reactListening"+Math.random().toString(36).slice(2);function $o(t){if(!t[dl]){t[dl]=!0,s.forEach(function(o){o!=="selectionchange"&&(n_.has(o)||yc(o,!1,t),yc(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[dl]||(r[dl]=!0,yc("selectionchange",!1,r))}}function Fd(t,r,o,c){switch(Vo(r)){case 1:var f=Ge;break;case 4:f=ac;break;default:f=Do}o=f.bind(null,r,o,t),f=void 0,!ss||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function vc(t,r,o,c,f){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var S=c.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var k=_.tag;if((k===3||k===4)&&(k=_.stateNode.containerInfo,k===f||k.nodeType===8&&k.parentNode===f))return;_=_.return}for(;S!==null;){if(_=xi(S),_===null)return;if(k=_.tag,k===5||k===6){c=g=_;continue e}S=S.parentNode}}c=c.return}Ao(function(){var B=g,X=ns(o),Z=[];e:{var Y=Vd.get(t);if(Y!==void 0){var ie=gs,le=t;switch(t){case"keypress":if(ms(o)===0)break e;case"keydown":case"keyup":ie=p;break;case"focusin":le="focus",ie=Es;break;case"focusout":le="blur",ie=Es;break;case"beforeblur":case"afterblur":ie=Es;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=rl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=H;break;case kd:case xd:case Nd:ie=ur;break;case Dd:ie=Ue;break;case"scroll":ie=lc;break;case"wheel":ie=Ne;break;case"copy":case"cut":case"paste":ie=ol;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=w}var ce=(r&4)!==0,st=!ce&&t==="scroll",j=ce?Y!==null?Y+"Capture":null:Y;ce=[];for(var L=B,z;L!==null;){z=L;var ee=z.stateNode;if(z.tag===5&&ee!==null&&(z=ee,j!==null&&(ee=it(L,j),ee!=null&&ce.push(Ho(L,ee,z)))),st)break;L=L.return}0<ce.length&&(Y=new ie(Y,le,null,o,X),Z.push({event:Y,listeners:ce}))}}if((r&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",Y&&o!==yi&&(le=o.relatedTarget||o.fromElement)&&(xi(le)||le[cr]))break e;if((ie||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,ie?(le=o.relatedTarget||o.toElement,ie=B,le=le?xi(le):null,le!==null&&(st=Tn(le),le!==st||le.tag!==5&&le.tag!==6)&&(le=null)):(ie=null,le=B),ie!==le)){if(ce=vs,ee="onMouseLeave",j="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(ce=w,ee="onPointerLeave",j="onPointerEnter",L="pointer"),st=ie==null?Y:Ps(ie),z=le==null?Y:Ps(le),Y=new ce(ee,L+"leave",ie,o,X),Y.target=st,Y.relatedTarget=z,ee=null,xi(X)===B&&(ce=new ce(j,L+"enter",le,o,X),ce.target=z,ce.relatedTarget=st,ee=ce),st=ee,ie&&le)t:{for(ce=ie,j=le,L=0,z=ce;z;z=Rs(z))L++;for(z=0,ee=j;ee;ee=Rs(ee))z++;for(;0<L-z;)ce=Rs(ce),L--;for(;0<z-L;)j=Rs(j),z--;for(;L--;){if(ce===j||j!==null&&ce===j.alternate)break t;ce=Rs(ce),j=Rs(j)}ce=null}else ce=null;ie!==null&&jd(Z,Y,ie,ce,!1),le!==null&&st!==null&&jd(Z,st,le,ce,!0)}}e:{if(Y=B?Ps(B):window,ie=Y.nodeName&&Y.nodeName.toLowerCase(),ie==="select"||ie==="input"&&Y.type==="file")var he=Wv;else if(yd(Y))if(_d)he=Yv;else{he=Qv;var me=Kv}else(ie=Y.nodeName)&&ie.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(he=Gv);if(he&&(he=he(t,B))){vd(Z,he,o,X);break e}me&&me(t,Y,B),t==="focusout"&&(me=Y._wrapperState)&&me.controlled&&Y.type==="number"&&Zi(Y,"number",Y.value)}switch(me=B?Ps(B):window,t){case"focusin":(yd(me)||me.contentEditable==="true")&&(Ss=me,fc=B,Uo=null);break;case"focusout":Uo=fc=Ss=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,Cd(Z,o,X);break;case"selectionchange":if(Zv)break;case"keydown":case"keyup":Cd(Z,o,X)}var ge;if(at)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Is?md(t,o)&&(ve="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(ki&&o.locale!=="ko"&&(Is||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Is&&(ge=Lo()):(en=X,ps="value"in en?en.value:en.textContent,Is=!0)),me=pl(B,ve),0<me.length&&(ve=new Fo(ve,t,null,o,X),Z.push({event:ve,listeners:me}),ge?ve.data=ge:(ge=gd(o),ge!==null&&(ve.data=ge)))),(ge=tn?Bv(t,o):$v(t,o))&&(B=pl(B,"onBeforeInput"),0<B.length&&(X=new Fo("onBeforeInput","beforeinput",null,o,X),Z.push({event:X,listeners:B}),X.data=ge))}Md(Z,r)})}function Ho(t,r,o){return{instance:t,listener:r,currentTarget:o}}function pl(t,r){for(var o=r+"Capture",c=[];t!==null;){var f=t,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=it(t,o),g!=null&&c.unshift(Ho(t,g,f)),g=it(t,r),g!=null&&c.push(Ho(t,g,f))),t=t.return}return c}function Rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jd(t,r,o,c,f){for(var g=r._reactName,_=[];o!==null&&o!==c;){var S=o,k=S.alternate,B=S.stateNode;if(k!==null&&k===c)break;S.tag===5&&B!==null&&(S=B,f?(k=it(o,g),k!=null&&_.unshift(Ho(o,k,S))):f||(k=it(o,g),k!=null&&_.push(Ho(o,k,S)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var r_=/\r\n?/g,i_=/\u0000|\uFFFD/g;function bd(t){return(typeof t=="string"?t:""+t).replace(r_,`
`).replace(i_,"")}function ml(t,r,o){if(r=bd(r),bd(t)!==r&&o)throw Error(n(425))}function gl(){}var _c=null,Ec=null;function wc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Tc=typeof setTimeout=="function"?setTimeout:void 0,s_=typeof clearTimeout=="function"?clearTimeout:void 0,zd=typeof Promise=="function"?Promise:void 0,o_=typeof queueMicrotask=="function"?queueMicrotask:typeof zd<"u"?function(t){return zd.resolve(null).then(t).catch(a_)}:Tc;function a_(t){setTimeout(function(){throw t})}function Ic(t,r){var o=r,c=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){t.removeChild(f),Cn(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);Cn(r)}function br(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Ud(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Cs=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Cs,qo="__reactProps$"+Cs,cr="__reactContainer$"+Cs,Sc="__reactEvents$"+Cs,l_="__reactListeners$"+Cs,u_="__reactHandles$"+Cs;function xi(t){var r=t[Hn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[cr]||o[Hn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Ud(t);t!==null;){if(o=t[Hn])return o;t=Ud(t)}return r}t=o,o=t.parentNode}return null}function Wo(t){return t=t[Hn]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ps(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function yl(t){return t[qo]||null}var Ac=[],ks=-1;function zr(t){return{current:t}}function Ke(t){0>ks||(t.current=Ac[ks],Ac[ks]=null,ks--)}function qe(t,r){ks++,Ac[ks]=t.current,t.current=r}var Ur={},Nt=zr(Ur),Ht=zr(!1),Ni=Ur;function xs(t,r){var o=t.type.contextTypes;if(!o)return Ur;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in o)f[g]=r[g];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function qt(t){return t=t.childContextTypes,t!=null}function vl(){Ke(Ht),Ke(Nt)}function Bd(t,r,o){if(Nt.current!==Ur)throw Error(n(168));qe(Nt,r),qe(Ht,o)}function $d(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var f in c)if(!(f in r))throw Error(n(108,Fe(t)||"Unknown",f));return se({},o,c)}function _l(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,Ni=Nt.current,qe(Nt,t),qe(Ht,Ht.current),!0}function Hd(t,r,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=$d(t,r,Ni),c.__reactInternalMemoizedMergedChildContext=t,Ke(Ht),Ke(Nt),qe(Nt,t)):Ke(Ht),qe(Ht,o)}var hr=null,El=!1,Rc=!1;function qd(t){hr===null?hr=[t]:hr.push(t)}function c_(t){El=!0,qd(t)}function Br(){if(!Rc&&hr!==null){Rc=!0;var t=0,r=Pe;try{var o=hr;for(Pe=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}hr=null,El=!1}catch(f){throw hr!==null&&(hr=hr.slice(t+1)),us(Ti,Br),f}finally{Pe=r,Rc=!1}}return null}var Ns=[],Ds=0,wl=null,Tl=0,fn=[],dn=0,Di=null,fr=1,dr="";function Vi(t,r){Ns[Ds++]=Tl,Ns[Ds++]=wl,wl=t,Tl=r}function Wd(t,r,o){fn[dn++]=fr,fn[dn++]=dr,fn[dn++]=Di,Di=t;var c=fr;t=dr;var f=32-jt(c)-1;c&=~(1<<f),o+=1;var g=32-jt(r)+f;if(30<g){var _=f-f%5;g=(c&(1<<_)-1).toString(32),c>>=_,f-=_,fr=1<<32-jt(r)+f|o<<f|c,dr=g+t}else fr=1<<g|o<<f|c,dr=t}function Cc(t){t.return!==null&&(Vi(t,1),Wd(t,1,0))}function Pc(t){for(;t===wl;)wl=Ns[--Ds],Ns[Ds]=null,Tl=Ns[--Ds],Ns[Ds]=null;for(;t===Di;)Di=fn[--dn],fn[dn]=null,dr=fn[--dn],fn[dn]=null,fr=fn[--dn],fn[dn]=null}var nn=null,rn=null,Ye=!1,xn=null;function Kd(t,r){var o=yn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Qd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,nn=t,rn=br(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,nn=t,rn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Di!==null?{id:fr,overflow:dr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=yn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,nn=t,rn=null,!0):!1;default:return!1}}function kc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xc(t){if(Ye){var r=rn;if(r){var o=r;if(!Qd(t,r)){if(kc(t))throw Error(n(418));r=br(o.nextSibling);var c=nn;r&&Qd(t,r)?Kd(c,o):(t.flags=t.flags&-4097|2,Ye=!1,nn=t)}}else{if(kc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ye=!1,nn=t}}}function Gd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function Il(t){if(t!==nn)return!1;if(!Ye)return Gd(t),Ye=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!wc(t.type,t.memoizedProps)),r&&(r=rn)){if(kc(t))throw Yd(),Error(n(418));for(;r;)Kd(t,r),r=br(r.nextSibling)}if(Gd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){rn=br(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}rn=null}}else rn=nn?br(t.stateNode.nextSibling):null;return!0}function Yd(){for(var t=rn;t;)t=br(t.nextSibling)}function Vs(){rn=nn=null,Ye=!1}function Nc(t){xn===null?xn=[t]:xn.push(t)}var h_=ue.ReactCurrentBatchConfig;function Ko(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var f=c,g=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===g?r.ref:(r=function(_){var S=f.refs;_===null?delete S[g]:S[g]=_},r._stringRef=g,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Sl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Xd(t){var r=t._init;return r(t._payload)}function Jd(t){function r(j,L){if(t){var z=j.deletions;z===null?(j.deletions=[L],j.flags|=16):z.push(L)}}function o(j,L){if(!t)return null;for(;L!==null;)r(j,L),L=L.sibling;return null}function c(j,L){for(j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function f(j,L){return j=Yr(j,L),j.index=0,j.sibling=null,j}function g(j,L,z){return j.index=z,t?(z=j.alternate,z!==null?(z=z.index,z<L?(j.flags|=2,L):z):(j.flags|=2,L)):(j.flags|=1048576,L)}function _(j){return t&&j.alternate===null&&(j.flags|=2),j}function S(j,L,z,ee){return L===null||L.tag!==6?(L=Th(z,j.mode,ee),L.return=j,L):(L=f(L,z),L.return=j,L)}function k(j,L,z,ee){var he=z.type;return he===D?X(j,L,z.props.children,ee,z.key):L!==null&&(L.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Je&&Xd(he)===L.type)?(ee=f(L,z.props),ee.ref=Ko(j,L,z),ee.return=j,ee):(ee=Ql(z.type,z.key,z.props,null,j.mode,ee),ee.ref=Ko(j,L,z),ee.return=j,ee)}function B(j,L,z,ee){return L===null||L.tag!==4||L.stateNode.containerInfo!==z.containerInfo||L.stateNode.implementation!==z.implementation?(L=Ih(z,j.mode,ee),L.return=j,L):(L=f(L,z.children||[]),L.return=j,L)}function X(j,L,z,ee,he){return L===null||L.tag!==7?(L=Ui(z,j.mode,ee,he),L.return=j,L):(L=f(L,z),L.return=j,L)}function Z(j,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Th(""+L,j.mode,z),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Ie:return z=Ql(L.type,L.key,L.props,null,j.mode,z),z.ref=Ko(j,null,L),z.return=j,z;case Te:return L=Ih(L,j.mode,z),L.return=j,L;case Je:var ee=L._init;return Z(j,ee(L._payload),z)}if(tr(L)||pe(L))return L=Ui(L,j.mode,z,null),L.return=j,L;Sl(j,L)}return null}function Y(j,L,z,ee){var he=L!==null?L.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return he!==null?null:S(j,L,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Ie:return z.key===he?k(j,L,z,ee):null;case Te:return z.key===he?B(j,L,z,ee):null;case Je:return he=z._init,Y(j,L,he(z._payload),ee)}if(tr(z)||pe(z))return he!==null?null:X(j,L,z,ee,null);Sl(j,z)}return null}function ie(j,L,z,ee,he){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return j=j.get(z)||null,S(L,j,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Ie:return j=j.get(ee.key===null?z:ee.key)||null,k(L,j,ee,he);case Te:return j=j.get(ee.key===null?z:ee.key)||null,B(L,j,ee,he);case Je:var me=ee._init;return ie(j,L,z,me(ee._payload),he)}if(tr(ee)||pe(ee))return j=j.get(z)||null,X(L,j,ee,he,null);Sl(L,ee)}return null}function le(j,L,z,ee){for(var he=null,me=null,ge=L,ve=L=0,Tt=null;ge!==null&&ve<z.length;ve++){ge.index>ve?(Tt=ge,ge=null):Tt=ge.sibling;var Oe=Y(j,ge,z[ve],ee);if(Oe===null){ge===null&&(ge=Tt);break}t&&ge&&Oe.alternate===null&&r(j,ge),L=g(Oe,L,ve),me===null?he=Oe:me.sibling=Oe,me=Oe,ge=Tt}if(ve===z.length)return o(j,ge),Ye&&Vi(j,ve),he;if(ge===null){for(;ve<z.length;ve++)ge=Z(j,z[ve],ee),ge!==null&&(L=g(ge,L,ve),me===null?he=ge:me.sibling=ge,me=ge);return Ye&&Vi(j,ve),he}for(ge=c(j,ge);ve<z.length;ve++)Tt=ie(ge,j,ve,z[ve],ee),Tt!==null&&(t&&Tt.alternate!==null&&ge.delete(Tt.key===null?ve:Tt.key),L=g(Tt,L,ve),me===null?he=Tt:me.sibling=Tt,me=Tt);return t&&ge.forEach(function(Xr){return r(j,Xr)}),Ye&&Vi(j,ve),he}function ce(j,L,z,ee){var he=pe(z);if(typeof he!="function")throw Error(n(150));if(z=he.call(z),z==null)throw Error(n(151));for(var me=he=null,ge=L,ve=L=0,Tt=null,Oe=z.next();ge!==null&&!Oe.done;ve++,Oe=z.next()){ge.index>ve?(Tt=ge,ge=null):Tt=ge.sibling;var Xr=Y(j,ge,Oe.value,ee);if(Xr===null){ge===null&&(ge=Tt);break}t&&ge&&Xr.alternate===null&&r(j,ge),L=g(Xr,L,ve),me===null?he=Xr:me.sibling=Xr,me=Xr,ge=Tt}if(Oe.done)return o(j,ge),Ye&&Vi(j,ve),he;if(ge===null){for(;!Oe.done;ve++,Oe=z.next())Oe=Z(j,Oe.value,ee),Oe!==null&&(L=g(Oe,L,ve),me===null?he=Oe:me.sibling=Oe,me=Oe);return Ye&&Vi(j,ve),he}for(ge=c(j,ge);!Oe.done;ve++,Oe=z.next())Oe=ie(ge,j,ve,Oe.value,ee),Oe!==null&&(t&&Oe.alternate!==null&&ge.delete(Oe.key===null?ve:Oe.key),L=g(Oe,L,ve),me===null?he=Oe:me.sibling=Oe,me=Oe);return t&&ge.forEach(function(H_){return r(j,H_)}),Ye&&Vi(j,ve),he}function st(j,L,z,ee){if(typeof z=="object"&&z!==null&&z.type===D&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Ie:e:{for(var he=z.key,me=L;me!==null;){if(me.key===he){if(he=z.type,he===D){if(me.tag===7){o(j,me.sibling),L=f(me,z.props.children),L.return=j,j=L;break e}}else if(me.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Je&&Xd(he)===me.type){o(j,me.sibling),L=f(me,z.props),L.ref=Ko(j,me,z),L.return=j,j=L;break e}o(j,me);break}else r(j,me);me=me.sibling}z.type===D?(L=Ui(z.props.children,j.mode,ee,z.key),L.return=j,j=L):(ee=Ql(z.type,z.key,z.props,null,j.mode,ee),ee.ref=Ko(j,L,z),ee.return=j,j=ee)}return _(j);case Te:e:{for(me=z.key;L!==null;){if(L.key===me)if(L.tag===4&&L.stateNode.containerInfo===z.containerInfo&&L.stateNode.implementation===z.implementation){o(j,L.sibling),L=f(L,z.children||[]),L.return=j,j=L;break e}else{o(j,L);break}else r(j,L);L=L.sibling}L=Ih(z,j.mode,ee),L.return=j,j=L}return _(j);case Je:return me=z._init,st(j,L,me(z._payload),ee)}if(tr(z))return le(j,L,z,ee);if(pe(z))return ce(j,L,z,ee);Sl(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,L!==null&&L.tag===6?(o(j,L.sibling),L=f(L,z),L.return=j,j=L):(o(j,L),L=Th(z,j.mode,ee),L.return=j,j=L),_(j)):o(j,L)}return st}var Ls=Jd(!0),Zd=Jd(!1),Al=zr(null),Rl=null,Os=null,Dc=null;function Vc(){Dc=Os=Rl=null}function Lc(t){var r=Al.current;Ke(Al),t._currentValue=r}function Oc(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function Ms(t,r){Rl=t,Dc=Os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Wt=!0),t.firstContext=null)}function pn(t){var r=t._currentValue;if(Dc!==t)if(t={context:t,memoizedValue:r,next:null},Os===null){if(Rl===null)throw Error(n(308));Os=t,Rl.dependencies={lanes:0,firstContext:t}}else Os=Os.next=t;return r}var Li=null;function Mc(t){Li===null?Li=[t]:Li.push(t)}function ep(t,r,o,c){var f=r.interleaved;return f===null?(o.next=o,Mc(r)):(o.next=f.next,f.next=o),r.interleaved=o,pr(t,c)}function pr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var $r=!1;function Fc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tp(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Hr(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Le&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,pr(t,o)}return f=c.interleaved,f===null?(r.next=r,Mc(c)):(r.next=f.next,f.next=r),c.interleaved=r,pr(t,o)}function Cl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Vr(t,o)}}function np(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};g===null?f=g=_:g=g.next=_,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Pl(t,r,o,c){var f=t.updateQueue;$r=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var k=S,B=k.next;k.next=null,_===null?g=B:_.next=B,_=k;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=B:S.next=B,X.lastBaseUpdate=k))}if(g!==null){var Z=f.baseState;_=0,X=B=k=null,S=g;do{var Y=S.lane,ie=S.eventTime;if((c&Y)===Y){X!==null&&(X=X.next={eventTime:ie,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var le=t,ce=S;switch(Y=r,ie=o,ce.tag){case 1:if(le=ce.payload,typeof le=="function"){Z=le.call(ie,Z,Y);break e}Z=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ce.payload,Y=typeof le=="function"?le.call(ie,Z,Y):le,Y==null)break e;Z=se({},Z,Y);break e;case 2:$r=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,Y=f.effects,Y===null?f.effects=[S]:Y.push(S))}else ie={eventTime:ie,lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(B=X=ie,k=Z):X=X.next=ie,_|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);if(X===null&&(k=Z),f.baseState=k,f.firstBaseUpdate=B,f.lastBaseUpdate=X,r=f.shared.interleaved,r!==null){f=r;do _|=f.lane,f=f.next;while(f!==r)}else g===null&&(f.shared.lanes=0);Fi|=_,t.lanes=_,t.memoizedState=Z}}function rp(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],f=c.callback;if(f!==null){if(c.callback=null,c=o,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var Qo={},qn=zr(Qo),Go=zr(Qo),Yo=zr(Qo);function Oi(t){if(t===Qo)throw Error(n(174));return t}function jc(t,r){switch(qe(Yo,r),qe(Go,t),qe(qn,Qo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ht(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ht(r,t)}Ke(qn),qe(qn,r)}function Fs(){Ke(qn),Ke(Go),Ke(Yo)}function ip(t){Oi(Yo.current);var r=Oi(qn.current),o=ht(r,t.type);r!==o&&(qe(Go,t),qe(qn,o))}function bc(t){Go.current===t&&(Ke(qn),Ke(Go))}var Ze=zr(0);function kl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var zc=[];function Uc(){for(var t=0;t<zc.length;t++)zc[t]._workInProgressVersionPrimary=null;zc.length=0}var xl=ue.ReactCurrentDispatcher,Bc=ue.ReactCurrentBatchConfig,Mi=0,et=null,dt=null,Et=null,Nl=!1,Xo=!1,Jo=0,f_=0;function Dt(){throw Error(n(321))}function $c(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!kn(t[o],r[o]))return!1;return!0}function Hc(t,r,o,c,f,g){if(Mi=g,et=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,xl.current=t===null||t.memoizedState===null?g_:y_,t=o(c,f),Xo){g=0;do{if(Xo=!1,Jo=0,25<=g)throw Error(n(301));g+=1,Et=dt=null,r.updateQueue=null,xl.current=v_,t=o(c,f)}while(Xo)}if(xl.current=Ll,r=dt!==null&&dt.next!==null,Mi=0,Et=dt=et=null,Nl=!1,r)throw Error(n(300));return t}function qc(){var t=Jo!==0;return Jo=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?et.memoizedState=Et=t:Et=Et.next=t,Et}function mn(){if(dt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var r=Et===null?et.memoizedState:Et.next;if(r!==null)Et=r,dt=t;else{if(t===null)throw Error(n(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Et===null?et.memoizedState=Et=t:Et=Et.next=t}return Et}function Zo(t,r){return typeof r=="function"?r(t):r}function Wc(t){var r=mn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=dt,f=c.baseQueue,g=o.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}c.baseQueue=f=g,o.pending=null}if(f!==null){g=f.next,c=c.baseState;var S=_=null,k=null,B=g;do{var X=B.lane;if((Mi&X)===X)k!==null&&(k=k.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:t(c,B.action);else{var Z={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};k===null?(S=k=Z,_=c):k=k.next=Z,et.lanes|=X,Fi|=X}B=B.next}while(B!==null&&B!==g);k===null?_=c:k.next=S,kn(c,r.memoizedState)||(Wt=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=k,o.lastRenderedState=c}if(t=o.interleaved,t!==null){f=t;do g=f.lane,et.lanes|=g,Fi|=g,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Kc(t){var r=mn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do g=t(g,_.action),_=_.next;while(_!==f);kn(g,r.memoizedState)||(Wt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function sp(){}function op(t,r){var o=et,c=mn(),f=r(),g=!kn(c.memoizedState,f);if(g&&(c.memoizedState=f,Wt=!0),c=c.queue,Qc(up.bind(null,o,c,t),[t]),c.getSnapshot!==r||g||Et!==null&&Et.memoizedState.tag&1){if(o.flags|=2048,ea(9,lp.bind(null,o,c,f,r),void 0,null),wt===null)throw Error(n(349));(Mi&30)!==0||ap(o,r,f)}return f}function ap(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=et.updateQueue,r===null?(r={lastEffect:null,stores:null},et.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function lp(t,r,o,c){r.value=o,r.getSnapshot=c,cp(r)&&hp(t)}function up(t,r,o){return o(function(){cp(r)&&hp(t)})}function cp(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!kn(t,o)}catch{return!0}}function hp(t){var r=pr(t,1);r!==null&&Ln(r,t,1,-1)}function fp(t){var r=Wn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t},r.queue=t,t=t.dispatch=m_.bind(null,et,t),[r.memoizedState,t]}function ea(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=et.updateQueue,r===null?(r={lastEffect:null,stores:null},et.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function dp(){return mn().memoizedState}function Dl(t,r,o,c){var f=Wn();et.flags|=t,f.memoizedState=ea(1|r,o,void 0,c===void 0?null:c)}function Vl(t,r,o,c){var f=mn();c=c===void 0?null:c;var g=void 0;if(dt!==null){var _=dt.memoizedState;if(g=_.destroy,c!==null&&$c(c,_.deps)){f.memoizedState=ea(r,o,g,c);return}}et.flags|=t,f.memoizedState=ea(1|r,o,g,c)}function pp(t,r){return Dl(8390656,8,t,r)}function Qc(t,r){return Vl(2048,8,t,r)}function mp(t,r){return Vl(4,2,t,r)}function gp(t,r){return Vl(4,4,t,r)}function yp(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function vp(t,r,o){return o=o!=null?o.concat([t]):null,Vl(4,4,yp.bind(null,r,t),o)}function Gc(){}function _p(t,r){var o=mn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&$c(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function Ep(t,r){var o=mn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&$c(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function wp(t,r,o){return(Mi&21)===0?(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=o):(kn(o,r)||(o=Ai(),et.lanes|=o,Fi|=o,t.baseState=!0),r)}function d_(t,r){var o=Pe;Pe=o!==0&&4>o?o:4,t(!0);var c=Bc.transition;Bc.transition={};try{t(!1),r()}finally{Pe=o,Bc.transition=c}}function Tp(){return mn().memoizedState}function p_(t,r,o){var c=Qr(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Ip(t))Sp(r,o);else if(o=ep(t,r,o,c),o!==null){var f=Ut();Ln(o,t,c,f),Ap(o,r,c)}}function m_(t,r,o){var c=Qr(t),f={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ip(t))Sp(r,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var _=r.lastRenderedState,S=g(_,o);if(f.hasEagerState=!0,f.eagerState=S,kn(S,_)){var k=r.interleaved;k===null?(f.next=f,Mc(r)):(f.next=k.next,k.next=f),r.interleaved=f;return}}catch{}finally{}o=ep(t,r,f,c),o!==null&&(f=Ut(),Ln(o,t,c,f),Ap(o,r,c))}}function Ip(t){var r=t.alternate;return t===et||r!==null&&r===et}function Sp(t,r){Xo=Nl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Ap(t,r,o){if((o&4194240)!==0){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Vr(t,o)}}var Ll={readContext:pn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},g_={readContext:pn,useCallback:function(t,r){return Wn().memoizedState=[t,r===void 0?null:r],t},useContext:pn,useEffect:pp,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Dl(4194308,4,yp.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Dl(4194308,4,t,r)},useInsertionEffect:function(t,r){return Dl(4,2,t,r)},useMemo:function(t,r){var o=Wn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=Wn();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=p_.bind(null,et,t),[c.memoizedState,t]},useRef:function(t){var r=Wn();return t={current:t},r.memoizedState=t},useState:fp,useDebugValue:Gc,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=fp(!1),r=t[0];return t=d_.bind(null,t[1]),Wn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=et,f=Wn();if(Ye){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),wt===null)throw Error(n(349));(Mi&30)!==0||ap(c,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,pp(up.bind(null,c,g,t),[t]),c.flags|=2048,ea(9,lp.bind(null,c,g,o,r),void 0,null),o},useId:function(){var t=Wn(),r=wt.identifierPrefix;if(Ye){var o=dr,c=fr;o=(c&~(1<<32-jt(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Jo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=f_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},y_={readContext:pn,useCallback:_p,useContext:pn,useEffect:Qc,useImperativeHandle:vp,useInsertionEffect:mp,useLayoutEffect:gp,useMemo:Ep,useReducer:Wc,useRef:dp,useState:function(){return Wc(Zo)},useDebugValue:Gc,useDeferredValue:function(t){var r=mn();return wp(r,dt.memoizedState,t)},useTransition:function(){var t=Wc(Zo)[0],r=mn().memoizedState;return[t,r]},useMutableSource:sp,useSyncExternalStore:op,useId:Tp,unstable_isNewReconciler:!1},v_={readContext:pn,useCallback:_p,useContext:pn,useEffect:Qc,useImperativeHandle:vp,useInsertionEffect:mp,useLayoutEffect:gp,useMemo:Ep,useReducer:Kc,useRef:dp,useState:function(){return Kc(Zo)},useDebugValue:Gc,useDeferredValue:function(t){var r=mn();return dt===null?r.memoizedState=t:wp(r,dt.memoizedState,t)},useTransition:function(){var t=Kc(Zo)[0],r=mn().memoizedState;return[t,r]},useMutableSource:sp,useSyncExternalStore:op,useId:Tp,unstable_isNewReconciler:!1};function Nn(t,r){if(t&&t.defaultProps){r=se({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Yc(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:se({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Ol={isMounted:function(t){return(t=t._reactInternals)?Tn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=Ut(),f=Qr(t),g=mr(c,f);g.payload=r,o!=null&&(g.callback=o),r=Hr(t,g,f),r!==null&&(Ln(r,t,f,c),Cl(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=Ut(),f=Qr(t),g=mr(c,f);g.tag=1,g.payload=r,o!=null&&(g.callback=o),r=Hr(t,g,f),r!==null&&(Ln(r,t,f,c),Cl(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Ut(),c=Qr(t),f=mr(o,c);f.tag=2,r!=null&&(f.callback=r),r=Hr(t,f,c),r!==null&&(Ln(r,t,c,o),Cl(r,t,c))}};function Rp(t,r,o,c,f,g,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,_):r.prototype&&r.prototype.isPureReactComponent?!zo(o,c)||!zo(f,g):!0}function Cp(t,r,o){var c=!1,f=Ur,g=r.contextType;return typeof g=="object"&&g!==null?g=pn(g):(f=qt(r)?Ni:Nt.current,c=r.contextTypes,g=(c=c!=null)?xs(t,f):Ur),r=new r(o,g),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ol,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=g),r}function Pp(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&Ol.enqueueReplaceState(r,r.state,null)}function Xc(t,r,o,c){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},Fc(t);var g=r.contextType;typeof g=="object"&&g!==null?f.context=pn(g):(g=qt(r)?Ni:Nt.current,f.context=xs(t,g)),f.state=t.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Yc(t,r,g,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Ol.enqueueReplaceState(f,f.state,null),Pl(t,o,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function js(t,r){try{var o="",c=r;do o+=Ae(c),c=c.return;while(c);var f=o}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:r,stack:f,digest:null}}function Jc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Zc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var __=typeof WeakMap=="function"?WeakMap:Map;function kp(t,r,o){o=mr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){Bl||(Bl=!0,ph=c),Zc(t,r)},o}function xp(t,r,o){o=mr(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;o.payload=function(){return c(f)},o.callback=function(){Zc(t,r)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(o.callback=function(){Zc(t,r),typeof c!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Np(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new __;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(f.add(o),t=V_.bind(null,t,r,o),r.then(t,t))}function Dp(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Vp(t,r,o,c,f){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=mr(-1,1),r.tag=2,Hr(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var E_=ue.ReactCurrentOwner,Wt=!1;function zt(t,r,o,c){r.child=t===null?Zd(r,null,o,c):Ls(r,t.child,o,c)}function Lp(t,r,o,c,f){o=o.render;var g=r.ref;return Ms(r,f),c=Hc(t,r,o,c,g,f),o=qc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,gr(t,r,f)):(Ye&&o&&Cc(r),r.flags|=1,zt(t,r,c,f),r.child)}function Op(t,r,o,c,f){if(t===null){var g=o.type;return typeof g=="function"&&!wh(g)&&g.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=g,Mp(t,r,g,c,f)):(t=Ql(o.type,null,c,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(g=t.child,(t.lanes&f)===0){var _=g.memoizedProps;if(o=o.compare,o=o!==null?o:zo,o(_,c)&&t.ref===r.ref)return gr(t,r,f)}return r.flags|=1,t=Yr(g,c),t.ref=r.ref,t.return=r,r.child=t}function Mp(t,r,o,c,f){if(t!==null){var g=t.memoizedProps;if(zo(g,c)&&t.ref===r.ref)if(Wt=!1,r.pendingProps=c=g,(t.lanes&f)!==0)(t.flags&131072)!==0&&(Wt=!0);else return r.lanes=t.lanes,gr(t,r,f)}return eh(t,r,o,c,f)}function Fp(t,r,o){var c=r.pendingProps,f=c.children,g=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(zs,sn),sn|=o;else{if((o&1073741824)===0)return t=g!==null?g.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,qe(zs,sn),sn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:o,qe(zs,sn),sn|=c}else g!==null?(c=g.baseLanes|o,r.memoizedState=null):c=o,qe(zs,sn),sn|=c;return zt(t,r,f,o),r.child}function jp(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function eh(t,r,o,c,f){var g=qt(o)?Ni:Nt.current;return g=xs(r,g),Ms(r,f),o=Hc(t,r,o,c,g,f),c=qc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,gr(t,r,f)):(Ye&&c&&Cc(r),r.flags|=1,zt(t,r,o,f),r.child)}function bp(t,r,o,c,f){if(qt(o)){var g=!0;_l(r)}else g=!1;if(Ms(r,f),r.stateNode===null)Fl(t,r),Cp(r,o,c),Xc(r,o,c,f),c=!0;else if(t===null){var _=r.stateNode,S=r.memoizedProps;_.props=S;var k=_.context,B=o.contextType;typeof B=="object"&&B!==null?B=pn(B):(B=qt(o)?Ni:Nt.current,B=xs(r,B));var X=o.getDerivedStateFromProps,Z=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function";Z||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==c||k!==B)&&Pp(r,_,c,B),$r=!1;var Y=r.memoizedState;_.state=Y,Pl(r,c,_,f),k=r.memoizedState,S!==c||Y!==k||Ht.current||$r?(typeof X=="function"&&(Yc(r,o,X,c),k=r.memoizedState),(S=$r||Rp(r,o,S,c,Y,k,B))?(Z||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=k),_.props=c,_.state=k,_.context=B,c=S):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,tp(t,r),S=r.memoizedProps,B=r.type===r.elementType?S:Nn(r.type,S),_.props=B,Z=r.pendingProps,Y=_.context,k=o.contextType,typeof k=="object"&&k!==null?k=pn(k):(k=qt(o)?Ni:Nt.current,k=xs(r,k));var ie=o.getDerivedStateFromProps;(X=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==Z||Y!==k)&&Pp(r,_,c,k),$r=!1,Y=r.memoizedState,_.state=Y,Pl(r,c,_,f);var le=r.memoizedState;S!==Z||Y!==le||Ht.current||$r?(typeof ie=="function"&&(Yc(r,o,ie,c),le=r.memoizedState),(B=$r||Rp(r,o,B,c,Y,le,k)||!1)?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,le,k),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,le,k)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=le),_.props=c,_.state=le,_.context=k,c=B):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),c=!1)}return th(t,r,o,c,g,f)}function th(t,r,o,c,f,g){jp(t,r);var _=(r.flags&128)!==0;if(!c&&!_)return f&&Hd(r,o,!1),gr(t,r,g);c=r.stateNode,E_.current=r;var S=_&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&_?(r.child=Ls(r,t.child,null,g),r.child=Ls(r,null,S,g)):zt(t,r,S,g),r.memoizedState=c.state,f&&Hd(r,o,!0),r.child}function zp(t){var r=t.stateNode;r.pendingContext?Bd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Bd(t,r.context,!1),jc(t,r.containerInfo)}function Up(t,r,o,c,f){return Vs(),Nc(f),r.flags|=256,zt(t,r,o,c),r.child}var nh={dehydrated:null,treeContext:null,retryLane:0};function rh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bp(t,r,o){var c=r.pendingProps,f=Ze.current,g=!1,_=(r.flags&128)!==0,S;if((S=_)||(S=t!==null&&t.memoizedState===null?!1:(f&2)!==0),S?(g=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),qe(Ze,f&1),t===null)return xc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=c.children,t=c.fallback,g?(c=r.mode,g=r.child,_={mode:"hidden",children:_},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Gl(_,c,0,null),t=Ui(t,c,o,null),g.return=r,t.return=r,g.sibling=t,r.child=g,r.child.memoizedState=rh(o),r.memoizedState=nh,t):ih(r,_));if(f=t.memoizedState,f!==null&&(S=f.dehydrated,S!==null))return w_(t,r,_,c,S,f,o);if(g){g=c.fallback,_=r.mode,f=t.child,S=f.sibling;var k={mode:"hidden",children:c.children};return(_&1)===0&&r.child!==f?(c=r.child,c.childLanes=0,c.pendingProps=k,r.deletions=null):(c=Yr(f,k),c.subtreeFlags=f.subtreeFlags&14680064),S!==null?g=Yr(S,g):(g=Ui(g,_,o,null),g.flags|=2),g.return=r,c.return=r,c.sibling=g,r.child=c,c=g,g=r.child,_=t.child.memoizedState,_=_===null?rh(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=t.childLanes&~o,r.memoizedState=nh,c}return g=t.child,t=g.sibling,c=Yr(g,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function ih(t,r){return r=Gl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Ml(t,r,o,c){return c!==null&&Nc(c),Ls(r,t.child,null,o),t=ih(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function w_(t,r,o,c,f,g,_){if(o)return r.flags&256?(r.flags&=-257,c=Jc(Error(n(422))),Ml(t,r,_,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(g=c.fallback,f=r.mode,c=Gl({mode:"visible",children:c.children},f,0,null),g=Ui(g,f,_,null),g.flags|=2,c.return=r,g.return=r,c.sibling=g,r.child=c,(r.mode&1)!==0&&Ls(r,t.child,null,_),r.child.memoizedState=rh(_),r.memoizedState=nh,g);if((r.mode&1)===0)return Ml(t,r,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var S=c.dgst;return c=S,g=Error(n(419)),c=Jc(g,c,void 0),Ml(t,r,_,c)}if(S=(_&t.childLanes)!==0,Wt||S){if(c=wt,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|_))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,pr(t,f),Ln(c,t,f,-1))}return Eh(),c=Jc(Error(n(421))),Ml(t,r,_,c)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=L_.bind(null,t),f._reactRetry=r,null):(t=g.treeContext,rn=br(f.nextSibling),nn=r,Ye=!0,xn=null,t!==null&&(fn[dn++]=fr,fn[dn++]=dr,fn[dn++]=Di,fr=t.id,dr=t.overflow,Di=r),r=ih(r,c.children),r.flags|=4096,r)}function $p(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),Oc(t.return,r,o)}function sh(t,r,o,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=f)}function Hp(t,r,o){var c=r.pendingProps,f=c.revealOrder,g=c.tail;if(zt(t,r,c.children,o),c=Ze.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$p(t,o,r);else if(t.tag===19)$p(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(qe(Ze,c),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&kl(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),sh(r,!1,f,o,g);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&kl(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}sh(r,!0,o,null,g);break;case"together":sh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Fl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function gr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Fi|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Yr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Yr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function T_(t,r,o){switch(r.tag){case 3:zp(r),Vs();break;case 5:ip(r);break;case 1:qt(r.type)&&_l(r);break;case 4:jc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,f=r.memoizedProps.value;qe(Al,c._currentValue),c._currentValue=f;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(qe(Ze,Ze.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Bp(t,r,o):(qe(Ze,Ze.current&1),t=gr(t,r,o),t!==null?t.sibling:null);qe(Ze,Ze.current&1);break;case 19:if(c=(o&r.childLanes)!==0,(t.flags&128)!==0){if(c)return Hp(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),qe(Ze,Ze.current),c)break;return null;case 22:case 23:return r.lanes=0,Fp(t,r,o)}return gr(t,r,o)}var qp,oh,Wp,Kp;qp=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},oh=function(){},Wp=function(t,r,o,c){var f=t.memoizedProps;if(f!==c){t=r.stateNode,Oi(qn.current);var g=null;switch(o){case"input":f=pi(t,f),c=pi(t,c),g=[];break;case"select":f=se({},f,{value:void 0}),c=se({},c,{value:void 0}),g=[];break;case"textarea":f=mo(t,f),c=mo(t,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=gl)}wo(o,c);var _;o=null;for(B in f)if(!c.hasOwnProperty(B)&&f.hasOwnProperty(B)&&f[B]!=null)if(B==="style"){var S=f[B];for(_ in S)S.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(a.hasOwnProperty(B)?g||(g=[]):(g=g||[]).push(B,null));for(B in c){var k=c[B];if(S=f!=null?f[B]:void 0,c.hasOwnProperty(B)&&k!==S&&(k!=null||S!=null))if(B==="style")if(S){for(_ in S)!S.hasOwnProperty(_)||k&&k.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in k)k.hasOwnProperty(_)&&S[_]!==k[_]&&(o||(o={}),o[_]=k[_])}else o||(g||(g=[]),g.push(B,o)),o=k;else B==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,S=S?S.__html:void 0,k!=null&&S!==k&&(g=g||[]).push(B,k)):B==="children"?typeof k!="string"&&typeof k!="number"||(g=g||[]).push(B,""+k):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(a.hasOwnProperty(B)?(k!=null&&B==="onScroll"&&We("scroll",t),g||S===k||(g=[])):(g=g||[]).push(B,k))}o&&(g=g||[]).push("style",o);var B=g;(r.updateQueue=B)&&(r.flags|=4)}},Kp=function(t,r,o,c){o!==c&&(r.flags|=4)};function ta(t,r){if(!Ye)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Vt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function I_(t,r,o){var c=r.pendingProps;switch(Pc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(r),null;case 1:return qt(r.type)&&vl(),Vt(r),null;case 3:return c=r.stateNode,Fs(),Ke(Ht),Ke(Nt),Uc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Il(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,xn!==null&&(yh(xn),xn=null))),oh(t,r),Vt(r),null;case 5:bc(r);var f=Oi(Yo.current);if(o=r.type,t!==null&&r.stateNode!=null)Wp(t,r,o,c,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return Vt(r),null}if(t=Oi(qn.current),Il(r)){c=r.stateNode,o=r.type;var g=r.memoizedProps;switch(c[Hn]=r,c[qo]=g,t=(r.mode&1)!==0,o){case"dialog":We("cancel",c),We("close",c);break;case"iframe":case"object":case"embed":We("load",c);break;case"video":case"audio":for(f=0;f<Bo.length;f++)We(Bo[f],c);break;case"source":We("error",c);break;case"img":case"image":case"link":We("error",c),We("load",c);break;case"details":We("toggle",c);break;case"input":Ji(c,g),We("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},We("invalid",c);break;case"textarea":es(c,g),We("invalid",c)}wo(o,g),f=null;for(var _ in g)if(g.hasOwnProperty(_)){var S=g[_];_==="children"?typeof S=="string"?c.textContent!==S&&(g.suppressHydrationWarning!==!0&&ml(c.textContent,S,t),f=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(g.suppressHydrationWarning!==!0&&ml(c.textContent,S,t),f=["children",""+S]):a.hasOwnProperty(_)&&S!=null&&_==="onScroll"&&We("scroll",c)}switch(o){case"input":er(c),Ua(c,g,!0);break;case"textarea":er(c),go(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=gl)}c=f,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ct(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(o,{is:c.is}):(t=_.createElement(o),o==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,o),t[Hn]=r,t[qo]=c,qp(t,r,!1,!1),r.stateNode=t;e:{switch(_=To(o,c),o){case"dialog":We("cancel",t),We("close",t),f=c;break;case"iframe":case"object":case"embed":We("load",t),f=c;break;case"video":case"audio":for(f=0;f<Bo.length;f++)We(Bo[f],t);f=c;break;case"source":We("error",t),f=c;break;case"img":case"image":case"link":We("error",t),We("load",t),f=c;break;case"details":We("toggle",t),f=c;break;case"input":Ji(t,c),f=pi(t,c),We("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=se({},c,{value:void 0}),We("invalid",t);break;case"textarea":es(t,c),f=mo(t,c),We("invalid",t);break;default:f=c}wo(o,f),S=f;for(g in S)if(S.hasOwnProperty(g)){var k=S[g];g==="style"?_o(t,k):g==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&yo(t,k)):g==="children"?typeof k=="string"?(o!=="textarea"||k!=="")&&Pr(t,k):typeof k=="number"&&Pr(t,""+k):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(a.hasOwnProperty(g)?k!=null&&g==="onScroll"&&We("scroll",t):k!=null&&Q(t,g,k,_))}switch(o){case"input":er(t),Ua(t,c,!1);break;case"textarea":er(t),go(t);break;case"option":c.value!=null&&t.setAttribute("value",""+je(c.value));break;case"select":t.multiple=!!c.multiple,g=c.value,g!=null?nr(t,!!c.multiple,g,!1):c.defaultValue!=null&&nr(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=gl)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Vt(r),null;case 6:if(t&&r.stateNode!=null)Kp(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(o=Oi(Yo.current),Oi(qn.current),Il(r)){if(c=r.stateNode,o=r.memoizedProps,c[Hn]=r,(g=c.nodeValue!==o)&&(t=nn,t!==null))switch(t.tag){case 3:ml(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ml(c.nodeValue,o,(t.mode&1)!==0)}g&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Hn]=r,r.stateNode=c}return Vt(r),null;case 13:if(Ke(Ze),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&rn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Yd(),Vs(),r.flags|=98560,g=!1;else if(g=Il(r),c!==null&&c.dehydrated!==null){if(t===null){if(!g)throw Error(n(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Hn]=r}else Vs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Vt(r),g=!1}else xn!==null&&(yh(xn),xn=null),g=!0;if(!g)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ze.current&1)!==0?pt===0&&(pt=3):Eh())),r.updateQueue!==null&&(r.flags|=4),Vt(r),null);case 4:return Fs(),oh(t,r),t===null&&$o(r.stateNode.containerInfo),Vt(r),null;case 10:return Lc(r.type._context),Vt(r),null;case 17:return qt(r.type)&&vl(),Vt(r),null;case 19:if(Ke(Ze),g=r.memoizedState,g===null)return Vt(r),null;if(c=(r.flags&128)!==0,_=g.rendering,_===null)if(c)ta(g,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(_=kl(t),_!==null){for(r.flags|=128,ta(g,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)g=o,t=c,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=t,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,t=_.dependencies,g.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return qe(Ze,Ze.current&1|2),r.child}t=t.sibling}g.tail!==null&&He()>Us&&(r.flags|=128,c=!0,ta(g,!1),r.lanes=4194304)}else{if(!c)if(t=kl(_),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),ta(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!Ye)return Vt(r),null}else 2*He()-g.renderingStartTime>Us&&o!==1073741824&&(r.flags|=128,c=!0,ta(g,!1),r.lanes=4194304);g.isBackwards?(_.sibling=r.child,r.child=_):(o=g.last,o!==null?o.sibling=_:r.child=_,g.last=_)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=He(),r.sibling=null,o=Ze.current,qe(Ze,c?o&1|2:o&1),r):(Vt(r),null);case 22:case 23:return _h(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(sn&1073741824)!==0&&(Vt(r),r.subtreeFlags&6&&(r.flags|=8192)):Vt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function S_(t,r){switch(Pc(r),r.tag){case 1:return qt(r.type)&&vl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Fs(),Ke(Ht),Ke(Nt),Uc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return bc(r),null;case 13:if(Ke(Ze),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Vs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ke(Ze),null;case 4:return Fs(),null;case 10:return Lc(r.type._context),null;case 22:case 23:return _h(),null;case 24:return null;default:return null}}var jl=!1,Lt=!1,A_=typeof WeakSet=="function"?WeakSet:Set,ae=null;function bs(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){rt(t,r,c)}else o.current=null}function ah(t,r,o){try{o()}catch(c){rt(t,r,c)}}var Qp=!1;function R_(t,r){if(_c=Mr,t=Rd(),hc(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var _=0,S=-1,k=-1,B=0,X=0,Z=t,Y=null;t:for(;;){for(var ie;Z!==o||f!==0&&Z.nodeType!==3||(S=_+f),Z!==g||c!==0&&Z.nodeType!==3||(k=_+c),Z.nodeType===3&&(_+=Z.nodeValue.length),(ie=Z.firstChild)!==null;)Y=Z,Z=ie;for(;;){if(Z===t)break t;if(Y===o&&++B===f&&(S=_),Y===g&&++X===c&&(k=_),(ie=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=ie}o=S===-1||k===-1?null:{start:S,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ec={focusedElem:t,selectionRange:o},Mr=!1,ae=r;ae!==null;)if(r=ae,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ae=t;else for(;ae!==null;){r=ae;try{var le=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ce=le.memoizedProps,st=le.memoizedState,j=r.stateNode,L=j.getSnapshotBeforeUpdate(r.elementType===r.type?ce:Nn(r.type,ce),st);j.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var z=r.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ee){rt(r,r.return,ee)}if(t=r.sibling,t!==null){t.return=r.return,ae=t;break}ae=r.return}return le=Qp,Qp=!1,le}function na(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var g=f.destroy;f.destroy=void 0,g!==void 0&&ah(r,o,g)}f=f.next}while(f!==c)}}function bl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function lh(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Gp(t){var r=t.alternate;r!==null&&(t.alternate=null,Gp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Hn],delete r[qo],delete r[Sc],delete r[l_],delete r[u_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Yp(t){return t.tag===5||t.tag===3||t.tag===4}function Xp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uh(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=gl));else if(c!==4&&(t=t.child,t!==null))for(uh(t,r,o),t=t.sibling;t!==null;)uh(t,r,o),t=t.sibling}function ch(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(ch(t,r,o),t=t.sibling;t!==null;)ch(t,r,o),t=t.sibling}var Rt=null,Dn=!1;function qr(t,r,o){for(o=o.child;o!==null;)Jp(t,r,o),o=o.sibling}function Jp(t,r,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Ii,o)}catch{}switch(o.tag){case 5:Lt||bs(o,r);case 6:var c=Rt,f=Dn;Rt=null,qr(t,r,o),Rt=c,Dn=f,Rt!==null&&(Dn?(t=Rt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Rt.removeChild(o.stateNode));break;case 18:Rt!==null&&(Dn?(t=Rt,o=o.stateNode,t.nodeType===8?Ic(t.parentNode,o):t.nodeType===1&&Ic(t,o),Cn(t)):Ic(Rt,o.stateNode));break;case 4:c=Rt,f=Dn,Rt=o.stateNode.containerInfo,Dn=!0,qr(t,r,o),Rt=c,Dn=f;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,_=g.destroy;g=g.tag,_!==void 0&&((g&2)!==0||(g&4)!==0)&&ah(o,r,_),f=f.next}while(f!==c)}qr(t,r,o);break;case 1:if(!Lt&&(bs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(S){rt(o,r,S)}qr(t,r,o);break;case 21:qr(t,r,o);break;case 22:o.mode&1?(Lt=(c=Lt)||o.memoizedState!==null,qr(t,r,o),Lt=c):qr(t,r,o);break;default:qr(t,r,o)}}function Zp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new A_),r.forEach(function(c){var f=O_.bind(null,t,c);o.has(c)||(o.add(c),c.then(f,f))})}}function Vn(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];try{var g=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 5:Rt=S.stateNode,Dn=!1;break e;case 3:Rt=S.stateNode.containerInfo,Dn=!0;break e;case 4:Rt=S.stateNode.containerInfo,Dn=!0;break e}S=S.return}if(Rt===null)throw Error(n(160));Jp(g,_,f),Rt=null,Dn=!1;var k=f.alternate;k!==null&&(k.return=null),f.return=null}catch(B){rt(f,r,B)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)em(r,t),r=r.sibling}function em(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(r,t),Kn(t),c&4){try{na(3,t,t.return),bl(3,t)}catch(ce){rt(t,t.return,ce)}try{na(5,t,t.return)}catch(ce){rt(t,t.return,ce)}}break;case 1:Vn(r,t),Kn(t),c&512&&o!==null&&bs(o,o.return);break;case 5:if(Vn(r,t),Kn(t),c&512&&o!==null&&bs(o,o.return),t.flags&32){var f=t.stateNode;try{Pr(f,"")}catch(ce){rt(t,t.return,ce)}}if(c&4&&(f=t.stateNode,f!=null)){var g=t.memoizedProps,_=o!==null?o.memoizedProps:g,S=t.type,k=t.updateQueue;if(t.updateQueue=null,k!==null)try{S==="input"&&g.type==="radio"&&g.name!=null&&fo(f,g),To(S,_);var B=To(S,g);for(_=0;_<k.length;_+=2){var X=k[_],Z=k[_+1];X==="style"?_o(f,Z):X==="dangerouslySetInnerHTML"?yo(f,Z):X==="children"?Pr(f,Z):Q(f,X,Z,B)}switch(S){case"input":po(f,g);break;case"textarea":ts(f,g);break;case"select":var Y=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ie=g.value;ie!=null?nr(f,!!g.multiple,ie,!1):Y!==!!g.multiple&&(g.defaultValue!=null?nr(f,!!g.multiple,g.defaultValue,!0):nr(f,!!g.multiple,g.multiple?[]:"",!1))}f[qo]=g}catch(ce){rt(t,t.return,ce)}}break;case 6:if(Vn(r,t),Kn(t),c&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,g=t.memoizedProps;try{f.nodeValue=g}catch(ce){rt(t,t.return,ce)}}break;case 3:if(Vn(r,t),Kn(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Cn(r.containerInfo)}catch(ce){rt(t,t.return,ce)}break;case 4:Vn(r,t),Kn(t);break;case 13:Vn(r,t),Kn(t),f=t.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(dh=He())),c&4&&Zp(t);break;case 22:if(X=o!==null&&o.memoizedState!==null,t.mode&1?(Lt=(B=Lt)||X,Vn(r,t),Lt=B):Vn(r,t),Kn(t),c&8192){if(B=t.memoizedState!==null,(t.stateNode.isHidden=B)&&!X&&(t.mode&1)!==0)for(ae=t,X=t.child;X!==null;){for(Z=ae=X;ae!==null;){switch(Y=ae,ie=Y.child,Y.tag){case 0:case 11:case 14:case 15:na(4,Y,Y.return);break;case 1:bs(Y,Y.return);var le=Y.stateNode;if(typeof le.componentWillUnmount=="function"){c=Y,o=Y.return;try{r=c,le.props=r.memoizedProps,le.state=r.memoizedState,le.componentWillUnmount()}catch(ce){rt(c,o,ce)}}break;case 5:bs(Y,Y.return);break;case 22:if(Y.memoizedState!==null){rm(Z);continue}}ie!==null?(ie.return=Y,ae=ie):rm(Z)}X=X.sibling}e:for(X=null,Z=t;;){if(Z.tag===5){if(X===null){X=Z;try{f=Z.stateNode,B?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(S=Z.stateNode,k=Z.memoizedProps.style,_=k!=null&&k.hasOwnProperty("display")?k.display:null,S.style.display=vo("display",_))}catch(ce){rt(t,t.return,ce)}}}else if(Z.tag===6){if(X===null)try{Z.stateNode.nodeValue=B?"":Z.memoizedProps}catch(ce){rt(t,t.return,ce)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===t)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===t)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===t)break e;X===Z&&(X=null),Z=Z.return}X===Z&&(X=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Vn(r,t),Kn(t),c&4&&Zp(t);break;case 21:break;default:Vn(r,t),Kn(t)}}function Kn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Yp(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Pr(f,""),c.flags&=-33);var g=Xp(t);ch(t,g,f);break;case 3:case 4:var _=c.stateNode.containerInfo,S=Xp(t);uh(t,S,_);break;default:throw Error(n(161))}}catch(k){rt(t,t.return,k)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function C_(t,r,o){ae=t,tm(t)}function tm(t,r,o){for(var c=(t.mode&1)!==0;ae!==null;){var f=ae,g=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||jl;if(!_){var S=f.alternate,k=S!==null&&S.memoizedState!==null||Lt;S=jl;var B=Lt;if(jl=_,(Lt=k)&&!B)for(ae=f;ae!==null;)_=ae,k=_.child,_.tag===22&&_.memoizedState!==null?im(f):k!==null?(k.return=_,ae=k):im(f);for(;g!==null;)ae=g,tm(g),g=g.sibling;ae=f,jl=S,Lt=B}nm(t)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,ae=g):nm(t)}}function nm(t){for(;ae!==null;){var r=ae;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Lt||bl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Lt)if(o===null)c.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:Nn(r.type,o.memoizedProps);c.componentDidUpdate(f,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=r.updateQueue;g!==null&&rp(r,g,c);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}rp(r,_,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var k=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&o.focus();break;case"img":k.src&&(o.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var B=r.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var Z=X.dehydrated;Z!==null&&Cn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||r.flags&512&&lh(r)}catch(Y){rt(r,r.return,Y)}}if(r===t){ae=null;break}if(o=r.sibling,o!==null){o.return=r.return,ae=o;break}ae=r.return}}function rm(t){for(;ae!==null;){var r=ae;if(r===t){ae=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ae=o;break}ae=r.return}}function im(t){for(;ae!==null;){var r=ae;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{bl(4,r)}catch(k){rt(r,o,k)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var f=r.return;try{c.componentDidMount()}catch(k){rt(r,f,k)}}var g=r.return;try{lh(r)}catch(k){rt(r,g,k)}break;case 5:var _=r.return;try{lh(r)}catch(k){rt(r,_,k)}}}catch(k){rt(r,r.return,k)}if(r===t){ae=null;break}var S=r.sibling;if(S!==null){S.return=r.return,ae=S;break}ae=r.return}}var P_=Math.ceil,zl=ue.ReactCurrentDispatcher,hh=ue.ReactCurrentOwner,gn=ue.ReactCurrentBatchConfig,Le=0,wt=null,lt=null,Ct=0,sn=0,zs=zr(0),pt=0,ra=null,Fi=0,Ul=0,fh=0,ia=null,Kt=null,dh=0,Us=1/0,yr=null,Bl=!1,ph=null,Wr=null,$l=!1,Kr=null,Hl=0,sa=0,mh=null,ql=-1,Wl=0;function Ut(){return(Le&6)!==0?He():ql!==-1?ql:ql=He()}function Qr(t){return(t.mode&1)===0?1:(Le&2)!==0&&Ct!==0?Ct&-Ct:h_.transition!==null?(Wl===0&&(Wl=Ai()),Wl):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:Vo(t.type)),t)}function Ln(t,r,o,c){if(50<sa)throw sa=0,mh=null,Error(n(185));Dr(t,o,c),((Le&2)===0||t!==wt)&&(t===wt&&((Le&2)===0&&(Ul|=o),pt===4&&Gr(t,Ct)),Qt(t,c),o===1&&Le===0&&(r.mode&1)===0&&(Us=He()+500,El&&Br()))}function Qt(t,r){var o=t.callbackNode;sr(t,r);var c=Si(t,t===wt?Ct:0);if(c===0)o!==null&&Po(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&Po(o),r===1)t.tag===0?c_(om.bind(null,t)):qd(om.bind(null,t)),o_(function(){(Le&6)===0&&Br()}),o=null;else{switch(Lr(c)){case 1:o=Ti;break;case 4:o=kr;break;case 16:o=un;break;case 536870912:o=Wa;break;default:o=un}o=pm(o,sm.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function sm(t,r){if(ql=-1,Wl=0,(Le&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Bs()&&t.callbackNode!==o)return null;var c=Si(t,t===wt?Ct:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||r)r=Kl(t,c);else{r=c;var f=Le;Le|=2;var g=lm();(wt!==t||Ct!==r)&&(yr=null,Us=He()+500,bi(t,r));do try{N_();break}catch(S){am(t,S)}while(!0);Vc(),zl.current=g,Le=f,lt!==null?r=0:(wt=null,Ct=0,r=pt)}if(r!==0){if(r===2&&(f=Zt(t),f!==0&&(c=f,r=gh(t,f))),r===1)throw o=ra,bi(t,0),Gr(t,c),Qt(t,He()),o;if(r===6)Gr(t,c);else{if(f=t.current.alternate,(c&30)===0&&!k_(f)&&(r=Kl(t,c),r===2&&(g=Zt(t),g!==0&&(c=g,r=gh(t,g))),r===1))throw o=ra,bi(t,0),Gr(t,c),Qt(t,He()),o;switch(t.finishedWork=f,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:zi(t,Kt,yr);break;case 3:if(Gr(t,c),(c&130023424)===c&&(r=dh+500-He(),10<r)){if(Si(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){Ut(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=Tc(zi.bind(null,t,Kt,yr),r);break}zi(t,Kt,yr);break;case 4:if(Gr(t,c),(c&4194240)===c)break;for(r=t.eventTimes,f=-1;0<c;){var _=31-jt(c);g=1<<_,_=r[_],_>f&&(f=_),c&=~g}if(c=f,c=He()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*P_(c/1960))-c,10<c){t.timeoutHandle=Tc(zi.bind(null,t,Kt,yr),c);break}zi(t,Kt,yr);break;case 5:zi(t,Kt,yr);break;default:throw Error(n(329))}}}return Qt(t,He()),t.callbackNode===o?sm.bind(null,t):null}function gh(t,r){var o=ia;return t.current.memoizedState.isDehydrated&&(bi(t,r).flags|=256),t=Kl(t,r),t!==2&&(r=Kt,Kt=o,r!==null&&yh(r)),t}function yh(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function k_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var f=o[c],g=f.getSnapshot;f=f.value;try{if(!kn(g(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Gr(t,r){for(r&=~fh,r&=~Ul,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-jt(r),c=1<<o;t[o]=-1,r&=~c}}function om(t){if((Le&6)!==0)throw Error(n(327));Bs();var r=Si(t,0);if((r&1)===0)return Qt(t,He()),null;var o=Kl(t,r);if(t.tag!==0&&o===2){var c=Zt(t);c!==0&&(r=c,o=gh(t,c))}if(o===1)throw o=ra,bi(t,0),Gr(t,r),Qt(t,He()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,zi(t,Kt,yr),Qt(t,He()),null}function vh(t,r){var o=Le;Le|=1;try{return t(r)}finally{Le=o,Le===0&&(Us=He()+500,El&&Br())}}function ji(t){Kr!==null&&Kr.tag===0&&(Le&6)===0&&Bs();var r=Le;Le|=1;var o=gn.transition,c=Pe;try{if(gn.transition=null,Pe=1,t)return t()}finally{Pe=c,gn.transition=o,Le=r,(Le&6)===0&&Br()}}function _h(){sn=zs.current,Ke(zs)}function bi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,s_(o)),lt!==null)for(o=lt.return;o!==null;){var c=o;switch(Pc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&vl();break;case 3:Fs(),Ke(Ht),Ke(Nt),Uc();break;case 5:bc(c);break;case 4:Fs();break;case 13:Ke(Ze);break;case 19:Ke(Ze);break;case 10:Lc(c.type._context);break;case 22:case 23:_h()}o=o.return}if(wt=t,lt=t=Yr(t.current,null),Ct=sn=r,pt=0,ra=null,fh=Ul=Fi=0,Kt=ia=null,Li!==null){for(r=0;r<Li.length;r++)if(o=Li[r],c=o.interleaved,c!==null){o.interleaved=null;var f=c.next,g=o.pending;if(g!==null){var _=g.next;g.next=f,c.next=_}o.pending=c}Li=null}return t}function am(t,r){do{var o=lt;try{if(Vc(),xl.current=Ll,Nl){for(var c=et.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Nl=!1}if(Mi=0,Et=dt=et=null,Xo=!1,Jo=0,hh.current=null,o===null||o.return===null){pt=1,ra=r,lt=null;break}e:{var g=t,_=o.return,S=o,k=r;if(r=Ct,S.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var B=k,X=S,Z=X.tag;if((X.mode&1)===0&&(Z===0||Z===11||Z===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var ie=Dp(_);if(ie!==null){ie.flags&=-257,Vp(ie,_,S,g,r),ie.mode&1&&Np(g,B,r),r=ie,k=B;var le=r.updateQueue;if(le===null){var ce=new Set;ce.add(k),r.updateQueue=ce}else le.add(k);break e}else{if((r&1)===0){Np(g,B,r),Eh();break e}k=Error(n(426))}}else if(Ye&&S.mode&1){var st=Dp(_);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),Vp(st,_,S,g,r),Nc(js(k,S));break e}}g=k=js(k,S),pt!==4&&(pt=2),ia===null?ia=[g]:ia.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,r&=-r,g.lanes|=r;var j=kp(g,k,r);np(g,j);break e;case 1:S=k;var L=g.type,z=g.stateNode;if((g.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Wr===null||!Wr.has(z)))){g.flags|=65536,r&=-r,g.lanes|=r;var ee=xp(g,S,r);np(g,ee);break e}}g=g.return}while(g!==null)}cm(o)}catch(he){r=he,lt===o&&o!==null&&(lt=o=o.return);continue}break}while(!0)}function lm(){var t=zl.current;return zl.current=Ll,t===null?Ll:t}function Eh(){(pt===0||pt===3||pt===2)&&(pt=4),wt===null||(Fi&268435455)===0&&(Ul&268435455)===0||Gr(wt,Ct)}function Kl(t,r){var o=Le;Le|=2;var c=lm();(wt!==t||Ct!==r)&&(yr=null,bi(t,r));do try{x_();break}catch(f){am(t,f)}while(!0);if(Vc(),Le=o,zl.current=c,lt!==null)throw Error(n(261));return wt=null,Ct=0,pt}function x_(){for(;lt!==null;)um(lt)}function N_(){for(;lt!==null&&!Ha();)um(lt)}function um(t){var r=dm(t.alternate,t,sn);t.memoizedProps=t.pendingProps,r===null?cm(t):lt=r,hh.current=null}function cm(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=I_(o,r,sn),o!==null){lt=o;return}}else{if(o=S_(o,r),o!==null){o.flags&=32767,lt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,lt=null;return}}if(r=r.sibling,r!==null){lt=r;return}lt=r=t}while(r!==null);pt===0&&(pt=5)}function zi(t,r,o){var c=Pe,f=gn.transition;try{gn.transition=null,Pe=1,D_(t,r,o,c)}finally{gn.transition=f,Pe=c}return null}function D_(t,r,o,c){do Bs();while(Kr!==null);if((Le&6)!==0)throw Error(n(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var g=o.lanes|o.childLanes;if(Be(t,g),t===wt&&(lt=wt=null,Ct=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||$l||($l=!0,pm(un,function(){return Bs(),null})),g=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||g){g=gn.transition,gn.transition=null;var _=Pe;Pe=1;var S=Le;Le|=4,hh.current=null,R_(t,o),em(o,t),Jv(Ec),Mr=!!_c,Ec=_c=null,t.current=o,C_(o),rc(),Le=S,Pe=_,gn.transition=g}else t.current=o;if($l&&($l=!1,Kr=t,Hl=f),g=t.pendingLanes,g===0&&(Wr=null),Ka(o.stateNode),Qt(t,He()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],c(f.value,{componentStack:f.stack,digest:f.digest});if(Bl)throw Bl=!1,t=ph,ph=null,t;return(Hl&1)!==0&&t.tag!==0&&Bs(),g=t.pendingLanes,(g&1)!==0?t===mh?sa++:(sa=0,mh=t):sa=0,Br(),null}function Bs(){if(Kr!==null){var t=Lr(Hl),r=gn.transition,o=Pe;try{if(gn.transition=null,Pe=16>t?16:t,Kr===null)var c=!1;else{if(t=Kr,Kr=null,Hl=0,(Le&6)!==0)throw Error(n(331));var f=Le;for(Le|=4,ae=t.current;ae!==null;){var g=ae,_=g.child;if((ae.flags&16)!==0){var S=g.deletions;if(S!==null){for(var k=0;k<S.length;k++){var B=S[k];for(ae=B;ae!==null;){var X=ae;switch(X.tag){case 0:case 11:case 15:na(8,X,g)}var Z=X.child;if(Z!==null)Z.return=X,ae=Z;else for(;ae!==null;){X=ae;var Y=X.sibling,ie=X.return;if(Gp(X),X===B){ae=null;break}if(Y!==null){Y.return=ie,ae=Y;break}ae=ie}}}var le=g.alternate;if(le!==null){var ce=le.child;if(ce!==null){le.child=null;do{var st=ce.sibling;ce.sibling=null,ce=st}while(ce!==null)}}ae=g}}if((g.subtreeFlags&2064)!==0&&_!==null)_.return=g,ae=_;else e:for(;ae!==null;){if(g=ae,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:na(9,g,g.return)}var j=g.sibling;if(j!==null){j.return=g.return,ae=j;break e}ae=g.return}}var L=t.current;for(ae=L;ae!==null;){_=ae;var z=_.child;if((_.subtreeFlags&2064)!==0&&z!==null)z.return=_,ae=z;else e:for(_=L;ae!==null;){if(S=ae,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:bl(9,S)}}catch(he){rt(S,S.return,he)}if(S===_){ae=null;break e}var ee=S.sibling;if(ee!==null){ee.return=S.return,ae=ee;break e}ae=S.return}}if(Le=f,Br(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Ii,t)}catch{}c=!0}return c}finally{Pe=o,gn.transition=r}}return!1}function hm(t,r,o){r=js(o,r),r=kp(t,r,1),t=Hr(t,r,1),r=Ut(),t!==null&&(Dr(t,1,r),Qt(t,r))}function rt(t,r,o){if(t.tag===3)hm(t,t,o);else for(;r!==null;){if(r.tag===3){hm(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Wr===null||!Wr.has(c))){t=js(o,t),t=xp(r,t,1),r=Hr(r,t,1),t=Ut(),r!==null&&(Dr(r,1,t),Qt(r,t));break}}r=r.return}}function V_(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=Ut(),t.pingedLanes|=t.suspendedLanes&o,wt===t&&(Ct&o)===o&&(pt===4||pt===3&&(Ct&130023424)===Ct&&500>He()-dh?bi(t,0):fh|=o),Qt(t,r)}function fm(t,r){r===0&&((t.mode&1)===0?r=1:(r=hs,hs<<=1,(hs&130023424)===0&&(hs=4194304)));var o=Ut();t=pr(t,r),t!==null&&(Dr(t,r,o),Qt(t,o))}function L_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),fm(t,o)}function O_(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),fm(t,o)}var dm;dm=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Ht.current)Wt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Wt=!1,T_(t,r,o);Wt=(t.flags&131072)!==0}else Wt=!1,Ye&&(r.flags&1048576)!==0&&Wd(r,Tl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Fl(t,r),t=r.pendingProps;var f=xs(r,Nt.current);Ms(r,o),f=Hc(null,r,c,t,f,o);var g=qc();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,qt(c)?(g=!0,_l(r)):g=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Fc(r),f.updater=Ol,r.stateNode=f,f._reactInternals=r,Xc(r,c,t,o),r=th(null,r,c,!0,g,o)):(r.tag=0,Ye&&g&&Cc(r),zt(null,r,f,o),r=r.child),r;case 16:c=r.elementType;e:{switch(Fl(t,r),t=r.pendingProps,f=c._init,c=f(c._payload),r.type=c,f=r.tag=F_(c),t=Nn(c,t),f){case 0:r=eh(null,r,c,t,o);break e;case 1:r=bp(null,r,c,t,o);break e;case 11:r=Lp(null,r,c,t,o);break e;case 14:r=Op(null,r,c,Nn(c.type,t),o);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Nn(c,f),eh(t,r,c,f,o);case 1:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Nn(c,f),bp(t,r,c,f,o);case 3:e:{if(zp(r),t===null)throw Error(n(387));c=r.pendingProps,g=r.memoizedState,f=g.element,tp(t,r),Pl(r,c,null,o);var _=r.memoizedState;if(c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){f=js(Error(n(423)),r),r=Up(t,r,c,o,f);break e}else if(c!==f){f=js(Error(n(424)),r),r=Up(t,r,c,o,f);break e}else for(rn=br(r.stateNode.containerInfo.firstChild),nn=r,Ye=!0,xn=null,o=Zd(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Vs(),c===f){r=gr(t,r,o);break e}zt(t,r,c,o)}r=r.child}return r;case 5:return ip(r),t===null&&xc(r),c=r.type,f=r.pendingProps,g=t!==null?t.memoizedProps:null,_=f.children,wc(c,f)?_=null:g!==null&&wc(c,g)&&(r.flags|=32),jp(t,r),zt(t,r,_,o),r.child;case 6:return t===null&&xc(r),null;case 13:return Bp(t,r,o);case 4:return jc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Ls(r,null,c,o):zt(t,r,c,o),r.child;case 11:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Nn(c,f),Lp(t,r,c,f,o);case 7:return zt(t,r,r.pendingProps,o),r.child;case 8:return zt(t,r,r.pendingProps.children,o),r.child;case 12:return zt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,f=r.pendingProps,g=r.memoizedProps,_=f.value,qe(Al,c._currentValue),c._currentValue=_,g!==null)if(kn(g.value,_)){if(g.children===f.children&&!Ht.current){r=gr(t,r,o);break e}}else for(g=r.child,g!==null&&(g.return=r);g!==null;){var S=g.dependencies;if(S!==null){_=g.child;for(var k=S.firstContext;k!==null;){if(k.context===c){if(g.tag===1){k=mr(-1,o&-o),k.tag=2;var B=g.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?k.next=k:(k.next=X.next,X.next=k),B.pending=k}}g.lanes|=o,k=g.alternate,k!==null&&(k.lanes|=o),Oc(g.return,o,r),S.lanes|=o;break}k=k.next}}else if(g.tag===10)_=g.type===r.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(n(341));_.lanes|=o,S=_.alternate,S!==null&&(S.lanes|=o),Oc(_,o,r),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===r){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}zt(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,c=r.pendingProps.children,Ms(r,o),f=pn(f),c=c(f),r.flags|=1,zt(t,r,c,o),r.child;case 14:return c=r.type,f=Nn(c,r.pendingProps),f=Nn(c.type,f),Op(t,r,c,f,o);case 15:return Mp(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Nn(c,f),Fl(t,r),r.tag=1,qt(c)?(t=!0,_l(r)):t=!1,Ms(r,o),Cp(r,c,f),Xc(r,c,f,o),th(null,r,c,!0,t,o);case 19:return Hp(t,r,o);case 22:return Fp(t,r,o)}throw Error(n(156,r.tag))};function pm(t,r){return us(t,r)}function M_(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,r,o,c){return new M_(t,r,o,c)}function wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function F_(t){if(typeof t=="function")return wh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===N)return 11;if(t===Qe)return 14}return 2}function Yr(t,r){var o=t.alternate;return o===null?(o=yn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Ql(t,r,o,c,f,g){var _=2;if(c=t,typeof t=="function")wh(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case D:return Ui(o.children,f,g,r);case I:_=8,f|=8;break;case P:return t=yn(12,o,r,f|2),t.elementType=P,t.lanes=g,t;case A:return t=yn(13,o,r,f),t.elementType=A,t.lanes=g,t;case Me:return t=yn(19,o,r,f),t.elementType=Me,t.lanes=g,t;case be:return Gl(o,f,g,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x:_=10;break e;case R:_=9;break e;case N:_=11;break e;case Qe:_=14;break e;case Je:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=yn(_,o,r,f),r.elementType=t,r.type=c,r.lanes=g,r}function Ui(t,r,o,c){return t=yn(7,t,c,r),t.lanes=o,t}function Gl(t,r,o,c){return t=yn(22,t,c,r),t.elementType=be,t.lanes=o,t.stateNode={isHidden:!1},t}function Th(t,r,o){return t=yn(6,t,null,r),t.lanes=o,t}function Ih(t,r,o){return r=yn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function j_(t,r,o,c,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nr(0),this.expirationTimes=Nr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Sh(t,r,o,c,f,g,_,S,k){return t=new j_(t,r,o,S,k),r===1?(r=1,g===!0&&(r|=8)):r=0,g=yn(3,null,null,r),t.current=g,g.stateNode=t,g.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fc(g),t}function b_(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function mm(t){if(!t)return Ur;t=t._reactInternals;e:{if(Tn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(qt(o))return $d(t,o,r)}return r}function gm(t,r,o,c,f,g,_,S,k){return t=Sh(o,c,!0,t,f,g,_,S,k),t.context=mm(null),o=t.current,c=Ut(),f=Qr(o),g=mr(c,f),g.callback=r??null,Hr(o,g,f),t.current.lanes=f,Dr(t,f,c),Qt(t,c),t}function Yl(t,r,o,c){var f=r.current,g=Ut(),_=Qr(f);return o=mm(o),r.context===null?r.context=o:r.pendingContext=o,r=mr(g,_),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=Hr(f,r,_),t!==null&&(Ln(t,f,_,g),Cl(t,f,_)),_}function Xl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ym(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Ah(t,r){ym(t,r),(t=t.alternate)&&ym(t,r)}function z_(){return null}var vm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rh(t){this._internalRoot=t}Jl.prototype.render=Rh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Yl(t,r,null,null)},Jl.prototype.unmount=Rh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ji(function(){Yl(null,t,null,null)}),r[cr]=null}};function Jl(t){this._internalRoot=t}Jl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ja();t={blockedOn:null,target:t,priority:r};for(var o=0;o<zn.length&&r!==0&&r<zn[o].priority;o++);zn.splice(o,0,t),o===0&&tl(t)}};function Ch(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _m(){}function U_(t,r,o,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var B=Xl(_);g.call(B)}}var _=gm(r,c,t,0,null,!1,!1,"",_m);return t._reactRootContainer=_,t[cr]=_.current,$o(t.nodeType===8?t.parentNode:t),ji(),_}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var S=c;c=function(){var B=Xl(k);S.call(B)}}var k=Sh(t,0,!1,null,null,!1,!1,"",_m);return t._reactRootContainer=k,t[cr]=k.current,$o(t.nodeType===8?t.parentNode:t),ji(function(){Yl(r,k,o,c)}),k}function eu(t,r,o,c,f){var g=o._reactRootContainer;if(g){var _=g;if(typeof f=="function"){var S=f;f=function(){var k=Xl(_);S.call(k)}}Yl(r,_,t,f)}else _=U_(o,r,t,f,c);return Xl(_)}Ya=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=xr(r.pendingLanes);o!==0&&(Vr(r,o|1),Qt(r,He()),(Le&6)===0&&(Us=He()+500,Br()))}break;case 13:ji(function(){var c=pr(t,1);if(c!==null){var f=Ut();Ln(c,t,1,f)}}),Ah(t,1)}},fs=function(t){if(t.tag===13){var r=pr(t,134217728);if(r!==null){var o=Ut();Ln(r,t,134217728,o)}Ah(t,134217728)}},Xa=function(t){if(t.tag===13){var r=Qr(t),o=pr(t,r);if(o!==null){var c=Ut();Ln(o,t,r,c)}Ah(t,r)}},Ja=function(){return Pe},Za=function(t,r){var o=Pe;try{return Pe=t,r()}finally{Pe=o}},rs=function(t,r,o){switch(r){case"input":if(po(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var f=yl(c);if(!f)throw Error(n(90));Xi(c),po(c,f)}}}break;case"textarea":ts(t,o);break;case"select":r=o.value,r!=null&&nr(t,!!o.multiple,r,!1)}},vi=vh,So=ji;var B_={usingClientEntryPoint:!1,Events:[Wo,Ps,yl,jn,Io,vh]},oa={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$_={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ue.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Co(t),t===null?null:t.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||z_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Ii=tu.inject($_),Jt=tu}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B_,Gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ch(r))throw Error(n(200));return b_(t,r,null,o)},Gt.createRoot=function(t,r){if(!Ch(t))throw Error(n(299));var o=!1,c="",f=vm;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=Sh(t,1,!1,null,null,o,!1,c,f),t[cr]=r.current,$o(t.nodeType===8?t.parentNode:t),new Rh(r)},Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Co(r),t=t===null?null:t.stateNode,t},Gt.flushSync=function(t){return ji(t)},Gt.hydrate=function(t,r,o){if(!Zl(r))throw Error(n(200));return eu(null,t,r,!0,o)},Gt.hydrateRoot=function(t,r,o){if(!Ch(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,f=!1,g="",_=vm;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=gm(r,null,t,1,o??null,f,!1,g,_),t[cr]=r.current,$o(t),c)for(t=0;t<c.length;t++)o=c[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new Jl(r)},Gt.render=function(t,r,o){if(!Zl(r))throw Error(n(200));return eu(null,t,r,!1,o)},Gt.unmountComponentAtNode=function(t){if(!Zl(t))throw Error(n(40));return t._reactRootContainer?(ji(function(){eu(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1},Gt.unstable_batchedUpdates=vh,Gt.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!Zl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return eu(t,r,o,!1,c)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var Cm;function Z_(){if(Cm)return xh.exports;Cm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),xh.exports=J_(),xh.exports}var Pm;function eE(){if(Pm)return nu;Pm=1;var i=Z_();return nu.createRoot=i.createRoot,nu.hydrateRoot=i.hydrateRoot,nu}var tE=eE();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var km="popstate";function nE(i={}){function e(a,u){let{pathname:h="/",search:d="",hash:m=""}=Qi(a.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),ef("",{pathname:h,search:d,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(a,u){let h=a.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let m=a.location.href,y=m.indexOf("#");d=y===-1?m:m.slice(0,y)}return d+"#"+(typeof u=="string"?u:Ea(u))}function s(a,u){_n(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return iE(e,n,s,i)}function tt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function _n(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rE(){return Math.random().toString(36).substring(2,10)}function xm(i,e){return{usr:i.state,key:i.key,idx:e}}function ef(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Qi(e):e,state:n,key:e&&e.key||s||rE()}}function Ea({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Qi(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function iE(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,h=a.history,d="POP",m=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function T(){d="POP";let M=E(),G=M==null?null:M-y;y=M,m&&m({action:d,location:q.location,delta:G})}function C(M,G){d="PUSH";let re=ef(q.location,M,G);n&&n(re,M),y=E()+1;let Q=xm(re,y),ue=q.createHref(re);try{h.pushState(Q,"",ue)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;a.location.assign(ue)}u&&m&&m({action:d,location:q.location,delta:1})}function V(M,G){d="REPLACE";let re=ef(q.location,M,G);n&&n(re,M),y=E();let Q=xm(re,y),ue=q.createHref(re);h.replaceState(Q,"",ue),u&&m&&m({action:d,location:q.location,delta:0})}function $(M){return sE(M)}let q={get action(){return d},get location(){return i(a,h)},listen(M){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(km,T),m=M,()=>{a.removeEventListener(km,T),m=null}},createHref(M){return e(a,M)},createURL:$,encodeLocation(M){let G=$(M);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:C,replace:V,go(M){return h.go(M)}};return q}function sE(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Ea(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function jg(i,e,n="/"){return oE(i,e,n,!1)}function oE(i,e,n,s){let a=typeof e=="string"?Qi(e):e,u=Tr(a.pathname||"/",n);if(u==null)return null;let h=bg(i);aE(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let y=vE(u);d=gE(h[m],y,s)}return d}function bg(i,e=[],n=[],s="",a=!1){let u=(h,d,m=a,y)=>{let E={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&m)return;tt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=Er([s,E.relativePath]),C=n.concat(E);h.children&&h.children.length>0&&(tt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),bg(h.children,e,C,T,m)),!(h.path==null&&!h.index)&&e.push({path:T,score:pE(T,h.index),routesMeta:C})};return i.forEach((h,d)=>{var m;if(h.path===""||!((m=h.path)!=null&&m.includes("?")))u(h,d);else for(let y of zg(h.path))u(h,d,!0,y)}),e}function zg(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let h=zg(s.join("/")),d=[];return d.push(...h.map(m=>m===""?u:[u,m].join("/"))),a&&d.push(...h),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function aE(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:mE(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var lE=/^:[\w-]+$/,uE=3,cE=2,hE=1,fE=10,dE=-2,Nm=i=>i==="*";function pE(i,e){let n=i.split("/"),s=n.length;return n.some(Nm)&&(s+=dE),e&&(s+=cE),n.filter(a=>!Nm(a)).reduce((a,u)=>a+(lE.test(u)?uE:u===""?hE:fE),s)}function mE(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function gE(i,e,n=!1){let{routesMeta:s}=i,a={},u="/",h=[];for(let d=0;d<s.length;++d){let m=s[d],y=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=_u({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},E),C=m.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=_u({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!T)return null;Object.assign(a,T.params),h.push({params:a,pathname:Er([u,T.pathname]),pathnameBase:IE(Er([u,T.pathnameBase])),route:C}),T.pathnameBase!=="/"&&(u=Er([u,T.pathnameBase]))}return h}function _u(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=yE(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},C)=>{if(E==="*"){let $=d[C]||"";h=u.slice(0,u.length-$.length).replace(/(.)\/+$/,"$1")}const V=d[C];return T&&!V?y[E]=void 0:y[E]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function yE(i,e=!1,n=!0){_n(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function vE(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _n(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Tr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var _E=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EE=i=>_E.test(i);function wE(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Qi(i):i,u;if(n)if(EE(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),_n(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Dm(n.substring(1),"/"):u=Dm(n,e)}else u=e;return{pathname:u,search:SE(s),hash:AE(a)}}function Dm(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Vh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TE(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ug(i){let e=TE(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Bg(i,e,n,s=!1){let a;typeof i=="string"?a=Qi(i):(a={...i},tt(!a.pathname||!a.pathname.includes("?"),Vh("?","pathname","search",a)),tt(!a.pathname||!a.pathname.includes("#"),Vh("#","pathname","hash",a)),tt(!a.search||!a.search.includes("#"),Vh("#","search","hash",a)));let u=i===""||a.pathname==="",h=u?"/":a.pathname,d;if(h==null)d=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),T-=1;a.pathname=C.join("/")}d=T>=0?e[T]:"/"}let m=wE(a,d),y=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(y||E)&&(m.pathname+="/"),m}var Er=i=>i.join("/").replace(/\/\/+/g,"/"),IE=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),SE=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,AE=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function RE(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function CE(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $g=["POST","PUT","PATCH","DELETE"];new Set($g);var PE=["GET",...$g];new Set(PE);var so=U.createContext(null);so.displayName="DataRouter";var Du=U.createContext(null);Du.displayName="DataRouterState";U.createContext(!1);var Hg=U.createContext({isTransitioning:!1});Hg.displayName="ViewTransition";var kE=U.createContext(new Map);kE.displayName="Fetchers";var xE=U.createContext(null);xE.displayName="Await";var Mn=U.createContext(null);Mn.displayName="Navigation";var xa=U.createContext(null);xa.displayName="Location";var Rr=U.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var kf=U.createContext(null);kf.displayName="RouteError";function NE(i,{relative:e}={}){tt(Na(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Mn),{hash:a,pathname:u,search:h}=Da(i,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:Er([n,u])),s.createHref({pathname:d,search:h,hash:a})}function Na(){return U.useContext(xa)!=null}function hi(){return tt(Na(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(xa).location}var qg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wg(i){U.useContext(Mn).static||U.useLayoutEffect(i)}function DE(){let{isDataRoute:i}=U.useContext(Rr);return i?qE():VE()}function VE(){tt(Na(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(so),{basename:e,navigator:n}=U.useContext(Mn),{matches:s}=U.useContext(Rr),{pathname:a}=hi(),u=JSON.stringify(Ug(s)),h=U.useRef(!1);return Wg(()=>{h.current=!0}),U.useCallback((m,y={})=>{if(_n(h.current,qg),!h.current)return;if(typeof m=="number"){n.go(m);return}let E=Bg(m,JSON.parse(u),a,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Er([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,a,i])}U.createContext(null);function Da(i,{relative:e}={}){let{matches:n}=U.useContext(Rr),{pathname:s}=hi(),a=JSON.stringify(Ug(n));return U.useMemo(()=>Bg(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function LE(i,e){return Kg(i,e)}function Kg(i,e,n,s,a){var re;tt(Na(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(Mn),{matches:h}=U.useContext(Rr),d=h[h.length-1],m=d?d.params:{},y=d?d.pathname:"/",E=d?d.pathnameBase:"/",T=d&&d.route;{let Q=T&&T.path||"";Qg(y,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let C=hi(),V;if(e){let Q=typeof e=="string"?Qi(e):e;tt(E==="/"||((re=Q.pathname)==null?void 0:re.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),V=Q}else V=C;let $=V.pathname||"/",q=$;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");q="/"+$.replace(/^\//,"").split("/").slice(Q.length).join("/")}let M=jg(i,{pathname:q});_n(T||M!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),_n(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=bE(M&&M.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:Er([E,u.encodeLocation?u.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:Er([E,u.encodeLocation?u.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),h,n,s,a);return e&&G?U.createElement(xa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},G):G}function OE(){let i=HE(),e=RE(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:a},n):null,h)}var ME=U.createElement(OE,null),FE=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?U.createElement(Rr.Provider,{value:this.props.routeContext},U.createElement(kf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jE({routeContext:i,match:e,children:n}){let s=U.useContext(so);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Rr.Provider,{value:i},n)}function bE(i,e=[],n=null,s=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n==null?void 0:n.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);tt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let d=!1,m=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(m=E),T.route.id){let{loaderData:C,errors:V}=n,$=T.route.loader&&!C.hasOwnProperty(T.route.id)&&(!V||V[T.route.id]===void 0);if(T.route.lazy||$){d=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let y=n&&s?(E,T)=>{var C,V;s(E,{location:n.location,params:((V=(C=n.matches)==null?void 0:C[0])==null?void 0:V.params)??{},unstable_pattern:CE(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,C)=>{let V,$=!1,q=null,M=null;n&&(V=h&&T.route.id?h[T.route.id]:void 0,q=T.route.errorElement||ME,d&&(m<0&&C===0?(Qg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),$=!0,M=null):m===C&&($=!0,M=T.route.hydrateFallbackElement||null)));let G=e.concat(u.slice(0,C+1)),re=()=>{let Q;return V?Q=q:$?Q=M:T.route.Component?Q=U.createElement(T.route.Component,null):T.route.element?Q=T.route.element:Q=E,U.createElement(jE,{match:T,routeContext:{outlet:E,matches:G,isDataRoute:n!=null},children:Q})};return n&&(T.route.ErrorBoundary||T.route.errorElement||C===0)?U.createElement(FE,{location:n.location,revalidation:n.revalidation,component:q,error:V,children:re(),routeContext:{outlet:null,matches:G,isDataRoute:!0},onError:y}):re()},null)}function xf(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zE(i){let e=U.useContext(so);return tt(e,xf(i)),e}function UE(i){let e=U.useContext(Du);return tt(e,xf(i)),e}function BE(i){let e=U.useContext(Rr);return tt(e,xf(i)),e}function Nf(i){let e=BE(i),n=e.matches[e.matches.length-1];return tt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function $E(){return Nf("useRouteId")}function HE(){var s;let i=U.useContext(kf),e=UE("useRouteError"),n=Nf("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function qE(){let{router:i}=zE("useNavigate"),e=Nf("useNavigate"),n=U.useRef(!1);return Wg(()=>{n.current=!0}),U.useCallback(async(a,u={})=>{_n(n.current,qg),n.current&&(typeof a=="number"?await i.navigate(a):await i.navigate(a,{fromRouteId:e,...u}))},[i,e])}var Vm={};function Qg(i,e,n){!e&&!Vm[i]&&(Vm[i]=!0,_n(!1,n))}U.memo(WE);function WE({routes:i,future:e,state:n,unstable_onError:s}){return Kg(i,void 0,n,s,e)}function ha(i){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KE({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:u=!1,unstable_useTransitions:h}){tt(!Na(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:d,navigator:a,static:u,unstable_useTransitions:h,future:{}}),[d,a,u,h]);typeof n=="string"&&(n=Qi(n));let{pathname:y="/",search:E="",hash:T="",state:C=null,key:V="default"}=n,$=U.useMemo(()=>{let q=Tr(y,d);return q==null?null:{location:{pathname:q,search:E,hash:T,state:C,key:V},navigationType:s}},[d,y,E,T,C,V,s]);return _n($!=null,`<Router basename="${d}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),$==null?null:U.createElement(Mn.Provider,{value:m},U.createElement(xa.Provider,{children:e,value:$}))}function QE({children:i,location:e}){return LE(tf(i),e)}function tf(i,e=[]){let n=[];return U.Children.forEach(i,(s,a)=>{if(!U.isValidElement(s))return;let u=[...e,a];if(s.type===U.Fragment){n.push.apply(n,tf(s.props.children,u));return}tt(s.type===ha,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=tf(s.props.children,u)),n.push(h)}),n}var cu="get",hu="application/x-www-form-urlencoded";function Vu(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function GE(i){return Vu(i)&&i.tagName.toLowerCase()==="button"}function YE(i){return Vu(i)&&i.tagName.toLowerCase()==="form"}function XE(i){return Vu(i)&&i.tagName.toLowerCase()==="input"}function JE(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ZE(i,e){return i.button===0&&(!e||e==="_self")&&!JE(i)}var ru=null;function ew(){if(ru===null)try{new FormData(document.createElement("form"),0),ru=!1}catch{ru=!0}return ru}var tw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lh(i){return i!=null&&!tw.has(i)?(_n(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hu}"`),null):i}function nw(i,e){let n,s,a,u,h;if(YE(i)){let d=i.getAttribute("action");s=d?Tr(d,e):null,n=i.getAttribute("method")||cu,a=Lh(i.getAttribute("enctype"))||hu,u=new FormData(i)}else if(GE(i)||XE(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||d.getAttribute("action");if(s=m?Tr(m,e):null,n=i.getAttribute("formmethod")||d.getAttribute("method")||cu,a=Lh(i.getAttribute("formenctype"))||Lh(d.getAttribute("enctype"))||hu,u=new FormData(d,i),!ew()){let{name:y,type:E,value:T}=i;if(E==="image"){let C=y?`${y}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else y&&u.append(y,T)}}else{if(Vu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=cu,s=null,a=hu,h=i}return u&&a==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Df(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function rw(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Tr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function iw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ow(i,e,n){let s=await Promise.all(i.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await iw(u,n);return h.links?h.links():[]}return[]}));return cw(s.flat(1).filter(sw).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Lm(i,e,n,s,a,u){let h=(m,y)=>n[y]?m.route.id!==n[y].route.id:!0,d=(m,y)=>{var E;return n[y].pathname!==m.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,y)=>h(m,y)||d(m,y)):u==="data"?e.filter((m,y)=>{var T;let E=s.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(h(m,y)||d(m,y))return!0;if(m.route.shouldRevalidate){let C=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function aw(i,e,{includeHydrateFallback:n}={}){return lw(i.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function lw(i){return[...new Set(i)]}function uw(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function cw(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let u=JSON.stringify(uw(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}function Gg(){let i=U.useContext(so);return Df(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function hw(){let i=U.useContext(Du);return Df(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Vf=U.createContext(void 0);Vf.displayName="FrameworkContext";function Yg(){let i=U.useContext(Vf);return Df(i,"You must render this element inside a <HydratedRouter> element"),i}function fw(i,e){let n=U.useContext(Vf),[s,a]=U.useState(!1),[u,h]=U.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,C=U.useRef(null);U.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let q=G=>{G.forEach(re=>{h(re.isIntersecting)})},M=new IntersectionObserver(q,{threshold:.5});return C.current&&M.observe(C.current),()=>{M.disconnect()}}},[i]),U.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let V=()=>{a(!0)},$=()=>{a(!1),h(!1)};return n?i!=="intent"?[u,C,{}]:[u,C,{onFocus:la(d,V),onBlur:la(m,$),onMouseEnter:la(y,V),onMouseLeave:la(E,$),onTouchStart:la(T,V)}]:[!1,C,{}]}function la(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function dw({page:i,...e}){let{router:n}=Gg(),s=U.useMemo(()=>jg(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?U.createElement(mw,{page:i,matches:s,...e}):null}function pw(i){let{manifest:e,routeModules:n}=Yg(),[s,a]=U.useState([]);return U.useEffect(()=>{let u=!1;return ow(i,e,n).then(h=>{u||a(h)}),()=>{u=!0}},[i,e,n]),s}function mw({page:i,matches:e,...n}){let s=hi(),{manifest:a,routeModules:u}=Yg(),{basename:h}=Gg(),{loaderData:d,matches:m}=hw(),y=U.useMemo(()=>Lm(i,e,m,a,s,"data"),[i,e,m,a,s]),E=U.useMemo(()=>Lm(i,e,m,a,s,"assets"),[i,e,m,a,s]),T=U.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let $=new Set,q=!1;if(e.forEach(G=>{var Q;let re=a.routes[G.route.id];!re||!re.hasLoader||(!y.some(ue=>ue.route.id===G.route.id)&&G.route.id in d&&((Q=u[G.route.id])!=null&&Q.shouldRevalidate)||re.hasClientLoader?q=!0:$.add(G.route.id))}),$.size===0)return[];let M=rw(i,h,"data");return q&&$.size>0&&M.searchParams.set("_routes",e.filter(G=>$.has(G.route.id)).map(G=>G.route.id).join(",")),[M.pathname+M.search]},[h,d,s,a,y,e,i,u]),C=U.useMemo(()=>aw(E,a),[E,a]),V=pw(E);return U.createElement(U.Fragment,null,T.map($=>U.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),C.map($=>U.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),V.map(({key:$,link:q})=>U.createElement("link",{key:$,nonce:n.nonce,...q})))}function gw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Xg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xg&&(window.__reactRouterVersion="7.10.1")}catch{}function yw({basename:i,children:e,unstable_useTransitions:n,window:s}){let a=U.useRef();a.current==null&&(a.current=nE({window:s,v5Compat:!0}));let u=a.current,[h,d]=U.useState({action:u.action,location:u.location}),m=U.useCallback(y=>{n===!1?d(y):U.startTransition(()=>d(y))},[n]);return U.useLayoutEffect(()=>u.listen(m),[u,m]),U.createElement(KE,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n===!0})}var Jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qi=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:h,state:d,target:m,to:y,preventScrollReset:E,viewTransition:T,...C},V){let{basename:$,unstable_useTransitions:q}=U.useContext(Mn),M=typeof y=="string"&&Jg.test(y),G,re=!1;if(typeof y=="string"&&M&&(G=y,Xg))try{let x=new URL(window.location.href),R=y.startsWith("//")?new URL(x.protocol+y):new URL(y),N=Tr(R.pathname,$);R.origin===x.origin&&N!=null?y=N+R.search+R.hash:re=!0}catch{_n(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=NE(y,{relative:a}),[ue,Ie,Te]=fw(s,C),D=ww(y,{replace:h,state:d,target:m,preventScrollReset:E,relative:a,viewTransition:T,unstable_useTransitions:q});function I(x){e&&e(x),x.defaultPrevented||D(x)}let P=U.createElement("a",{...C,...Te,href:G||Q,onClick:re||u?e:I,ref:gw(V,Ie),target:m,"data-discover":!M&&n==="render"?"true":void 0});return ue&&!M?U.createElement(U.Fragment,null,P,U.createElement(dw,{page:Q})):P});qi.displayName="Link";var vw=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:h,viewTransition:d,children:m,...y},E){let T=Da(h,{relative:y.relative}),C=hi(),V=U.useContext(Du),{navigator:$,basename:q}=U.useContext(Mn),M=V!=null&&Rw(T)&&d===!0,G=$.encodeLocation?$.encodeLocation(T).pathname:T.pathname,re=C.pathname,Q=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(re=re.toLowerCase(),Q=Q?Q.toLowerCase():null,G=G.toLowerCase()),Q&&q&&(Q=Tr(Q,q)||Q);const ue=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let Ie=re===G||!a&&re.startsWith(G)&&re.charAt(ue)==="/",Te=Q!=null&&(Q===G||!a&&Q.startsWith(G)&&Q.charAt(G.length)==="/"),D={isActive:Ie,isPending:Te,isTransitioning:M},I=Ie?e:void 0,P;typeof s=="function"?P=s(D):P=[s,Ie?"active":null,Te?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(D):u;return U.createElement(qi,{...y,"aria-current":I,className:P,ref:E,style:x,to:h,viewTransition:d},typeof m=="function"?m(D):m)});vw.displayName="NavLink";var _w=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:u,method:h=cu,action:d,onSubmit:m,relative:y,preventScrollReset:E,viewTransition:T,...C},V)=>{let{unstable_useTransitions:$}=U.useContext(Mn),q=Sw(),M=Aw(d,{relative:y}),G=h.toLowerCase()==="get"?"get":"post",re=typeof d=="string"&&Jg.test(d),Q=ue=>{if(m&&m(ue),ue.defaultPrevented)return;ue.preventDefault();let Ie=ue.nativeEvent.submitter,Te=(Ie==null?void 0:Ie.getAttribute("formmethod"))||h,D=()=>q(Ie||ue.currentTarget,{fetcherKey:e,method:Te,navigate:n,replace:a,state:u,relative:y,preventScrollReset:E,viewTransition:T});$&&n!==!1?U.startTransition(()=>D()):D()};return U.createElement("form",{ref:V,method:G,action:M,onSubmit:s?m:Q,...C,"data-discover":!re&&i==="render"?"true":void 0})});_w.displayName="Form";function Ew(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zg(i){let e=U.useContext(so);return tt(e,Ew(i)),e}function ww(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:h,unstable_useTransitions:d}={}){let m=DE(),y=hi(),E=Da(i,{relative:u});return U.useCallback(T=>{if(ZE(T,e)){T.preventDefault();let C=n!==void 0?n:Ea(y)===Ea(E),V=()=>m(i,{replace:C,state:s,preventScrollReset:a,relative:u,viewTransition:h});d?U.startTransition(()=>V()):V()}},[y,m,E,n,s,e,i,a,u,h,d])}var Tw=0,Iw=()=>`__${String(++Tw)}__`;function Sw(){let{router:i}=Zg("useSubmit"),{basename:e}=U.useContext(Mn),n=$E(),s=i.fetch,a=i.navigate;return U.useCallback(async(u,h={})=>{let{action:d,method:m,encType:y,formData:E,body:T}=nw(u,e);if(h.navigate===!1){let C=h.fetcherKey||Iw();await s(C,n,h.action||d,{preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||m,formEncType:h.encType||y,flushSync:h.flushSync})}else await a(h.action||d,{preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||m,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,a,e,n])}function Aw(i,{relative:e}={}){let{basename:n}=U.useContext(Mn),s=U.useContext(Rr);tt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...Da(i||".",{relative:e})},h=hi();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(E=>E==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let E=d.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Er([n,u.pathname])),Ea(u)}function Rw(i,{relative:e}={}){let n=U.useContext(Hg);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Zg("useViewTransitionState"),a=Da(i,{relative:e});if(!n.isTransitioning)return!1;let u=Tr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Tr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return _u(a.pathname,h)!=null||_u(a.pathname,u)!=null}const Lu=()=>b.jsx(qi,{to:"/",children:b.jsx("div",{className:"headstrip",children:b.jsxs("p",{children:["GALERIA ",b.jsx("span",{className:"header_name",children:"FLORIAN MUSIA"})," ",b.jsx("span",{className:"header_city",children:"-LUBLIN"})]})})}),Cw=[{name:"DUAREALIZM",path:"/duarealizm"},{name:"PROEGZYSTENCJALIZM",path:"/proegzystencjalizm"},{name:"UNIFORMIZM",path:"/uniformizm"}],Ou=()=>{const i=hi(),[e,n]=U.useState(i.pathname),s=a=>{n(a)};return b.jsx("div",{className:"main_menu",children:b.jsx("ul",{children:Cw.map(({name:a,path:u})=>b.jsx("li",{children:b.jsx(qi,{className:`menu_link ${e===u?"active":""}`,to:u,onClick:()=>s(u),children:a})},u))})})};var Om={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Pw=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[n++],h=i[n++],d=i[n++],m=((a&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},ty={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],h=a+1<i.length,d=h?i[a+1]:0,m=a+2<i.length,y=m?i[a+2]:0,E=u>>2,T=(u&3)<<4|d>>4;let C=(d&15)<<2|y>>6,V=y&63;m||(V=64,h||(C=64)),s.push(n[E],n[T],n[C],n[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ey(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Pw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=n[i.charAt(a++)],d=a<i.length?n[i.charAt(a)]:0;++a;const y=a<i.length?n[i.charAt(a)]:64;++a;const T=a<i.length?n[i.charAt(a)]:64;if(++a,u==null||d==null||y==null||T==null)throw new kw;const C=u<<2|d>>4;if(s.push(C),y!==64){const V=d<<4&240|y>>2;if(s.push(V),T!==64){const $=y<<6&192|T;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class kw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xw=function(i){const e=ey(i);return ty.encodeByteArray(e,!0)},Eu=function(i){return xw(i).replace(/\./g,"")},Nw=function(i){try{return ty.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=()=>Dw().__FIREBASE_DEFAULTS__,Lw=()=>{if(typeof process>"u"||typeof Om>"u")return;const i=Om.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Ow=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Nw(i[1]);return e&&JSON.parse(e)},Lf=()=>{try{return Vw()||Lw()||Ow()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Mw=i=>{var e,n;return(n=(e=Lf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Fw=i=>{const e=Mw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ny=()=>{var i;return(i=Lf())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Eu(JSON.stringify(n)),Eu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uw(){var i;const e=(i=Lf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bw(){return!Uw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $w(){try{return typeof indexedDB=="object"}catch{return!1}}function Hw(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="FirebaseError";class oo extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=qw,Object.setPrototypeOf(this,oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ry.prototype.create)}}class ry{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?Ww(u,s):"Error",d=`${this.serviceName}: ${h} (${a}).`;return new oo(a,d,s)}}function Ww(i,e){return i.replace(Kw,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Kw=/\{\$([^}]+)}/g;function nf(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=i[a],h=e[a];if(Mm(u)&&Mm(h)){if(!nf(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Mm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(i){return i&&i._delegate?i._delegate:i}class wa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new jw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yw(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Gw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gw(i){return i===Bi?void 0:i}function Yw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Qw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const Jw={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},Zw=Ve.INFO,e0={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},t0=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=e0[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iy{constructor(e){this.name=e,this._logLevel=Zw,this._logHandler=t0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Jw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const n0=(i,e)=>e.some(n=>i instanceof n);let Fm,jm;function r0(){return Fm||(Fm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i0(){return jm||(jm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sy=new WeakMap,rf=new WeakMap,oy=new WeakMap,Oh=new WeakMap,Of=new WeakMap;function s0(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Zr(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&sy.set(n,i)}).catch(()=>{}),Of.set(e,i),e}function o0(i){if(rf.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});rf.set(i,e)}let sf={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return rf.get(i);if(e==="objectStoreNames")return i.objectStoreNames||oy.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function a0(i){sf=i(sf)}function l0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Mh(this),e,...n);return oy.set(s,e.sort?e.sort():[e]),Zr(s)}:i0().includes(i)?function(...e){return i.apply(Mh(this),e),Zr(sy.get(this))}:function(...e){return Zr(i.apply(Mh(this),e))}}function u0(i){return typeof i=="function"?l0(i):(i instanceof IDBTransaction&&o0(i),n0(i,r0())?new Proxy(i,sf):i)}function Zr(i){if(i instanceof IDBRequest)return s0(i);if(Oh.has(i))return Oh.get(i);const e=u0(i);return e!==i&&(Oh.set(i,e),Of.set(e,i)),e}const Mh=i=>Of.get(i);function c0(i,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(i,e),d=Zr(h);return s&&h.addEventListener("upgradeneeded",m=>{s(Zr(h.result),m.oldVersion,m.newVersion,Zr(h.transaction),m)}),n&&h.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),a&&m.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const h0=["get","getKey","getAll","getAllKeys","count"],f0=["put","add","delete","clear"],Fh=new Map;function bm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Fh.get(e))return Fh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=f0.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||h0.includes(n)))return;const u=async function(h,...d){const m=this.transaction(h,a?"readwrite":"readonly");let y=m.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[n](...d),a&&m.done]))[0]};return Fh.set(e,u),u}a0(i=>({...i,get:(e,n,s)=>bm(e,n)||i.get(e,n,s),has:(e,n)=>!!bm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p0(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function p0(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const of="@firebase/app",zm="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new iy("@firebase/app"),m0="@firebase/app-compat",g0="@firebase/analytics-compat",y0="@firebase/analytics",v0="@firebase/app-check-compat",_0="@firebase/app-check",E0="@firebase/auth",w0="@firebase/auth-compat",T0="@firebase/database",I0="@firebase/data-connect",S0="@firebase/database-compat",A0="@firebase/functions",R0="@firebase/functions-compat",C0="@firebase/installations",P0="@firebase/installations-compat",k0="@firebase/messaging",x0="@firebase/messaging-compat",N0="@firebase/performance",D0="@firebase/performance-compat",V0="@firebase/remote-config",L0="@firebase/remote-config-compat",O0="@firebase/storage",M0="@firebase/storage-compat",F0="@firebase/firestore",j0="@firebase/vertexai",b0="@firebase/firestore-compat",z0="firebase",U0="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af="[DEFAULT]",B0={[of]:"fire-core",[m0]:"fire-core-compat",[y0]:"fire-analytics",[g0]:"fire-analytics-compat",[_0]:"fire-app-check",[v0]:"fire-app-check-compat",[E0]:"fire-auth",[w0]:"fire-auth-compat",[T0]:"fire-rtdb",[I0]:"fire-data-connect",[S0]:"fire-rtdb-compat",[A0]:"fire-fn",[R0]:"fire-fn-compat",[C0]:"fire-iid",[P0]:"fire-iid-compat",[k0]:"fire-fcm",[x0]:"fire-fcm-compat",[N0]:"fire-perf",[D0]:"fire-perf-compat",[V0]:"fire-rc",[L0]:"fire-rc-compat",[O0]:"fire-gcs",[M0]:"fire-gcs-compat",[F0]:"fire-fst",[b0]:"fire-fst-compat",[j0]:"fire-vertex","fire-js":"fire-js",[z0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new Map,$0=new Map,lf=new Map;function Um(i,e){try{i.container.addComponent(e)}catch(n){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function wu(i){const e=i.name;if(lf.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;lf.set(e,i);for(const n of Ta.values())Um(n,i);for(const n of $0.values())Um(n,i);return!0}function H0(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new ry("app","Firebase",q0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=U0;function ao(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:af,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw ei.create("bad-app-name",{appName:String(a)});if(n||(n=ny()),!n)throw ei.create("no-options");const u=Ta.get(a);if(u){if(nf(n,u.options)&&nf(s,u.config))return u;throw ei.create("duplicate-app",{appName:a})}const h=new Xw(a);for(const m of lf.values())h.addComponent(m);const d=new W0(n,s,h);return Ta.set(a,d),d}function Va(i=af){const e=Ta.get(i);if(!e&&i===af&&ny())return ao();if(!e)throw ei.create("no-app",{appName:i});return e}function La(){return Array.from(Ta.values())}function Qs(i,e,n){var s;let a=(s=B0[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${a}" with version "${e}":`];u&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(d.join(" "));return}wu(new wa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="firebase-heartbeat-database",G0=1,Ia="firebase-heartbeat-store";let jh=null;function ay(){return jh||(jh=c0(Q0,G0,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ia)}catch(n){console.warn(n)}}}}).catch(i=>{throw ei.create("idb-open",{originalErrorMessage:i.message})})),jh}async function Y0(i){try{const n=(await ay()).transaction(Ia),s=await n.objectStore(Ia).get(ly(i));return await n.done,s}catch(e){if(e instanceof oo)Ir.warn(e.message);else{const n=ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ir.warn(n.message)}}}async function Bm(i,e){try{const s=(await ay()).transaction(Ia,"readwrite");await s.objectStore(Ia).put(e,ly(i)),await s.done}catch(n){if(n instanceof oo)Ir.warn(n.message);else{const s=ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ir.warn(s.message)}}}function ly(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=1024,J0=720*60*60*1e3;class Z0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tT(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=$m();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=J0}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Ir.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$m(),{heartbeatsToSend:s,unsentEntries:a}=eT(this._heartbeatsCache.heartbeats),u=Eu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ir.warn(n),""}}}function $m(){return new Date().toISOString().substring(0,10)}function eT(i,e=X0){const n=[];let s=i.slice();for(const a of i){const u=n.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),Hm(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Hm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class tT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $w()?Hw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Y0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Bm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Bm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Hm(i){return Eu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(i){wu(new wa("platform-logger",e=>new d0(e),"PRIVATE")),wu(new wa("heartbeat",e=>new Z0(e),"PRIVATE")),Qs(of,zm,i),Qs(of,zm,"esm2017"),Qs("fire-js","")}nT("");var qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ti,uy;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function P(){}P.prototype=I.prototype,D.D=I.prototype,D.prototype=new P,D.prototype.constructor=D,D.C=function(x,R,N){for(var A=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)A[Me-2]=arguments[Me];return I.prototype[R].apply(x,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,I,P){P||(P=0);var x=Array(16);if(typeof I=="string")for(var R=0;16>R;++R)x[R]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(R=0;16>R;++R)x[R]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=D.g[0],P=D.g[1],R=D.g[2];var N=D.g[3],A=I+(N^P&(R^N))+x[0]+3614090360&4294967295;I=P+(A<<7&4294967295|A>>>25),A=N+(R^I&(P^R))+x[1]+3905402710&4294967295,N=I+(A<<12&4294967295|A>>>20),A=R+(P^N&(I^P))+x[2]+606105819&4294967295,R=N+(A<<17&4294967295|A>>>15),A=P+(I^R&(N^I))+x[3]+3250441966&4294967295,P=R+(A<<22&4294967295|A>>>10),A=I+(N^P&(R^N))+x[4]+4118548399&4294967295,I=P+(A<<7&4294967295|A>>>25),A=N+(R^I&(P^R))+x[5]+1200080426&4294967295,N=I+(A<<12&4294967295|A>>>20),A=R+(P^N&(I^P))+x[6]+2821735955&4294967295,R=N+(A<<17&4294967295|A>>>15),A=P+(I^R&(N^I))+x[7]+4249261313&4294967295,P=R+(A<<22&4294967295|A>>>10),A=I+(N^P&(R^N))+x[8]+1770035416&4294967295,I=P+(A<<7&4294967295|A>>>25),A=N+(R^I&(P^R))+x[9]+2336552879&4294967295,N=I+(A<<12&4294967295|A>>>20),A=R+(P^N&(I^P))+x[10]+4294925233&4294967295,R=N+(A<<17&4294967295|A>>>15),A=P+(I^R&(N^I))+x[11]+2304563134&4294967295,P=R+(A<<22&4294967295|A>>>10),A=I+(N^P&(R^N))+x[12]+1804603682&4294967295,I=P+(A<<7&4294967295|A>>>25),A=N+(R^I&(P^R))+x[13]+4254626195&4294967295,N=I+(A<<12&4294967295|A>>>20),A=R+(P^N&(I^P))+x[14]+2792965006&4294967295,R=N+(A<<17&4294967295|A>>>15),A=P+(I^R&(N^I))+x[15]+1236535329&4294967295,P=R+(A<<22&4294967295|A>>>10),A=I+(R^N&(P^R))+x[1]+4129170786&4294967295,I=P+(A<<5&4294967295|A>>>27),A=N+(P^R&(I^P))+x[6]+3225465664&4294967295,N=I+(A<<9&4294967295|A>>>23),A=R+(I^P&(N^I))+x[11]+643717713&4294967295,R=N+(A<<14&4294967295|A>>>18),A=P+(N^I&(R^N))+x[0]+3921069994&4294967295,P=R+(A<<20&4294967295|A>>>12),A=I+(R^N&(P^R))+x[5]+3593408605&4294967295,I=P+(A<<5&4294967295|A>>>27),A=N+(P^R&(I^P))+x[10]+38016083&4294967295,N=I+(A<<9&4294967295|A>>>23),A=R+(I^P&(N^I))+x[15]+3634488961&4294967295,R=N+(A<<14&4294967295|A>>>18),A=P+(N^I&(R^N))+x[4]+3889429448&4294967295,P=R+(A<<20&4294967295|A>>>12),A=I+(R^N&(P^R))+x[9]+568446438&4294967295,I=P+(A<<5&4294967295|A>>>27),A=N+(P^R&(I^P))+x[14]+3275163606&4294967295,N=I+(A<<9&4294967295|A>>>23),A=R+(I^P&(N^I))+x[3]+4107603335&4294967295,R=N+(A<<14&4294967295|A>>>18),A=P+(N^I&(R^N))+x[8]+1163531501&4294967295,P=R+(A<<20&4294967295|A>>>12),A=I+(R^N&(P^R))+x[13]+2850285829&4294967295,I=P+(A<<5&4294967295|A>>>27),A=N+(P^R&(I^P))+x[2]+4243563512&4294967295,N=I+(A<<9&4294967295|A>>>23),A=R+(I^P&(N^I))+x[7]+1735328473&4294967295,R=N+(A<<14&4294967295|A>>>18),A=P+(N^I&(R^N))+x[12]+2368359562&4294967295,P=R+(A<<20&4294967295|A>>>12),A=I+(P^R^N)+x[5]+4294588738&4294967295,I=P+(A<<4&4294967295|A>>>28),A=N+(I^P^R)+x[8]+2272392833&4294967295,N=I+(A<<11&4294967295|A>>>21),A=R+(N^I^P)+x[11]+1839030562&4294967295,R=N+(A<<16&4294967295|A>>>16),A=P+(R^N^I)+x[14]+4259657740&4294967295,P=R+(A<<23&4294967295|A>>>9),A=I+(P^R^N)+x[1]+2763975236&4294967295,I=P+(A<<4&4294967295|A>>>28),A=N+(I^P^R)+x[4]+1272893353&4294967295,N=I+(A<<11&4294967295|A>>>21),A=R+(N^I^P)+x[7]+4139469664&4294967295,R=N+(A<<16&4294967295|A>>>16),A=P+(R^N^I)+x[10]+3200236656&4294967295,P=R+(A<<23&4294967295|A>>>9),A=I+(P^R^N)+x[13]+681279174&4294967295,I=P+(A<<4&4294967295|A>>>28),A=N+(I^P^R)+x[0]+3936430074&4294967295,N=I+(A<<11&4294967295|A>>>21),A=R+(N^I^P)+x[3]+3572445317&4294967295,R=N+(A<<16&4294967295|A>>>16),A=P+(R^N^I)+x[6]+76029189&4294967295,P=R+(A<<23&4294967295|A>>>9),A=I+(P^R^N)+x[9]+3654602809&4294967295,I=P+(A<<4&4294967295|A>>>28),A=N+(I^P^R)+x[12]+3873151461&4294967295,N=I+(A<<11&4294967295|A>>>21),A=R+(N^I^P)+x[15]+530742520&4294967295,R=N+(A<<16&4294967295|A>>>16),A=P+(R^N^I)+x[2]+3299628645&4294967295,P=R+(A<<23&4294967295|A>>>9),A=I+(R^(P|~N))+x[0]+4096336452&4294967295,I=P+(A<<6&4294967295|A>>>26),A=N+(P^(I|~R))+x[7]+1126891415&4294967295,N=I+(A<<10&4294967295|A>>>22),A=R+(I^(N|~P))+x[14]+2878612391&4294967295,R=N+(A<<15&4294967295|A>>>17),A=P+(N^(R|~I))+x[5]+4237533241&4294967295,P=R+(A<<21&4294967295|A>>>11),A=I+(R^(P|~N))+x[12]+1700485571&4294967295,I=P+(A<<6&4294967295|A>>>26),A=N+(P^(I|~R))+x[3]+2399980690&4294967295,N=I+(A<<10&4294967295|A>>>22),A=R+(I^(N|~P))+x[10]+4293915773&4294967295,R=N+(A<<15&4294967295|A>>>17),A=P+(N^(R|~I))+x[1]+2240044497&4294967295,P=R+(A<<21&4294967295|A>>>11),A=I+(R^(P|~N))+x[8]+1873313359&4294967295,I=P+(A<<6&4294967295|A>>>26),A=N+(P^(I|~R))+x[15]+4264355552&4294967295,N=I+(A<<10&4294967295|A>>>22),A=R+(I^(N|~P))+x[6]+2734768916&4294967295,R=N+(A<<15&4294967295|A>>>17),A=P+(N^(R|~I))+x[13]+1309151649&4294967295,P=R+(A<<21&4294967295|A>>>11),A=I+(R^(P|~N))+x[4]+4149444226&4294967295,I=P+(A<<6&4294967295|A>>>26),A=N+(P^(I|~R))+x[11]+3174756917&4294967295,N=I+(A<<10&4294967295|A>>>22),A=R+(I^(N|~P))+x[2]+718787259&4294967295,R=N+(A<<15&4294967295|A>>>17),A=P+(N^(R|~I))+x[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,D.g[2]=D.g[2]+R&4294967295,D.g[3]=D.g[3]+N&4294967295}s.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var P=I-this.blockSize,x=this.B,R=this.h,N=0;N<I;){if(R==0)for(;N<=P;)a(this,D,N),N+=this.blockSize;if(typeof D=="string"){for(;N<I;)if(x[R++]=D.charCodeAt(N++),R==this.blockSize){a(this,x),R=0;break}}else for(;N<I;)if(x[R++]=D[N++],R==this.blockSize){a(this,x),R=0;break}}this.h=R,this.o+=I},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var P=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=P&255,P/=256;for(this.u(D),D=Array(16),I=P=0;4>I;++I)for(var x=0;32>x;x+=8)D[P++]=this.g[I]>>>x&255;return D};function u(D,I){var P=d;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=I(D)}function h(D,I){this.h=I;for(var P=[],x=!0,R=D.length-1;0<=R;R--){var N=D[R]|0;x&&N==I||(P[R]=N,x=!1)}this.g=P}var d={};function m(D){return-128<=D&&128>D?u(D,function(I){return new h([I|0],0>I?-1:0)}):new h([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return M(y(-D));for(var I=[],P=1,x=0;D>=P;x++)I[x]=D/P|0,P*=4294967296;return new h(I,0)}function E(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return M(E(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=y(Math.pow(I,8)),x=T,R=0;R<D.length;R+=8){var N=Math.min(8,D.length-R),A=parseInt(D.substring(R,R+N),I);8>N?(N=y(Math.pow(I,N)),x=x.j(N).add(y(A))):(x=x.j(P),x=x.add(y(A)))}return x}var T=m(0),C=m(1),V=m(16777216);i=h.prototype,i.m=function(){if(q(this))return-M(this).m();for(var D=0,I=1,P=0;P<this.g.length;P++){var x=this.i(P);D+=(0<=x?x:4294967296+x)*I,I*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if($(this))return"0";if(q(this))return"-"+M(this).toString(D);for(var I=y(Math.pow(D,6)),P=this,x="";;){var R=ue(P,I).g;P=G(P,R.j(I));var N=((0<P.g.length?P.g[0]:P.h)>>>0).toString(D);if(P=R,$(P))return N+x;for(;6>N.length;)N="0"+N;x=N+x}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function $(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function q(D){return D.h==-1}i.l=function(D){return D=G(this,D),q(D)?-1:$(D)?0:1};function M(D){for(var I=D.g.length,P=[],x=0;x<I;x++)P[x]=~D.g[x];return new h(P,~D.h).add(C)}i.abs=function(){return q(this)?M(this):this},i.add=function(D){for(var I=Math.max(this.g.length,D.g.length),P=[],x=0,R=0;R<=I;R++){var N=x+(this.i(R)&65535)+(D.i(R)&65535),A=(N>>>16)+(this.i(R)>>>16)+(D.i(R)>>>16);x=A>>>16,N&=65535,A&=65535,P[R]=A<<16|N}return new h(P,P[P.length-1]&-2147483648?-1:0)};function G(D,I){return D.add(M(I))}i.j=function(D){if($(this)||$(D))return T;if(q(this))return q(D)?M(this).j(M(D)):M(M(this).j(D));if(q(D))return M(this.j(M(D)));if(0>this.l(V)&&0>D.l(V))return y(this.m()*D.m());for(var I=this.g.length+D.g.length,P=[],x=0;x<2*I;x++)P[x]=0;for(x=0;x<this.g.length;x++)for(var R=0;R<D.g.length;R++){var N=this.i(x)>>>16,A=this.i(x)&65535,Me=D.i(R)>>>16,Qe=D.i(R)&65535;P[2*x+2*R]+=A*Qe,re(P,2*x+2*R),P[2*x+2*R+1]+=N*Qe,re(P,2*x+2*R+1),P[2*x+2*R+1]+=A*Me,re(P,2*x+2*R+1),P[2*x+2*R+2]+=N*Me,re(P,2*x+2*R+2)}for(x=0;x<I;x++)P[x]=P[2*x+1]<<16|P[2*x];for(x=I;x<2*I;x++)P[x]=0;return new h(P,0)};function re(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function Q(D,I){this.g=D,this.h=I}function ue(D,I){if($(I))throw Error("division by zero");if($(D))return new Q(T,T);if(q(D))return I=ue(M(D),I),new Q(M(I.g),M(I.h));if(q(I))return I=ue(D,M(I)),new Q(M(I.g),I.h);if(30<D.g.length){if(q(D)||q(I))throw Error("slowDivide_ only works with positive integers.");for(var P=C,x=I;0>=x.l(D);)P=Ie(P),x=Ie(x);var R=Te(P,1),N=Te(x,1);for(x=Te(x,2),P=Te(P,2);!$(x);){var A=N.add(x);0>=A.l(D)&&(R=R.add(P),N=A),x=Te(x,1),P=Te(P,1)}return I=G(D,R.j(I)),new Q(R,I)}for(R=T;0<=D.l(I);){for(P=Math.max(1,Math.floor(D.m()/I.m())),x=Math.ceil(Math.log(P)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),N=y(P),A=N.j(I);q(A)||0<A.l(D);)P-=x,N=y(P),A=N.j(I);$(N)&&(N=C),R=R.add(N),D=G(D,A)}return new Q(R,D)}i.A=function(D){return ue(this,D).h},i.and=function(D){for(var I=Math.max(this.g.length,D.g.length),P=[],x=0;x<I;x++)P[x]=this.i(x)&D.i(x);return new h(P,this.h&D.h)},i.or=function(D){for(var I=Math.max(this.g.length,D.g.length),P=[],x=0;x<I;x++)P[x]=this.i(x)|D.i(x);return new h(P,this.h|D.h)},i.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),P=[],x=0;x<I;x++)P[x]=this.i(x)^D.i(x);return new h(P,this.h^D.h)};function Ie(D){for(var I=D.g.length+1,P=[],x=0;x<I;x++)P[x]=D.i(x)<<1|D.i(x-1)>>>31;return new h(P,D.h)}function Te(D,I){var P=I>>5;I%=32;for(var x=D.g.length-P,R=[],N=0;N<x;N++)R[N]=0<I?D.i(N+P)>>>I|D.i(N+P+1)<<32-I:D.i(N+P);return new h(R,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,uy=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,ti=h}).apply(typeof qm<"u"?qm:typeof self<"u"?self:typeof window<"u"?window:{});var iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cy,fa,hy,fu,uf,fy,dy,py;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,v){return l==Array.prototype||l==Object.prototype||(l[p]=v.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof iu=="object"&&iu];for(var p=0;p<l.length;++p){var v=l[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function a(l,p){if(p)e:{var v=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var F=l[w];if(!(F in v))break e;v=v[F]}l=l[l.length-1],w=v[l],p=p(w),p!=w&&p!=null&&e(v,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var v=0,w=!1,F={next:function(){if(!w&&v<l.length){var H=v++;return{value:p(H,l[H]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(l){return l||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function y(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function E(l,p,v){return l.call.apply(l.bind,arguments)}function T(l,p,v){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),l.apply(p,F)}}return function(){return l.apply(p,arguments)}}function C(l,p,v){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,C.apply(null,arguments)}function V(l,p){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function $(l,p){function v(){}v.prototype=p.prototype,l.aa=p.prototype,l.prototype=new v,l.prototype.constructor=l,l.Qb=function(w,F,H){for(var te=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)te[Ue-2]=arguments[Ue];return p.prototype[F].apply(w,te)}}function q(l){const p=l.length;if(0<p){const v=Array(p);for(let w=0;w<p;w++)v[w]=l[w];return v}return[]}function M(l,p){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(m(w)){const F=l.length||0,H=w.length||0;l.length=F+H;for(let te=0;te<H;te++)l[F+te]=w[te]}else l.push(w)}}class G{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function re(l){return/^[\s\xa0]*$/.test(l)}function Q(){var l=d.navigator;return l&&(l=l.userAgent)?l:""}function ue(l){return ue[" "](l),l}ue[" "]=function(){};var Ie=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function Te(l,p,v){for(const w in l)p.call(v,l[w],w,l)}function D(l,p){for(const v in l)p.call(void 0,l[v],v,l)}function I(l){const p={};for(const v in l)p[v]=l[v];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,p){let v,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(v in w)l[v]=w[v];for(let H=0;H<P.length;H++)v=P[H],Object.prototype.hasOwnProperty.call(w,v)&&(l[v]=w[v])}}function R(l){var p=1;l=l.split(":");const v=[];for(;0<p&&l.length;)v.push(l.shift()),p--;return l.length&&v.push(l.join(":")),v}function N(l){d.setTimeout(()=>{throw l},0)}function A(){var l=pe;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class Me{constructor(){this.h=this.g=null}add(p,v){const w=Qe.get();w.set(p,v),this.h?this.h.next=w:this.g=w,this.h=w}}var Qe=new G(()=>new Je,l=>l.reset());class Je{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let be,ne=!1,pe=new Me,se=()=>{const l=d.Promise.resolve(void 0);be=()=>{l.then(O)}};var O=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(v){N(v)}var p=Qe;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}ne=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Se=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const v=()=>{};d.addEventListener("test",v,p),d.removeEventListener("test",v,p)}catch{}return l})();function Ae(l,p){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var v=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(Ie){e:{try{ue(p.nodeName);var F=!0;break e}catch{}F=!1}F||(p=null)}}else v=="mouseover"?p=l.fromElement:v=="mouseout"&&(p=l.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ae.aa.h.call(this)}}$(Ae,de);var xe={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),je=0;function $e(l,p,v,w,F){this.listener=l,this.proxy=null,this.src=p,this.type=v,this.capture=!!w,this.ha=F,this.key=++je,this.da=this.fa=!1}function vt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function er(l){this.src=l,this.g={},this.h=0}er.prototype.add=function(l,p,v,w,F){var H=l.toString();l=this.g[H],l||(l=this.g[H]=[],this.h++);var te=Cr(l,p,w,F);return-1<te?(p=l[te],v||(p.fa=!1)):(p=new $e(p,this.src,H,!!w,F),p.fa=v,l.push(p)),p};function Xi(l,p){var v=p.type;if(v in l.g){var w=l.g[v],F=Array.prototype.indexOf.call(w,p,void 0),H;(H=0<=F)&&Array.prototype.splice.call(w,F,1),H&&(vt(p),l.g[v].length==0&&(delete l.g[v],l.h--))}}function Cr(l,p,v,w){for(var F=0;F<l.length;++F){var H=l[F];if(!H.da&&H.listener==p&&H.capture==!!v&&H.ha==w)return F}return-1}var pi="closure_lm_"+(1e6*Math.random()|0),Ji={};function fo(l,p,v,w,F){if(Array.isArray(p)){for(var H=0;H<p.length;H++)fo(l,p[H],v,w,F);return null}return v=go(v),l&&l[Fe]?l.K(p,v,y(w)?!!w.capture:!1,F):po(l,p,v,!1,w,F)}function po(l,p,v,w,F,H){if(!p)throw Error("Invalid event type");var te=y(F)?!!F.capture:!!F,Ue=es(l);if(Ue||(l[pi]=Ue=new er(l)),v=Ue.add(p,v,w,te,H),v.proxy)return v;if(w=Ua(),v.proxy=w,w.src=l,w.listener=v,l.addEventListener)Se||(F=te),F===void 0&&(F=!1),l.addEventListener(p.toString(),w,F);else if(l.attachEvent)l.attachEvent(nr(p.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ua(){function l(v){return p.call(l.src,l.listener,v)}const p=mo;return l}function Zi(l,p,v,w,F){if(Array.isArray(p))for(var H=0;H<p.length;H++)Zi(l,p[H],v,w,F);else w=y(w)?!!w.capture:!!w,v=go(v),l&&l[Fe]?(l=l.i,p=String(p).toString(),p in l.g&&(H=l.g[p],v=Cr(H,v,w,F),-1<v&&(vt(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete l.g[p],l.h--)))):l&&(l=es(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Cr(p,v,w,F)),(v=-1<l?p[l]:null)&&tr(v))}function tr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Fe])Xi(p.i,l);else{var v=l.type,w=l.proxy;p.removeEventListener?p.removeEventListener(v,w,l.capture):p.detachEvent?p.detachEvent(nr(v),w):p.addListener&&p.removeListener&&p.removeListener(w),(v=es(p))?(Xi(v,l),v.h==0&&(v.src=null,p[pi]=null)):vt(l)}}}function nr(l){return l in Ji?Ji[l]:Ji[l]="on"+l}function mo(l,p){if(l.da)l=!0;else{p=new Ae(p,this);var v=l.listener,w=l.ha||l.src;l.fa&&tr(l),l=v.call(w,p)}return l}function es(l){return l=l[pi],l instanceof er?l:null}var ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function go(l){return typeof l=="function"?l:(l[ts]||(l[ts]=function(p){return l.handleEvent(p)}),l[ts])}function ct(){K.call(this),this.i=new er(this),this.M=this,this.F=null}$(ct,K),ct.prototype[Fe]=!0,ct.prototype.removeEventListener=function(l,p,v,w){Zi(this,l,p,v,w)};function ht(l,p){var v,w=l.F;if(w)for(v=[];w;w=w.F)v.push(w);if(l=l.M,w=p.type||p,typeof p=="string")p=new de(p,l);else if(p instanceof de)p.target=p.target||l;else{var F=p;p=new de(w,l),x(p,F)}if(F=!0,v)for(var H=v.length-1;0<=H;H--){var te=p.g=v[H];F=rr(te,w,!0,p)&&F}if(te=p.g=l,F=rr(te,w,!0,p)&&F,F=rr(te,w,!1,p)&&F,v)for(H=0;H<v.length;H++)te=p.g=v[H],F=rr(te,w,!1,p)&&F}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var v=l.g[p],w=0;w<v.length;w++)vt(v[w]);delete l.g[p],l.h--}}this.F=null},ct.prototype.K=function(l,p,v,w){return this.i.add(String(l),p,!1,v,w)},ct.prototype.L=function(l,p,v,w){return this.i.add(String(l),p,!0,v,w)};function rr(l,p,v,w){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var F=!0,H=0;H<p.length;++H){var te=p[H];if(te&&!te.da&&te.capture==v){var Ue=te.listener,ft=te.ha||te.src;te.fa&&Xi(l.i,te),F=Ue.call(ft,w)!==!1&&F}}return F&&!w.defaultPrevented}function yo(l,p,v){if(typeof l=="function")v&&(l=C(l,v));else if(l&&typeof l.handleEvent=="function")l=C(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(l,p||0)}function Pr(l){l.g=yo(()=>{l.g=null,l.i&&(l.i=!1,Pr(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class mi extends K{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Pr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gi(l){K.call(this),this.h=l,this.g={}}$(gi,K);var vo=[];function _o(l){Te(l.g,function(p,v){this.g.hasOwnProperty(v)&&tr(p)},l),l.g={}}gi.prototype.N=function(){gi.aa.N.call(this),_o(this)},gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Eo=d.JSON.stringify,wo=d.JSON.parse,To=class{stringify(l){return d.JSON.stringify(l,void 0)}parse(l){return d.JSON.parse(l,void 0)}};function yi(){}yi.prototype.h=null;function ns(l){return l.h||(l.h=l.i())}function rs(){}var ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fn(){de.call(this,"d")}$(Fn,de);function is(){de.call(this,"c")}$(is,de);var jn={},Io=null;function vi(){return Io=Io||new ct}jn.La="serverreachability";function So(l){de.call(this,jn.La,l)}$(So,de);function ir(l){const p=vi();ht(p,new So(p))}jn.STAT_EVENT="statevent";function Ao(l,p){de.call(this,jn.STAT_EVENT,l),this.stat=p}$(Ao,de);function it(l){const p=vi();ht(p,new Ao(p,l))}jn.Ma="timingevent";function ss(l,p){de.call(this,jn.Ma,l),this.size=p}$(ss,de);function En(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){l()},p)}function _i(){this.g=!0}_i.prototype.xa=function(){this.g=!1};function Ei(l,p,v,w,F,H){l.info(function(){if(l.g)if(H)for(var te="",Ue=H.split("&"),ft=0;ft<Ue.length;ft++){var Ne=Ue[ft].split("=");if(1<Ne.length){var _t=Ne[0];Ne=Ne[1];var at=_t.split("_");te=2<=at.length&&at[1]=="type"?te+(_t+"="+Ne+"&"):te+(_t+"=redacted&")}}else te=null;else te=H;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+p+`
`+v+`
`+te})}function os(l,p,v,w,F,H,te){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+p+`
`+v+`
`+H+" "+te})}function wn(l,p,v,w){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+nc(l,v)+(w?" "+w:"")})}function Ro(l,p){l.info(function(){return"TIMEOUT: "+p})}_i.prototype.info=function(){};function nc(l,p){if(!l.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(l=0;l<v.length;l++)if(Array.isArray(v[l])){var w=v[l];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var H=F[0];if(H!="noop"&&H!="stop"&&H!="close")for(var te=1;te<F.length;te++)F[te]=""}}}}return Eo(v)}catch{return p}}var as={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ba={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tn;function wi(){}$(wi,yi),wi.prototype.g=function(){return new XMLHttpRequest},wi.prototype.i=function(){return{}},Tn=new wi;function In(l,p,v,w){this.j=l,this.i=p,this.l=v,this.R=w||1,this.U=new gi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $a}function $a(){this.i=null,this.g="",this.h=!1}var Co={},ls={};function us(l,p,v){l.L=1,l.v=Vr(Zt(p)),l.m=v,l.P=!0,Po(l,null)}function Po(l,p){l.F=Date.now(),He(l),l.A=Zt(l.v);var v=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Or(v.i,"t",w),l.C=0,v=l.j.J,l.h=new $a,l.g=al(l.j,v?p:null,!l.m),0<l.O&&(l.M=new mi(C(l.Y,l,l.g),l.O)),p=l.U,v=l.g,w=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(vo[0]=F.toString()),F=vo);for(var H=0;H<F.length;H++){var te=fo(v,F[H],w||p.handleEvent,!1,p.h||p);if(!te)break;p.g[te.key]=te}p=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),ir(),Ei(l.i,l.u,l.A,l.l,l.R,l.m)}In.prototype.ca=function(l){l=l.target;const p=this.M;p&&$t(l)==3?p.j():this.Y(l)},In.prototype.Y=function(l){try{if(l==this.g)e:{const at=$t(this.g);var p=this.g.Ba();const hn=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||Lo(this.g)))){this.J||at!=4||p==7||(p==8||0>=hn?ir(3):ir(2)),Ti(this);var v=this.g.Z();this.X=v;t:if(Ha(this)){var w=Lo(this.g);l="";var F=w.length,H=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),kr(this);var te="";break t}this.h.i=new d.TextDecoder}for(p=0;p<F;p++)this.h.h=!0,l+=this.h.i.decode(w[p],{stream:!(H&&p==F-1)});w.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=v==200,os(this.i,this.u,this.A,this.l,this.R,at,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,ft=this.g;if((Ue=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Ue)){var Ne=Ue;break t}}Ne=null}if(v=Ne)wn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ko(this,v);else{this.o=!1,this.s=3,it(12),un(this),kr(this);break e}}if(this.P){v=!0;let tn;for(;!this.J&&this.C<te.length;)if(tn=rc(this,te),tn==ls){at==4&&(this.s=4,it(14),v=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Co){this.s=4,it(15),wn(this.i,this.l,te,"[Invalid Chunk]"),v=!1;break}else wn(this.i,this.l,tn,null),ko(this,tn);if(Ha(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||te.length!=0||this.h.h||(this.s=1,it(16),v=!1),this.o=this.o&&v,!v)wn(this.i,this.l,te,"[Invalid Chunked Response]"),un(this),kr(this);else if(0<te.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Mo(_t),_t.M=!0,it(11))}}else wn(this.i,this.l,te,null),ko(this,te);at==4&&un(this),this.o&&!this.J&&(at==4?Es(this.j,this):(this.o=!1,He(this)))}else ms(this.g),v==400&&0<te.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),un(this),kr(this)}}}catch{}finally{}};function Ha(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function rc(l,p){var v=l.C,w=p.indexOf(`
`,v);return w==-1?ls:(v=Number(p.substring(v,w)),isNaN(v)?Co:(w+=1,w+v>p.length?ls:(p=p.slice(w,w+v),l.C=w+v,p)))}In.prototype.cancel=function(){this.J=!0,un(this)};function He(l){l.S=Date.now()+l.I,qa(l,l.I)}function qa(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=En(C(l.ba,l),p)}function Ti(l){l.B&&(d.clearTimeout(l.B),l.B=null)}In.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Ro(this.i,this.A),this.L!=2&&(ir(),it(17)),un(this),this.s=2,kr(this)):qa(this,this.S-l)};function kr(l){l.j.G==0||l.J||Es(l.j,l)}function un(l){Ti(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,_o(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function ko(l,p){try{var v=l.j;if(v.G!=0&&(v.g==l||jt(v.h,l))){if(!l.K&&jt(v.h,l)&&v.G==3){try{var w=v.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<l.F)_s(v),Pn(v);else break e;vs(v),it(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=En(C(v.Za,v),6e3));if(1>=Ka(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ur(v,11)}else if((l.K||v.g==l)&&_s(v),!re(p))for(F=v.Da.g.parse(p),p=0;p<F.length;p++){let Ne=F[p];if(v.T=Ne[0],Ne=Ne[1],v.G==2)if(Ne[0]=="c"){v.K=Ne[1],v.ia=Ne[2];const _t=Ne[3];_t!=null&&(v.la=_t,v.j.info("VER="+v.la));const at=Ne[4];at!=null&&(v.Aa=at,v.j.info("SVER="+v.Aa));const hn=Ne[5];hn!=null&&typeof hn=="number"&&0<hn&&(w=1.5*hn,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const tn=l.g;if(tn){const ki=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ki){var H=w.h;H.g||ki.indexOf("spdy")==-1&&ki.indexOf("quic")==-1&&ki.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(xo(H,H.h),H.h=null))}if(w.D){const Ts=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ts&&(w.ya=Ts,Be(w.I,w.D,Ts))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-l.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var te=l;if(w.qa=ol(w,w.J?w.ia:null,w.W),te.K){Qa(w.h,te);var Ue=te,ft=w.L;ft&&(Ue.I=ft),Ue.B&&(Ti(Ue),He(Ue)),w.g=te}else Pi(w);0<v.i.length&&Bn(v)}else Ne[0]!="stop"&&Ne[0]!="close"||ur(v,7);else v.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?ur(v,7):At(v):Ne[0]!="noop"&&v.l&&v.l.ta(Ne),v.v=0)}}ir(4)}catch{}}var Wa=class{constructor(l,p){this.g=l,this.map=p}};function Ii(l){this.l=l||10,d.PerformanceNavigationTiming?(l=d.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ka(l){return l.h?1:l.g?l.g.size:0}function jt(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function xo(l,p){l.g?l.g.add(p):l.h=p}function Qa(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Ii.prototype.cancel=function(){if(this.i=Ga(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ga(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const v of l.g.values())p=p.concat(v.D);return p}return q(l.i)}function cs(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(m(l)){for(var p=[],v=l.length,w=0;w<v;w++)p.push(l[w]);return p}p=[],v=0;for(w in l)p[v++]=l[w];return p}function hs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(m(l)||typeof l=="string"){var p=[];l=l.length;for(var v=0;v<l;v++)p.push(v);return p}p=[],v=0;for(const w in l)p[v++]=w;return p}}}function xr(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(m(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var v=hs(l),w=cs(l),F=w.length,H=0;H<F;H++)p.call(void 0,w[H],v&&v[H],l)}var Si=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ic(l,p){if(l){l=l.split("&");for(var v=0;v<l.length;v++){var w=l[v].indexOf("="),F=null;if(0<=w){var H=l[v].substring(0,w);F=l[v].substring(w+1)}else H=l[v];p(H,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function sr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof sr){this.h=l.h,Ai(this,l.j),this.o=l.o,this.g=l.g,Nr(this,l.s),this.l=l.l;var p=l.i,v=new bn;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Dr(this,v),this.m=l.m}else l&&(p=String(l).match(Si))?(this.h=!1,Ai(this,p[1]||"",!0),this.o=Pe(p[2]||""),this.g=Pe(p[3]||"",!0),Nr(this,p[4]),this.l=Pe(p[5]||"",!0),Dr(this,p[6]||"",!0),this.m=Pe(p[7]||"")):(this.h=!1,this.i=new bn(null,this.h))}sr.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Lr(p,fs,!0),":");var v=this.g;return(v||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Lr(p,fs,!0),"@"),l.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&l.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&l.push("/"),l.push(Lr(v,v.charAt(0)=="/"?Ja:Xa,!0))),(v=this.i.toString())&&l.push("?",v),(v=this.m)&&l.push("#",Lr(v,No)),l.join("")};function Zt(l){return new sr(l)}function Ai(l,p,v){l.j=v?Pe(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Nr(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Dr(l,p,v){p instanceof bn?(l.i=p,zn(l.i,l.h)):(v||(p=Lr(p,Za)),l.i=new bn(p,l.h))}function Be(l,p,v){l.i.set(p,v)}function Vr(l){return Be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Lr(l,p,v){return typeof l=="string"?(l=encodeURI(l).replace(p,Ya),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ya(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var fs=/[#\/\?@]/g,Xa=/[#\?:]/g,Ja=/[#\?]/g,Za=/[#\?@]/g,No=/#/g;function bn(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function St(l){l.g||(l.g=new Map,l.h=0,l.i&&ic(l.i,function(p,v){l.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}i=bn.prototype,i.add=function(l,p){St(this),this.i=null,l=cn(this,l);var v=this.g.get(l);return v||this.g.set(l,v=[]),v.push(p),this.h+=1,this};function Sn(l,p){St(l),p=cn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function An(l,p){return St(l),p=cn(l,p),l.g.has(p)}i.forEach=function(l,p){St(this),this.g.forEach(function(v,w){v.forEach(function(F){l.call(p,F,w,this)},this)},this)},i.na=function(){St(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let w=0;w<p.length;w++){const F=l[w];for(let H=0;H<F.length;H++)v.push(p[w])}return v},i.V=function(l){St(this);let p=[];if(typeof l=="string")An(this,l)&&(p=p.concat(this.g.get(cn(this,l))));else{l=Array.from(this.g.values());for(let v=0;v<l.length;v++)p=p.concat(l[v])}return p},i.set=function(l,p){return St(this),this.i=null,l=cn(this,l),An(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},i.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function Or(l,p,v){Sn(l,p),0<v.length&&(l.i=null,l.g.set(cn(l,p),q(v)),l.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var w=p[v];const H=encodeURIComponent(String(w)),te=this.V(w);for(w=0;w<te.length;w++){var F=H;te[w]!==""&&(F+="="+encodeURIComponent(String(te[w]))),l.push(F)}}return this.i=l.join("&")};function cn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function zn(l,p){p&&!l.j&&(St(l),l.i=null,l.g.forEach(function(v,w){var F=w.toLowerCase();w!=F&&(Sn(this,w),Or(this,F,v))},l)),l.j=p}function sc(l,p){const v=new _i;if(d.Image){const w=new Image;w.onload=V(Bt,v,"TestLoadImage: loaded",!0,p,w),w.onerror=V(Bt,v,"TestLoadImage: error",!1,p,w),w.onabort=V(Bt,v,"TestLoadImage: abort",!1,p,w),w.ontimeout=V(Bt,v,"TestLoadImage: timeout",!1,p,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else p(!1)}function el(l,p){const v=new _i,w=new AbortController,F=setTimeout(()=>{w.abort(),Bt(v,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:w.signal}).then(H=>{clearTimeout(F),H.ok?Bt(v,"TestPingServer: ok",!0,p):Bt(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(F),Bt(v,"TestPingServer: error",!1,p)})}function Bt(l,p,v,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(v)}catch{}}function oc(){this.g=new To}function tl(l,p,v){const w=v||"";try{xr(l,function(F,H){let te=F;y(F)&&(te=Eo(F)),p.push(w+H+"="+encodeURIComponent(te))})}catch(F){throw p.push(w+"type="+encodeURIComponent("_badmap")),F}}function or(l){this.l=l.Ub||null,this.j=l.eb||!1}$(or,yi),or.prototype.g=function(){return new Ri(this.l,this.j)},or.prototype.i=(function(l){return function(){return l}})({});function Ri(l,p){ct.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(Ri,ct),i=Ri.prototype,i.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Cn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Cn(this)),this.g&&(this.readyState=3,Cn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Rn(this):Cn(this),this.readyState==3&&nl(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Rn(this))},i.Qa=function(l){this.g&&(this.response=l,Rn(this))},i.ga=function(){this.g&&Rn(this)};function Rn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Cn(l)}i.setRequestHeader=function(l,p){this.u.append(l,p)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,l.push(v[0]+": "+v[1]),v=p.next();return l.join(`\r
`)};function Cn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ar(l){let p="";return Te(l,function(v,w){p+=w,p+=":",p+=v,p+=`\r
`}),p}function Mr(l,p,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=ar(v),typeof l=="string"?v!=null&&encodeURIComponent(String(v)):Be(l,p,v))}function Ge(l){ct.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Ge,ct);var ac=/^https?$/i,Do=["POST","PUT"];i=Ge.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,p,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tn.g(),this.v=this.o?ns(this.o):ns(Tn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(H){Ci(this,H);return}if(l=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)v.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const H of w.keys())v.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),F=d.FormData&&l instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Do,p,void 0))||w||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,te]of v)this.g.setRequestHeader(H,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ps(this),this.u=!0,this.g.send(l),this.u=!1}catch(H){Ci(this,H)}};function Ci(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,ds(l),en(l)}function ds(l){l.A||(l.A=!0,ht(l,"complete"),ht(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ht(this,"complete"),ht(this,"abort"),en(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),en(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Vo(this):this.bb())},i.bb=function(){Vo(this)};function Vo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||$t(l)!=4||l.Z()!=2)){if(l.u&&$t(l)==4)yo(l.Ea,0,l);else if(ht(l,"readystatechange"),$t(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var w;if(w=te===0){var F=String(l.D).match(Si)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),w=!ac.test(F?F.toLowerCase():"")}v=w}if(v)ht(l,"complete"),ht(l,"success");else{l.m=6;try{var H=2<$t(l)?l.g.statusText:""}catch{H=""}l.l=H+" ["+l.Z()+"]",ds(l)}}finally{en(l)}}}}function en(l,p){if(l.g){ps(l);const v=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||ht(l,"ready");try{v.onreadystatechange=w}catch{}}}function ps(l){l.I&&(d.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function $t(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),wo(p)}};function Lo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ms(l){const p={};l=(l.g&&2<=$t(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(re(l[w]))continue;var v=R(l[w]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=p[F]||[];p[F]=H,H.push(v)}D(p,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Un(l,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[l]||p}function Oo(l){this.Aa=0,this.i=[],this.j=new _i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Un("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Un("baseRetryDelayMs",5e3,l),this.cb=Un("retryDelaySeedMs",1e4,l),this.Wa=Un("forwardChannelMaxRetries",2,l),this.wa=Un("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ii(l&&l.concurrentRequestLimit),this.Da=new oc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Oo.prototype,i.la=8,i.G=1,i.connect=function(l,p,v,w){it(0),this.W=l,this.H=p||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=ol(this,null,this.W),Bn(this)};function At(l){if(gs(l),l.G==3){var p=l.U++,v=Zt(l.I);if(Be(v,"SID",l.K),Be(v,"RID",p),Be(v,"TYPE","terminate"),lr(l,v),p=new In(l,l.j,p),p.L=2,p.v=Vr(Zt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=p.v,v=!0),v||(p.g=al(p.j,null),p.g.ea(p.v)),p.F=Date.now(),He(p)}sl(l)}function Pn(l){l.g&&(Mo(l),l.g.cancel(),l.g=null)}function gs(l){Pn(l),l.u&&(d.clearTimeout(l.u),l.u=null),_s(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&d.clearTimeout(l.s),l.s=null)}function Bn(l){if(!Jt(l.h)&&!l.s){l.s=!0;var p=l.Ga;be||se(),ne||(be(),ne=!0),pe.add(p,l),l.B=0}}function lc(l,p){return Ka(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=En(C(l.Ga,l,p),il(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new In(this,this.j,l);let H=this.o;if(this.S&&(H?(H=I(H),x(H,this.S)):H=this.S),this.m!==null||this.O||(F.H=H,H=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Fr(this,F,p),v=Zt(this.I),Be(v,"RID",l),Be(v,"CVER",22),this.D&&Be(v,"X-HTTP-Session-Id",this.D),lr(this,v),H&&(this.O?p="headers="+encodeURIComponent(String(ar(H)))+"&"+p:this.m&&Mr(v,this.m,H)),xo(this.h,F),this.Ua&&Be(v,"TYPE","init"),this.P?(Be(v,"$req",p),Be(v,"SID","null"),F.T=!0,us(F,v,null)):us(F,v,p),this.G=2}}else this.G==3&&(l?ys(this,l):this.i.length==0||Jt(this.h)||ys(this))};function ys(l,p){var v;p?v=p.l:v=l.U++;const w=Zt(l.I);Be(w,"SID",l.K),Be(w,"RID",v),Be(w,"AID",l.T),lr(l,w),l.m&&l.o&&Mr(w,l.m,l.o),v=new In(l,l.j,v,l.B+1),l.m===null&&(v.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Fr(l,v,1e3),v.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),xo(l.h,v),us(v,w,p)}function lr(l,p){l.H&&Te(l.H,function(v,w){Be(p,w,v)}),l.l&&xr({},function(v,w){Be(p,w,v)})}function Fr(l,p,v){v=Math.min(l.i.length,v);var w=l.l?C(l.l.Na,l.l,l):null;e:{var F=l.i;let H=-1;for(;;){const te=["count="+v];H==-1?0<v?(H=F[0].g,te.push("ofs="+H)):H=0:te.push("ofs="+H);let Ue=!0;for(let ft=0;ft<v;ft++){let Ne=F[ft].g;const _t=F[ft].map;if(Ne-=H,0>Ne)H=Math.max(0,F[ft].g-100),Ue=!1;else try{tl(_t,te,"req"+Ne+"_")}catch{w&&w(_t)}}if(Ue){w=te.join("&");break e}}}return l=l.i.splice(0,v),p.D=l,w}function Pi(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;be||se(),ne||(be(),ne=!0),pe.add(p,l),l.v=0}}function vs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=En(C(l.Fa,l),il(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,rl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=En(C(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Pn(this),rl(this))};function Mo(l){l.A!=null&&(d.clearTimeout(l.A),l.A=null)}function rl(l){l.g=new In(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=Zt(l.qa);Be(p,"RID","rpc"),Be(p,"SID",l.K),Be(p,"AID",l.T),Be(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&Be(p,"TO",l.ja),Be(p,"TYPE","xmlhttp"),lr(l,p),l.m&&l.o&&Mr(p,l.m,l.o),l.L&&(l.g.I=l.L);var v=l.g;l=l.ia,v.L=1,v.v=Vr(Zt(p)),v.m=null,v.P=!0,Po(v,l)}i.Za=function(){this.C!=null&&(this.C=null,Pn(this),vs(this),it(19))};function _s(l){l.C!=null&&(d.clearTimeout(l.C),l.C=null)}function Es(l,p){var v=null;if(l.g==p){_s(l),Mo(l),l.g=null;var w=2}else if(jt(l.h,p))v=p.D,Qa(l.h,p),w=1;else return;if(l.G!=0){if(p.o)if(w==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var F=l.B;w=vi(),ht(w,new ss(w,v)),Bn(l)}else Pi(l);else if(F=p.s,F==3||F==0&&0<p.X||!(w==1&&lc(l,p)||w==2&&vs(l)))switch(v&&0<v.length&&(p=l.h,p.i=p.i.concat(v)),F){case 1:ur(l,5);break;case 4:ur(l,10);break;case 3:ur(l,6);break;default:ur(l,2)}}}function il(l,p){let v=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(v*=2),v*p}function ur(l,p){if(l.j.info("Error code "+p),p==2){var v=C(l.fb,l),w=l.Xa;const F=!w;w=new sr(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ai(w,"https"),Vr(w),F?sc(w.toString(),v):el(w.toString(),v)}else it(2);l.G=0,l.l&&l.l.sa(p),sl(l),gs(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function sl(l){if(l.G=0,l.ka=[],l.l){const p=Ga(l.h);(p.length!=0||l.i.length!=0)&&(M(l.ka,p),M(l.ka,l.i),l.h.i.length=0,q(l.i),l.i.length=0),l.l.ra()}}function ol(l,p,v){var w=v instanceof sr?Zt(v):new sr(v);if(w.g!="")p&&(w.g=p+"."+w.g),Nr(w,w.s);else{var F=d.location;w=F.protocol,p=p?p+"."+F.hostname:F.hostname,F=+F.port;var H=new sr(null);w&&Ai(H,w),p&&(H.g=p),F&&Nr(H,F),v&&(H.l=v),w=H}return v=l.D,p=l.ya,v&&p&&Be(w,v,p),Be(w,"VER",l.la),lr(l,w),w}function al(l,p,v){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Ge(new or({eb:v})):new Ge(l.pa),p.Ha(l.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fo(){}i=Fo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ws(){}ws.prototype.g=function(l,p){return new bt(l,p)};function bt(l,p){ct.call(this),this.g=new Oo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!re(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!re(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new $n(this)}$(bt,ct),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){At(this.g)},bt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var v={};v.__data__=l,l=v}else this.u&&(v={},v.__data__=Eo(l),l=v);p.i.push(new Wa(p.Ya++,l)),p.G==3&&Bn(p)},bt.prototype.N=function(){this.g.l=null,delete this.j,At(this.g),delete this.g,bt.aa.N.call(this)};function ll(l){Fn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const v in p){l=v;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}$(ll,Fn);function ul(){is.call(this),this.status=1}$(ul,is);function $n(l){this.g=l}$($n,Fo),$n.prototype.ua=function(){ht(this.g,"a")},$n.prototype.ta=function(l){ht(this.g,new ll(l))},$n.prototype.sa=function(l){ht(this.g,new ul)},$n.prototype.ra=function(){ht(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,py=function(){return new ws},dy=function(){return vi()},fy=jn,uf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,fu=as,Ba.COMPLETE="complete",hy=Ba,rs.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",ct.prototype.listen=ct.prototype.K,fa=rs,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,cy=Ge}).apply(typeof iu<"u"?iu:typeof self<"u"?self:typeof window<"u"?window:{});const Wm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new iy("@firebase/firestore");function Hs(){return Wi.logLevel}function oe(i,...e){if(Wi.logLevel<=Ve.DEBUG){const n=e.map(Mf);Wi.debug(`Firestore (${lo}): ${i}`,...n)}}function Sr(i,...e){if(Wi.logLevel<=Ve.ERROR){const n=e.map(Mf);Wi.error(`Firestore (${lo}): ${i}`,...n)}}function Js(i,...e){if(Wi.logLevel<=Ve.WARN){const n=e.map(Mf);Wi.warn(`Firestore (${lo}): ${i}`,...n)}}function Mf(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(i="Unexpected state"){const e=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: `+i;throw Sr(e),new Error(e)}function ze(i,e){i||_e()}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends oo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Mt.UNAUTHENTICATED)))}shutdown(){}}class iT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sT{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new wr,e.enqueueRetryable((()=>a(this.currentUser)))};const h=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new wr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string"),new my(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Mt(e)}}class oT{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class aT{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new oT(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(Mt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ze(this.o===void 0);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const a=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>a(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ze(typeof n.token=="string"),this.R=n.token,new lT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=cT(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%e.length))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function Zs(i,e,n){return i.length===e.length&&i.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new gt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new gt(0,0))}static max(){return new Ee(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(),s===void 0?s=e.length-n:s>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qn?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const u=Qn.compareSegments(e.get(a),n.get(a));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=Qn.isNumericId(e),a=Qn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Qn.extractNumericId(e).compare(Qn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ti.fromString(e.substring(4,e.length-2))}}class Xe extends Qn{construct(e,n,s){return new Xe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Xe(n)}static emptyPath(){return new Xe([])}}const hT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends Qn{construct(e,n,s){return new kt(e,n,s)}static isValidIdentifier(e){return hT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(h=!h,a++):d!=="."||h?(s+=d,a++):(u(),a++)}if(u(),h)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Xe.fromString(e))}static fromName(e){return new ye(Xe.fromString(e).popFirst(5))}static empty(){return new ye(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Xe(e.slice()))}}function fT(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(s===1e9?new gt(n+1,0):new gt(n,s));return new ii(a,ye.empty(),e)}function dT(i){return new ii(i.readTime,i.key,-1)}class ii{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ii(Ee.min(),ye.empty(),-1)}static max(){return new ii(Ee.max(),ye.empty(),-1)}}function pT(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==mT)throw i;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,s)=>{n(e)}))}static reject(e){return new W(((n,s)=>{s(e)}))}static waitFor(e){return new W(((n,s)=>{let a=0,u=0,h=!1;e.forEach((d=>{++a,d.next((()=>{++u,h&&u===a&&n()}),(m=>s(m)))})),h=!0,u===a&&n()}))}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next((a=>a?W.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,u)=>{s.push(n.call(this,a,u))})),this.waitFor(s)}static mapArray(e,n){return new W(((s,a)=>{const u=e.length,h=new Array(u);let d=0;for(let m=0;m<u;m++){const y=m;n(e[y]).next((E=>{h[y]=E,++d,d===u&&s(h)}),(E=>a(E)))}}))}static doWhile(e,n){return new W(((s,a)=>{const u=()=>{e()===!0?n().next((()=>{u()}),a):s()};u()}))}}function yT(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function co(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Mu.oe=-1;function Fu(i){return i==null}function Tu(i){return i===0&&1/i==-1/0}function vT(i){return typeof i=="number"&&Number.isInteger(i)&&!Tu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Km(e)),e=ET(i.get(n),e);return Km(e)}function ET(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const u=i.charAt(a);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function Km(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function fi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function yy(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new su(this.root,e,this.comparator,!1)}getReverseIterator(){return new su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new su(this.root,e,this.comparator,!0)}}class su{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??Pt.RED,this.left=a??Pt.EMPTY,this.right=u??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new Pt(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Pt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,s,a,u){return this}insert(e,n,s){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gm(this.data.getIterator())}getIteratorFrom(e){return new Gm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class Gm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new on([])}unionWith(e){let n=new yt(kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new on(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zs(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vy("Invalid base64 string: "+u):u}})(e);return new xt(n)}static fromUint8Array(e){const n=(function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u})(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const wT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function si(i){if(ze(!!i),typeof i=="string"){let e=0;const n=wT.exec(i);if(ze(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ot(i.seconds),nanos:ot(i.nanos)}}function ot(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function oi(i){return typeof i=="string"?xt.fromBase64String(i):xt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ju(i){const e=i.mapValue.fields.__previous_value__;return Ff(e)?ju(e):e}function Sa(i){const e=si(i.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n,s,a,u,h,d,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=y}}class Aa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Aa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Aa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou={mapValue:{}};function ai(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ff(i)?4:ST(i)?9007199254740991:IT(i)?10:11:_e()}function Jn(i,e){if(i===e)return!0;const n=ai(i);if(n!==ai(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Sa(i).isEqual(Sa(e));case 3:return(function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=si(a.timestampValue),d=si(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,u){return oi(a.bytesValue).isEqual(oi(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,u){return ot(a.geoPointValue.latitude)===ot(u.geoPointValue.latitude)&&ot(a.geoPointValue.longitude)===ot(u.geoPointValue.longitude)})(i,e);case 2:return(function(a,u){if("integerValue"in a&&"integerValue"in u)return ot(a.integerValue)===ot(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=ot(a.doubleValue),d=ot(u.doubleValue);return h===d?Tu(h)===Tu(d):isNaN(h)&&isNaN(d)}return!1})(i,e);case 9:return Zs(i.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return(function(a,u){const h=a.mapValue.fields||{},d=u.mapValue.fields||{};if(Qm(h)!==Qm(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!Jn(h[m],d[m])))return!1;return!0})(i,e);default:return _e()}}function Ra(i,e){return(i.values||[]).find((n=>Jn(n,e)))!==void 0}function eo(i,e){if(i===e)return 0;const n=ai(i),s=ai(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const d=ot(u.integerValue||u.doubleValue),m=ot(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(i,e);case 3:return Ym(i.timestampValue,e.timestampValue);case 4:return Ym(Sa(i),Sa(e));case 5:return ke(i.stringValue,e.stringValue);case 6:return(function(u,h){const d=oi(u),m=oi(h);return d.compareTo(m)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const d=u.split("/"),m=h.split("/");for(let y=0;y<d.length&&y<m.length;y++){const E=ke(d[y],m[y]);if(E!==0)return E}return ke(d.length,m.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const d=ke(ot(u.latitude),ot(h.latitude));return d!==0?d:ke(ot(u.longitude),ot(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Xm(i.arrayValue,e.arrayValue);case 10:return(function(u,h){var d,m,y,E;const T=u.fields||{},C=h.fields||{},V=(d=T.value)===null||d===void 0?void 0:d.arrayValue,$=(m=C.value)===null||m===void 0?void 0:m.arrayValue,q=ke(((y=V==null?void 0:V.values)===null||y===void 0?void 0:y.length)||0,((E=$==null?void 0:$.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:Xm(V,$)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===ou.mapValue&&h===ou.mapValue)return 0;if(u===ou.mapValue)return 1;if(h===ou.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),y=h.fields||{},E=Object.keys(y);m.sort(),E.sort();for(let T=0;T<m.length&&T<E.length;++T){const C=ke(m[T],E[T]);if(C!==0)return C;const V=eo(d[m[T]],y[E[T]]);if(V!==0)return V}return ke(m.length,E.length)})(i.mapValue,e.mapValue);default:throw _e()}}function Ym(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=si(i),s=si(e),a=ke(n.seconds,s.seconds);return a!==0?a:ke(n.nanos,s.nanos)}function Xm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=eo(n[a],s[a]);if(u)return u}return ke(n.length,s.length)}function to(i){return cf(i)}function cf(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=si(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return oi(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=cf(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${cf(n.fields[h])}`;return a+"}"})(i.mapValue):_e()}function du(i){switch(ai(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ju(i);return e?16+du(e):16;case 5:return 2*i.stringValue.length;case 6:return oi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,u)=>a+du(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let a=0;return fi(s.fields,((u,h)=>{a+=u.length+du(h)})),a})(i.mapValue);default:throw _e()}}function hf(i){return!!i&&"integerValue"in i}function jf(i){return!!i&&"arrayValue"in i}function Jm(i){return!!i&&"nullValue"in i}function Zm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function pu(i){return!!i&&"mapValue"in i}function IT(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ga(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return fi(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ga(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ga(i.arrayValue.values[n]);return e}return Object.assign({},i)}function ST(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!pu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ga(n)}setAll(e){let n=kt.emptyPath(),s={},a=[];e.forEach(((h,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}h?s[d.lastSegment()]=ga(h):a.push(d.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(e){const n=this.field(e.popLast());pu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];pu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){fi(n,((a,u)=>e[a]=u));for(const a of s)delete e[a]}clone(){return new Xt(ga(this.value))}}function _y(i){const e=[];return fi(i.fields,((n,s)=>{const a=new kt([n]);if(pu(s)){const u=_y(s.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)})),new on(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,u,h,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Ft(e,0,Ee.min(),Ee.min(),Ee.min(),Xt.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,Ee.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,Ee.min(),Ee.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,Ee.min(),Ee.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.position=e,this.inclusive=n}}function eg(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=eo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function tg(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Jn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n="asc"){this.field=e,this.dir=n}}function AT(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{}class mt extends Ey{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new CT(e,n,s):n==="array-contains"?new xT(e,s):n==="in"?new NT(e,s):n==="not-in"?new DT(e,s):n==="array-contains-any"?new VT(e,s):new mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new PT(e,s):new kT(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(eo(n,this.value)):n!==null&&ai(this.value)===ai(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends Ey{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Zn(e,n)}matches(e){return wy(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wy(i){return i.op==="and"}function Ty(i){return RT(i)&&wy(i)}function RT(i){for(const e of i.filters)if(e instanceof Zn)return!1;return!0}function ff(i){if(i instanceof mt)return i.field.canonicalString()+i.op.toString()+to(i.value);if(Ty(i))return i.filters.map((e=>ff(e))).join(",");{const e=i.filters.map((n=>ff(n))).join(",");return`${i.op}(${e})`}}function Iy(i,e){return i instanceof mt?(function(s,a){return a instanceof mt&&s.op===a.op&&s.field.isEqual(a.field)&&Jn(s.value,a.value)})(i,e):i instanceof Zn?(function(s,a){return a instanceof Zn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((u,h,d)=>u&&Iy(h,a.filters[d])),!0):!1})(i,e):void _e()}function Sy(i){return i instanceof mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`})(i):i instanceof Zn?(function(n){return n.op.toString()+" {"+n.getFilters().map(Sy).join(" ,")+"}"})(i):"Filter"}class CT extends mt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class PT extends mt{constructor(e,n){super(e,"in",n),this.keys=Ay("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kT extends mt{constructor(e,n){super(e,"not-in",n),this.keys=Ay("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ay(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>ye.fromName(s.referenceValue)))}class xT extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jf(n)&&Ra(n.arrayValue,this.value)}}class NT extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ra(this.value.arrayValue,n)}}class DT extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ra(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ra(this.value.arrayValue,n)}}class VT extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ra(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n=null,s=[],a=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=h,this.endAt=d,this.ue=null}}function ng(i,e=null,n=[],s=[],a=null,u=null,h=null){return new LT(i,e,n,s,a,u,h)}function bf(i){const e=we(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ff(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Fu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>to(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>to(s))).join(",")),e.ue=n}return e.ue}function zf(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!AT(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Iy(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!tg(i.startAt,e.startAt)&&tg(i.endAt,e.endAt)}function df(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n=null,s=[],a=[],u=null,h="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=m,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function OT(i,e,n,s,a,u,h,d){return new bu(i,e,n,s,a,u,h,d)}function Uf(i){return new bu(i)}function rg(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function MT(i){return i.collectionGroup!==null}function ya(i){const e=we(i);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new yt(kt.comparator);return h.filters.forEach((m=>{m.getFlattenedFilters().forEach((y=>{y.isInequality()&&(d=d.add(y.field))}))})),d})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Su(u,s))})),n.has(kt.keyField().canonicalString())||e.ce.push(new Su(kt.keyField(),s))}return e.ce}function Gn(i){const e=we(i);return e.le||(e.le=FT(e,ya(i))),e.le}function FT(i,e){if(i.limitType==="F")return ng(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const u=a.dir==="desc"?"asc":"desc";return new Su(a.field,u)}));const n=i.endAt?new Iu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Iu(i.startAt.position,i.startAt.inclusive):null;return ng(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function pf(i,e,n){return new bu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function zu(i,e){return zf(Gn(i),Gn(e))&&i.limitType===e.limitType}function Ry(i){return`${bf(Gn(i))}|lt:${i.limitType}`}function qs(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>Sy(a))).join(", ")}]`),Fu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>to(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>to(a))).join(",")),`Target(${s})`})(Gn(i))}; limitType=${i.limitType})`}function Uu(i,e){return e.isFoundDocument()&&(function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,a){for(const u of ya(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0})(i,e)&&(function(s,a){return!(s.startAt&&!(function(h,d,m){const y=eg(h,d,m);return h.inclusive?y<=0:y<0})(s.startAt,ya(s),a)||s.endAt&&!(function(h,d,m){const y=eg(h,d,m);return h.inclusive?y>=0:y>0})(s.endAt,ya(s),a))})(i,e)}function jT(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Cy(i){return(e,n)=>{let s=!1;for(const a of ya(i)){const u=bT(a,e,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function bT(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,h,d){const m=h.data.field(u),y=d.data.field(u);return m!==null&&y!==null?eo(m,y):_e()})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){fi(this.inner,((n,s)=>{for(const[a,u]of s)e(a,u)}))}isEmpty(){return yy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=new nt(ye.comparator);function Ar(){return zT}const Py=new nt(ye.comparator);function da(...i){let e=Py;for(const n of i)e=e.insert(n.key,n);return e}function ky(i){let e=Py;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function $i(){return va()}function xy(){return va()}function va(){return new Gi((i=>i.toString()),((i,e)=>i.isEqual(e)))}const UT=new nt(ye.comparator),BT=new yt(ye.comparator);function Ce(...i){let e=BT;for(const n of i)e=e.add(n);return e}const $T=new yt(ke);function HT(){return $T}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tu(e)?"-0":e}}function Ny(i){return{integerValue:""+i}}function Dy(i,e){return vT(e)?Ny(e):Bf(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this._=void 0}}function qT(i,e,n){return i instanceof Au?(function(a,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&Ff(u)&&(u=ju(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}})(n,e):i instanceof Ca?Ly(i,e):i instanceof Pa?Oy(i,e):(function(a,u){const h=Vy(a,u),d=ig(h)+ig(a.Pe);return hf(h)&&hf(a.Pe)?Ny(d):Bf(a.serializer,d)})(i,e)}function WT(i,e,n){return i instanceof Ca?Ly(i,e):i instanceof Pa?Oy(i,e):n}function Vy(i,e){return i instanceof ka?(function(s){return hf(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Au extends Bu{}class Ca extends Bu{constructor(e){super(),this.elements=e}}function Ly(i,e){const n=My(e);for(const s of i.elements)n.some((a=>Jn(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Pa extends Bu{constructor(e){super(),this.elements=e}}function Oy(i,e){let n=My(e);for(const s of i.elements)n=n.filter((a=>!Jn(a,s)));return{arrayValue:{values:n}}}class ka extends Bu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function ig(i){return ot(i.integerValue||i.doubleValue)}function My(i){return jf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n){this.field=e,this.transform=n}}function QT(i,e){return i.field.isEqual(e.field)&&(function(s,a){return s instanceof Ca&&a instanceof Ca||s instanceof Pa&&a instanceof Pa?Zs(s.elements,a.elements,Jn):s instanceof ka&&a instanceof ka?Jn(s.Pe,a.Pe):s instanceof Au&&a instanceof Au})(i.transform,e.transform)}class GT{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class $u{}function Fy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new by(i.key,Yn.none()):new Oa(i.key,i.data,Yn.none());{const n=i.data,s=Xt.empty();let a=new yt(kt.comparator);for(let u of e.fields)if(!a.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),a=a.add(u)}return new di(i.key,s,new on(a.toArray()),Yn.none())}}function YT(i,e,n){i instanceof Oa?(function(a,u,h){const d=a.value.clone(),m=og(a.fieldTransforms,u,h.transformResults);d.setAll(m),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()})(i,e,n):i instanceof di?(function(a,u,h){if(!mu(a.precondition,u))return void u.convertToUnknownDocument(h.version);const d=og(a.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(jy(a)),m.setAll(d),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):(function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function _a(i,e,n,s){return i instanceof Oa?(function(u,h,d,m){if(!mu(u.precondition,h))return d;const y=u.value.clone(),E=ag(u.fieldTransforms,m,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,e,n,s):i instanceof di?(function(u,h,d,m){if(!mu(u.precondition,h))return d;const y=ag(u.fieldTransforms,m,h),E=h.data;return E.setAll(jy(u)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,h,d){return mu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d})(i,e,n)}function XT(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),u=Vy(s.transform,a||null);u!=null&&(n===null&&(n=Xt.empty()),n.set(s.field,u))}return n||null}function sg(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Zs(s,a,((u,h)=>QT(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Oa extends $u{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class di extends $u{constructor(e,n,s,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function jy(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function og(i,e,n){const s=new Map;ze(i.length===n.length);for(let a=0;a<n.length;a++){const u=i[a],h=u.transform,d=e.data.field(u.field);s.set(u.field,WT(h,d,n[a]))}return s}function ag(i,e,n){const s=new Map;for(const a of i){const u=a.transform,h=n.data.field(a.field);s.set(a.field,qT(u,h,e))}return s}class by extends $u{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JT extends $u{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&YT(u,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=_a(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=_a(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xy();return this.mutations.forEach((a=>{const u=e.get(a.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=n.has(a.key)?null:d;const m=Fy(h,d);m!==null&&s.set(a.key,m),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ce())}isEqual(e){return this.batchId===e.batchId&&Zs(this.mutations,e.mutations,((n,s)=>sg(n,s)))&&Zs(this.baseMutations,e.baseMutations,((n,s)=>sg(n,s)))}}class $f{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ze(e.mutations.length===s.length);let a=(function(){return UT})();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,s[h].version);return new $f(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,De;function nI(i){switch(i){default:return _e();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function zy(i){if(i===void 0)return Sr("GRPC error has no .code"),J.UNKNOWN;switch(i){case ut.OK:return J.OK;case ut.CANCELLED:return J.CANCELLED;case ut.UNKNOWN:return J.UNKNOWN;case ut.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ut.INTERNAL:return J.INTERNAL;case ut.UNAVAILABLE:return J.UNAVAILABLE;case ut.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ut.NOT_FOUND:return J.NOT_FOUND;case ut.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ut.ABORTED:return J.ABORTED;case ut.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ut.DATA_LOSS:return J.DATA_LOSS;default:return _e()}}(De=ut||(ut={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new ti([4294967295,4294967295],0);function lg(i){const e=rI().encode(i),n=new uy;return n.update(e),new Uint8Array(n.digest())}function ug(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ti([n,s],0),new ti([a,u],0)]}class Hf{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new pa(`Invalid padding: ${n}`);if(s<0)throw new pa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new pa(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new pa(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=ti.fromNumber(this.Te)}de(e,n,s){let a=e.add(n.multiply(ti.fromNumber(s)));return a.compare(iI)===1&&(a=new ti([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=lg(e),[s,a]=ug(n);for(let u=0;u<this.hashCount;u++){const h=this.de(s,a,u);if(!this.Ee(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Hf(u,a,n);return s.forEach((d=>h.insert(d))),h}insert(e){if(this.Te===0)return;const n=lg(e),[s,a]=ug(n);for(let u=0;u<this.hashCount;u++){const h=this.de(s,a,u);this.Ae(h)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n,s,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Ma.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Hu(Ee.min(),a,new nt(ke),Ar(),Ce())}}class Ma{constructor(e,n,s,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ma(s,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class Uy{constructor(e,n){this.targetId=e,this.me=n}}class By{constructor(e,n,s=xt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class cg{constructor(){this.fe=0,this.ge=hg(),this.pe=xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),n=Ce(),s=Ce();return this.ge.forEach(((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:_e()}})),new Ma(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=hg()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class sI{constructor(e){this.Be=e,this.Le=new Map,this.ke=Ar(),this.qe=au(),this.Qe=au(),this.Ke=new nt(ke)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,(n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:_e()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach(((s,a)=>{this.je(a)&&n(a)}))}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const u=a.target;if(df(u))if(s===0){const h=new ye(u.path);this.We(n,h,Ft.newNoDocument(h,Ee.min()))}else ze(s===1);else{const h=this.Ze(n);if(h!==s){const d=this.Xe(e),m=d?this.et(d,e,h):1;if(m!==0){this.He(n);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let h,d;try{h=oi(s).toUint8Array()}catch(m){if(m instanceof vy)return Js("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Hf(h,a,u)}catch(m){return Js(m instanceof pa?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Te===0?null:d}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Be.getRemoteKeysForTarget(n);let a=0;return s.forEach((u=>{const h=this.Be.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.We(n,u,null),a++)})),a}it(e){const n=new Map;this.Le.forEach(((u,h)=>{const d=this.Ye(h);if(d){if(u.current&&df(d.target)){const m=new ye(d.target.path);this.st(m).has(h)||this.ot(h,m)||this.We(h,m,Ft.newNoDocument(m,e))}u.be&&(n.set(h,u.ve()),u.Ce())}}));let s=Ce();this.Qe.forEach(((u,h)=>{let d=!0;h.forEachWhile((m=>{const y=this.Ye(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.ke.forEach(((u,h)=>h.setReadTime(e)));const a=new Hu(e,n,this.Ke,this.ke,s);return this.ke=Ar(),this.qe=au(),this.Qe=au(),this.Ke=new nt(ke),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new cg,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new yt(ke),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new yt(ke),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new cg),this.Be.getRemoteKeysForTarget(e).forEach((n=>{this.We(e,n,null)}))}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function au(){return new nt(ye.comparator)}function hg(){return new nt(ye.comparator)}const oI={asc:"ASCENDING",desc:"DESCENDING"},aI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lI={and:"AND",or:"OR"};class uI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mf(i,e){return i.useProto3Json||Fu(e)?e:{value:e}}function Ru(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $y(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function cI(i,e){return Ru(i,e.toTimestamp())}function Xn(i){return ze(!!i),Ee.fromTimestamp((function(n){const s=si(n);return new gt(s.seconds,s.nanos)})(i))}function qf(i,e){return gf(i,e).canonicalString()}function gf(i,e){const n=(function(a){return new Xe(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Hy(i){const e=Xe.fromString(i);return ze(Gy(e)),e}function yf(i,e){return qf(i.databaseId,e.path)}function bh(i,e){const n=Hy(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(Wy(n))}function qy(i,e){return qf(i.databaseId,e)}function hI(i){const e=Hy(i);return e.length===4?Xe.emptyPath():Wy(e)}function vf(i){return new Xe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Wy(i){return ze(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function fg(i,e,n){return{name:yf(i,e),fields:n.value.mapValue.fields}}function fI(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e()})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(ze(E===void 0||typeof E=="string"),xt.fromBase64String(E||"")):(ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array),xt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&(function(y){const E=y.code===void 0?J.UNKNOWN:zy(y.code);return new fe(E,y.message||"")})(h);n=new By(s,a,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=bh(i,s.document.name),u=Xn(s.document.updateTime),h=s.document.createTime?Xn(s.document.createTime):Ee.min(),d=new Xt({mapValue:{fields:s.document.fields}}),m=Ft.newFoundDocument(a,u,h,d),y=s.targetIds||[],E=s.removedTargetIds||[];n=new gu(y,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=bh(i,s.document),u=s.readTime?Xn(s.readTime):Ee.min(),h=Ft.newNoDocument(a,u),d=s.removedTargetIds||[];n=new gu([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=bh(i,s.document),u=s.removedTargetIds||[];n=new gu([],u,a,null)}else{if(!("filter"in e))return _e();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,h=new tI(a,u),d=s.targetId;n=new Uy(d,h)}}return n}function dI(i,e){let n;if(e instanceof Oa)n={update:fg(i,e.key,e.value)};else if(e instanceof by)n={delete:yf(i,e.key)};else if(e instanceof di)n={update:fg(i,e.key,e.data),updateMask:TI(e.fieldMask)};else{if(!(e instanceof JT))return _e();n={verify:yf(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const d=h.transform;if(d instanceof Au)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ca)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Pa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ka)return{fieldPath:h.field.canonicalString(),increment:d.Pe};throw _e()})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,u){return u.updateTime!==void 0?{updateTime:cI(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e()})(i,e.precondition)),n}function pI(i,e){return i&&i.length>0?(ze(e!==void 0),i.map((n=>(function(a,u){let h=a.updateTime?Xn(a.updateTime):Xn(u);return h.isEqual(Ee.min())&&(h=Xn(u)),new GT(h,a.transformResults||[])})(n,e)))):[]}function mI(i,e){return{documents:[qy(i,e.path)]}}function gI(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=qy(i,a);const u=(function(y){if(y.length!==0)return Qy(Zn.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((E=>(function(C){return{field:Ws(C.field),direction:_I(C.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const d=mf(i,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ct:n,parent:a}}function yI(i){let e=hI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ze(s===1);const E=n.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const C=Ky(T);return C instanceof Zn&&Ty(C)?C.getFilters():[C]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((C=>(function($){return new Su(Ks($.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(C)))})(n.orderBy));let d=null;n.limit&&(d=(function(T){let C;return C=typeof T=="object"?T.value:T,Fu(C)?null:C})(n.limit));let m=null;n.startAt&&(m=(function(T){const C=!!T.before,V=T.values||[];return new Iu(V,C)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const C=!T.before,V=T.values||[];return new Iu(V,C)})(n.endAt)),OT(e,a,h,u,d,"F",m,y)}function vI(i,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ky(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ks(n.unaryFilter.field);return mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ks(n.unaryFilter.field);return mt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ks(n.unaryFilter.field);return mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ks(n.unaryFilter.field);return mt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return _e()}})(i):i.fieldFilter!==void 0?(function(n){return mt.create(Ks(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Zn.create(n.compositeFilter.filters.map((s=>Ky(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e()}})(n.compositeFilter.op))})(i):_e()}function _I(i){return oI[i]}function EI(i){return aI[i]}function wI(i){return lI[i]}function Ws(i){return{fieldPath:i.canonicalString()}}function Ks(i){return kt.fromServerFormat(i.fieldPath)}function Qy(i){return i instanceof mt?(function(n){if(n.op==="=="){if(Zm(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NAN"}};if(Jm(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zm(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NAN"}};if(Jm(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(n.field),op:EI(n.op),value:n.value}}})(i):i instanceof Zn?(function(n){const s=n.getFilters().map((a=>Qy(a)));return s.length===1?s[0]:{compositeFilter:{op:wI(n.op),filters:s}}})(i):_e()}function TI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Gy(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,s,a,u=Ee.min(),h=Ee.min(),d=xt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.ht=e}}function SI(i){const e=yI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?pf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.ln=new RI}addToCollectionParentIndex(e,n){return this.ln.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(ii.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class RI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new yt(Xe.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new yt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(41943040,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new no(0)}static Qn(){return new no(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg([i,e],[n,s]){const a=ke(i,n);return a===0?ke(e,s):a}class CI{constructor(e){this.Gn=e,this.buffer=new yt(pg),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();pg(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){co(n)?oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await uo(n)}await this.Yn(3e5)}))}}class kI{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Mu.oe);const s=new CI(n);return this.Zn.forEachTarget(e,(a=>s.Hn(a.sequenceNumber))).next((()=>this.Zn.er(e,(a=>s.Hn(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(dg)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dg):this.tr(e,n)))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,u,h,d,m,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,h=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(s=T,d=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),Hs()<=Ve.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${a} in `+(d-h)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(y-m)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:T}))))}}function xI(i,e){return new kI(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.changes=new Gi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&_a(s.mutation,a,on.empty(),gt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ce()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ce()){const a=$i();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((u=>{let h=da();return u.forEach(((d,m)=>{h=h.insert(d,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=$i();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ce())))}populateOverlays(e,n,s){const a=[];return s.forEach((u=>{n.has(u)||a.push(u)})),this.documentOverlayCache.getOverlays(e,a).next((u=>{u.forEach(((h,d)=>{n.set(h,d)}))}))}computeViews(e,n,s,a){let u=Ar();const h=va(),d=(function(){return va()})();return n.forEach(((m,y)=>{const E=s.get(y.key);a.has(y.key)&&(E===void 0||E.mutation instanceof di)?u=u.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),_a(E.mutation,y,E.mutation.getFieldMask(),gt.now())):h.set(y.key,on.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((y,E)=>h.set(y,E))),n.forEach(((y,E)=>{var T;return d.set(y,new DI(E,(T=h.get(y))!==null&&T!==void 0?T:null))})),d)))}recalculateAndSaveOverlays(e,n){const s=va();let a=new nt(((h,d)=>h-d)),u=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const d of h)d.keys().forEach((m=>{const y=n.get(m);if(y===null)return;let E=s.get(m)||on.empty();E=d.applyToLocalView(y,E),s.set(m,E);const T=(a.get(d.batchId)||Ce()).add(m);a=a.insert(d.batchId,T)}))})).next((()=>{const h=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),y=m.key,E=m.value,T=xy();E.forEach((C=>{if(!u.has(C)){const V=Fy(n.get(C),s.get(C));V!==null&&T.set(C,V),u=u.add(C)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return W.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-u.size):W.resolve($i());let d=-1,m=u;return h.next((y=>W.forEach(y,((E,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next((C=>{m=m.insert(E,C)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,m,y,Ce()))).next((E=>({batchId:d,changes:ky(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let a=da();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const u=n.collectionGroup;let h=da();return this.indexManager.getCollectionParents(e,u).next((d=>W.forEach(d,(m=>{const y=(function(T,C){return new bu(C,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,a).next((E=>{E.forEach(((T,C)=>{h=h.insert(T,C)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,a)))).next((h=>{u.forEach(((m,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,Ft.newInvalidDocument(E)))}));let d=da();return h.forEach(((m,y)=>{const E=u.get(m);E!==void 0&&_a(E.mutation,y,on.empty(),gt.now()),Uu(n,y)&&(d=d.insert(m,y))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return W.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Xn(a.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,(function(a){return{name:a.name,query:SI(a.bundledQuery),readTime:Xn(a.readTime)}})(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.overlays=new nt(ye.comparator),this.dr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$i();return W.forEach(n,(a=>this.getOverlay(e,a).next((u=>{u!==null&&s.set(a,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,u)=>{this.Tt(e,n,u)})),W.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.dr.get(s);return a!==void 0&&(a.forEach((u=>this.overlays=this.overlays.remove(u))),this.dr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const a=$i(),u=n.length+1,h=new ye(n.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,y=m.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&m.largestBatchId>s&&a.set(m.getKey(),m)}return W.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let u=new nt(((y,E)=>y-E));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=$i(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const d=$i(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,E)=>d.set(y,E))),!(d.size()>=a)););return W.resolve(d)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.dr.get(a.largestBatchId).delete(s.key);this.dr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new eI(n,s));let u=this.dr.get(n);u===void 0&&(u=Ce(),this.dr.set(n,u)),this.dr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(){this.Er=new yt(It.Ar),this.Rr=new yt(It.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const s=new It(e,n);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.gr(new It(e,n))}pr(e,n){e.forEach((s=>this.removeReference(s,n)))}yr(e){const n=new ye(new Xe([])),s=new It(n,e),a=new It(n,e+1),u=[];return this.Rr.forEachInRange([s,a],(h=>{this.gr(h),u.push(h.key)})),u}wr(){this.Er.forEach((e=>this.gr(e)))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ye(new Xe([])),s=new It(n,e),a=new It(n,e+1);let u=Ce();return this.Rr.forEachInRange([s,a],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new It(e,0),s=this.Er.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class It{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ye.comparator(e.key,n.key)||ke(e.br,n.br)}static Vr(e,n){return ke(e.br,n.br)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new yt(It.Ar)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new ZT(u,n,s,a);this.mutationQueue.push(h);for(const d of a)this.vr=this.vr.add(new It(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return W.resolve(h)}lookupMutationBatch(e,n){return W.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),u=a<0?0:a;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new It(n,0),a=new It(n,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,a],(h=>{const d=this.Cr(h.br);u.push(d)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new yt(ke);return n.forEach((a=>{const u=new It(a,0),h=new It(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],(d=>{s=s.add(d.br)}))})),W.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new It(new ye(u),0);let d=new yt(ke);return this.vr.forEachWhile((m=>{const y=m.key.path;return!!s.isPrefixOf(y)&&(y.length===a&&(d=d.add(m.br)),!0)}),h),W.resolve(this.Mr(d))}Mr(e){const n=[];return e.forEach((s=>{const a=this.Cr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ze(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return W.forEach(n.mutations,(a=>{const u=new It(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.vr=s}))}Bn(e){}containsKey(e,n){const s=new It(n,0),a=this.vr.firstAfterOrEqual(s);return W.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.Nr=e,this.docs=(function(){return new nt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,h=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=Ar();return n.forEach((a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():Ft.newInvalidDocument(a))})),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let u=Ar();const h=n.path,d=new ye(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:y,value:{document:E}}=m.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||pT(dT(E),s)<=0||(a.has(E.key)||Uu(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,a){_e()}Br(e,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new bI(this)}getSize(e){return W.resolve(this.size)}}class bI extends NI{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)})),W.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.persistence=e,this.Lr=new Gi((n=>bf(n)),zf),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.kr=0,this.qr=new Wf,this.targetCount=0,this.Qr=no.qn()}forEachTarget(e,n){return this.Lr.forEach(((s,a)=>n(a))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),W.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new no(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Un(n),W.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let a=0;const u=[];return this.Lr.forEach(((h,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.Lr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),W.waitFor(u).next((()=>a))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Lr.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach((h=>{u.push(a.markPotentiallyOrphaned(e,h))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Mu(0),this.Ur=!1,this.Ur=!0,this.Wr=new MI,this.referenceDelegate=e(this),this.Gr=new zI(this),this.indexManager=new AI,this.remoteDocumentCache=(function(a){return new jI(a)})((s=>this.referenceDelegate.zr(s))),this.serializer=new II(n),this.jr=new LI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new FI(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const a=new UI(this.$r.next());return this.referenceDelegate.Hr(),s(a).next((u=>this.referenceDelegate.Jr(a).next((()=>u)))).toPromise().then((u=>(a.raiseOnCommittedEvent(),u)))}Yr(e,n){return W.or(Object.values(this.Kr).map((s=>()=>s.containsKey(e,n))))}}class UI extends gT{constructor(e){super(),this.currentSequenceNumber=e}}class Kf{constructor(e){this.persistence=e,this.Zr=new Wf,this.Xr=null}static ei(e){return new Kf(e)}get ti(){if(this.Xr)return this.Xr;throw _e()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),W.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach((a=>this.ti.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((u=>this.ti.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ti,(s=>{const a=ye.fromPath(s);return this.ni(e,a).next((u=>{u||n.removeEntry(a,Ee.min())}))})).next((()=>(this.Xr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ni(e,n).next((s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())}))}zr(e){return 0}ni(e,n){return W.or([()=>W.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Cu{constructor(e,n){this.persistence=e,this.ri=new Gi((s=>_T(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=xI(this,n)}static ei(e,n){return new Cu(e,n)}Hr(){}Jr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}nr(e){let n=0;return this.er(e,(s=>{n++})).next((()=>n))}er(e,n){return W.forEach(this.ri,((s,a)=>this.ir(e,s,a).next((u=>u?W.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.Br(e,(h=>this.ir(e,h,n).next((d=>{d||(s++,u.removeEntry(h,Ee.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=du(e.data.value)),n}ir(e,n,s){return W.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return W.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Ce(),a=Ce();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new Qf(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=(function(){return Bw()?8:yT(zw())>0?6:4})()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const u={result:null};return this.Xi(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.es(e,n,a,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new BI;return this.ts(e,n,h).next((d=>{if(u.result=d,this.Hi)return this.ns(e,n,h,d.size)}))})).next((()=>u.result))}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Hs()<=Ve.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),W.resolve()):(Hs()<=Ve.DEBUG&&oe("QueryEngine","Query:",qs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Hs()<=Ve.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):W.resolve())}Xi(e,n){if(rg(n))return W.resolve(null);let s=Gn(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=pf(n,null,"F"),s=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ce(...u);return this.Zi.getDocuments(e,h).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const y=this.rs(n,d);return this.ss(n,y,h,m.readTime)?this.Xi(e,pf(n,null,"F")):this.os(e,y,n,m)}))))})))))}es(e,n,s,a){return rg(n)||a.isEqual(Ee.min())?W.resolve(null):this.Zi.getDocuments(e,s).next((u=>{const h=this.rs(n,u);return this.ss(n,h,s,a)?W.resolve(null):(Hs()<=Ve.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),qs(n)),this.os(e,h,n,fT(a,-1)).next((d=>d)))}))}rs(e,n){let s=new yt(Cy(e));return n.forEach(((a,u)=>{Uu(e,u)&&(s=s.add(u))})),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}ts(e,n,s){return Hs()<=Ve.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",qs(n)),this.Zi.getDocumentsMatchingQuery(e,n,ii.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new nt(ke),this.cs=new Gi((u=>bf(u)),zf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VI(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.us)))}}function qI(i,e,n,s){return new HI(i,e,n,s)}async function Xy(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((u=>(a=u,n.Ps(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],d=[];let m=Ce();for(const y of a){h.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}for(const y of u){d.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}return n.localDocuments.getDocuments(s,m).next((y=>({Ts:y,removedBatchIds:h,addedBatchIds:d})))}))}))}function WI(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),u=n.hs.newChangeBuffer({trackRemovals:!0});return(function(d,m,y,E){const T=y.batch,C=T.keys();let V=W.resolve();return C.forEach(($=>{V=V.next((()=>E.getEntry(m,$))).next((q=>{const M=y.docVersions.get($);ze(M!==null),q.version.compareTo(M)<0&&(T.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),E.addEntry(q)))}))})),V.next((()=>d.mutationQueue.removeMutationBatch(m,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Ce();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(m=m.add(d.batch.mutations[y].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function Jy(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Gr.getLastRemoteSnapshotVersion(n)))}function KI(i,e){const n=we(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const d=[];e.targetChanges.forEach(((E,T)=>{const C=a.get(T);if(!C)return;d.push(n.Gr.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Gr.addMatchingKeys(u,E.addedDocuments,T))));let V=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?V=V.withResumeToken(xt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),a=a.insert(T,V),(function(q,M,G){return q.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(C,V,E)&&d.push(n.Gr.updateTargetData(u,V))}));let m=Ar(),y=Ce();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),d.push(QI(u,h,e.documentUpdates).next((E=>{m=E.Is,y=E.ds}))),!s.isEqual(Ee.min())){const E=n.Gr.getLastRemoteSnapshotVersion(u).next((T=>n.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(E)}return W.waitFor(d).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,m,y))).next((()=>m))})).then((u=>(n.us=a,u)))}function QI(i,e,n){let s=Ce(),a=Ce();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Ar();return n.forEach(((d,m)=>{const y=u.get(d);m.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ee.min())?(e.removeEntry(d,m.readTime),h=h.insert(d,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),h=h.insert(d,m)):oe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",m.version)})),{Is:h,ds:a}}))}function GI(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function YI(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Gr.getTargetData(s,e).next((u=>u?(a=u,W.resolve(a)):n.Gr.allocateTargetId(s).next((h=>(a=new Jr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s}))}async function _f(i,e,n){const s=we(i),a=s.us.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!co(h))throw h;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function mg(i,e,n){const s=we(i);let a=Ee.min(),u=Ce();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(m,y,E){const T=we(m),C=T.cs.get(E);return C!==void 0?W.resolve(T.us.get(C)):T.Gr.getTargetData(y,E)})(s,h,Gn(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,d.targetId).next((m=>{u=m}))})).next((()=>s._s.getDocumentsMatchingQuery(h,e,n?a:Ee.min(),n?u:Ce()))).next((d=>(XI(s,jT(e),d),{documents:d,Es:u})))))}function XI(i,e,n){let s=i.ls.get(e)||Ee.min();n.forEach(((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.ls.set(e,s)}class gg{constructor(){this.activeTargetIds=HT()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JI{constructor(){this._o=new gg,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new gg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu=null;function zh(){return lu===null?lu=(function(){return 268435456+Math.round(2147483648*Math.random())})():lu++,"0x"+lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class nS extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Oo(n,s,a,u,h){const d=zh(),m=this.No(n,s.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${d}:`,m,a);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(y,u,h),this.Lo(n,m,y,a).then((E=>(oe("RestConnection",`Received RPC '${n}' ${d}: `,E),E)),(E=>{throw Js("RestConnection",`RPC '${n}' ${d} failed with error: `,E,"url: ",m,"request:",a),E}))}ko(n,s,a,u,h,d){return this.Oo(n,s,a,u,h)}Bo(n,s,a){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lo})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((u,h)=>n[h]=u)),a&&a.headers.forEach(((u,h)=>n[h]=u))}No(n,s){const a=eS[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,s,a){const u=zh();return new Promise(((h,d)=>{const m=new cy;m.setWithCredentials(!0),m.listenOnce(hy.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case fu.NO_ERROR:const E=m.getResponseJson();oe(Ot,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case fu.TIMEOUT:oe(Ot,`RPC '${e}' ${u} timed out`),d(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case fu.HTTP_ERROR:const T=m.getStatus();if(oe(Ot,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const V=C==null?void 0:C.error;if(V&&V.status&&V.message){const $=(function(M){const G=M.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(G)>=0?G:J.UNKNOWN})(V.status);d(new fe($,V.message))}else d(new fe(J.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new fe(J.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{oe(Ot,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);oe(Ot,`RPC '${e}' ${u} sending request:`,a),m.send(n,"POST",y,s,15)}))}qo(e,n,s){const a=zh(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=py(),d=dy(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Bo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const E=u.join("");oe(Ot,`Creating RPC '${e}' stream ${a}: ${E}`,m);const T=h.createWebChannel(E,m);let C=!1,V=!1;const $=new tS({Eo:M=>{V?oe(Ot,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(C||(oe(Ot,`Opening RPC '${e}' stream ${a} transport.`),T.open(),C=!0),oe(Ot,`RPC '${e}' stream ${a} sending:`,M),T.send(M))},Ao:()=>T.close()}),q=(M,G,re)=>{M.listen(G,(Q=>{try{re(Q)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return q(T,fa.EventType.OPEN,(()=>{V||(oe(Ot,`RPC '${e}' stream ${a} transport opened.`),$.So())})),q(T,fa.EventType.CLOSE,(()=>{V||(V=!0,oe(Ot,`RPC '${e}' stream ${a} transport closed`),$.Do())})),q(T,fa.EventType.ERROR,(M=>{V||(V=!0,Js(Ot,`RPC '${e}' stream ${a} transport errored:`,M),$.Do(new fe(J.UNAVAILABLE,"The operation could not be completed")))})),q(T,fa.EventType.MESSAGE,(M=>{var G;if(!V){const re=M.data[0];ze(!!re);const Q=re,ue=(Q==null?void 0:Q.error)||((G=Q[0])===null||G===void 0?void 0:G.error);if(ue){oe(Ot,`RPC '${e}' stream ${a} received error:`,ue);const Ie=ue.status;let Te=(function(P){const x=ut[P];if(x!==void 0)return zy(x)})(Ie),D=ue.message;Te===void 0&&(Te=J.INTERNAL,D="Unknown error status: "+Ie+" with message "+ue.message),V=!0,$.Do(new fe(Te,D)),T.close()}else oe(Ot,`RPC '${e}' stream ${a} received:`,re),$.vo(re)}})),q(d,fy.STAT_EVENT,(M=>{M.stat===uf.PROXY?oe(Ot,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===uf.NOPROXY&&oe(Ot,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{$.bo()}),0),$}}function Uh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(i){return new uI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n,s=1e3,a=1.5,u=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,(()=>(this.Go=Date.now(),e()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n,s,a,u,h,d,m){this.li=e,this.Yo=s,this.Zo=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Zy(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.Xo===n&&this.I_(s,a)}),(s=>{e((()=>{const a=new fe(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(a)}))}))}I_(e,n){const s=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro((()=>{s((()=>this.listener.Ro()))})),this.stream.mo((()=>{s((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((a=>{s((()=>this.d_(a)))})),this.stream.onMessage((a=>{s((()=>++this.n_==1?this.A_(a):this.onNext(a)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}d_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget((()=>this.Xo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rS extends ev{constructor(e,n,s,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=fI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ee.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?Xn(h.readTime):Ee.min()})(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=vf(this.serializer),n.addTarget=(function(u,h){let d;const m=h.target;if(d=df(m)?{documents:mI(u,m)}:{query:gI(u,m).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=$y(u,h.resumeToken);const y=mf(u,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ee.min())>0){d.readTime=Ru(u,h.snapshotVersion.toTimestamp());const y=mf(u,h.expectedCount);y!==null&&(d.expectedCount=y)}return d})(this.serializer,e);const s=vI(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=vf(this.serializer),n.removeTarget=e,this.c_(n)}}class iS extends ev{constructor(e,n,s,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=pI(e.writeResults,e.commitTime),s=Xn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=vf(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>dI(this.serializer,s)))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Oo(e,gf(n,s),a,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(J.UNKNOWN,u.toString())}))}ko(e,n,s,a,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.ko(e,gf(n,s),a,h,d,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(J.UNKNOWN,h.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class oS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Sr(n),this.C_=!1):oe("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,s,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo((h=>{s.enqueueAndForget((async()=>{Yi(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await(async function(m){const y=we(m);y.k_.add(4),await Fa(y),y.K_.set("Unknown"),y.k_.delete(4),await Wu(y)})(this))}))})),this.K_=new oS(s,a)}}async function Wu(i){if(Yi(i))for(const e of i.q_)await e(!0)}async function Fa(i){for(const e of i.q_)await e(!1)}function tv(i,e){const n=we(i);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),Jf(n)?Xf(n):ho(n).s_()&&Yf(n,e))}function Gf(i,e){const n=we(i),s=ho(n);n.L_.delete(e),s.s_()&&nv(n,e),n.L_.size===0&&(s.s_()?s.a_():Yi(n)&&n.K_.set("Unknown"))}function Yf(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ho(i).V_(e)}function nv(i,e){i.U_.xe(e),ho(i).m_(e)}function Xf(i){i.U_=new sI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.L_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),ho(i).start(),i.K_.F_()}function Jf(i){return Yi(i)&&!ho(i).i_()&&i.L_.size>0}function Yi(i){return we(i).k_.size===0}function rv(i){i.U_=void 0}async function lS(i){i.K_.set("Online")}async function uS(i){i.L_.forEach(((e,n)=>{Yf(i,e)}))}async function cS(i,e){rv(i),Jf(i)?(i.K_.O_(e),Xf(i)):i.K_.set("Unknown")}async function hS(i,e,n){if(i.K_.set("Online"),e instanceof By&&e.state===2&&e.cause)try{await(async function(a,u){const h=u.cause;for(const d of u.targetIds)a.L_.has(d)&&(await a.remoteSyncer.rejectListen(d,h),a.L_.delete(d),a.U_.removeTarget(d))})(i,e)}catch(s){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Pu(i,s)}else if(e instanceof gu?i.U_.$e(e):e instanceof Uy?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(Ee.min()))try{const s=await Jy(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const d=u.U_.it(h);return d.targetChanges.forEach(((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const E=u.L_.get(y);E&&u.L_.set(y,E.withResumeToken(m.resumeToken,h))}})),d.targetMismatches.forEach(((m,y)=>{const E=u.L_.get(m);if(!E)return;u.L_.set(m,E.withResumeToken(xt.EMPTY_BYTE_STRING,E.snapshotVersion)),nv(u,m);const T=new Jr(E.target,m,y,E.sequenceNumber);Yf(u,T)})),u.remoteSyncer.applyRemoteEvent(d)})(i,n)}catch(s){oe("RemoteStore","Failed to raise snapshot:",s),await Pu(i,s)}}async function Pu(i,e,n){if(!co(e))throw e;i.k_.add(1),await Fa(i),i.K_.set("Offline"),n||(n=()=>Jy(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await Wu(i)}))}function iv(i,e){return e().catch((n=>Pu(i,n,e)))}async function Ku(i){const e=we(i),n=li(e);let s=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;fS(e);)try{const a=await GI(e.localStore,s);if(a===null){e.B_.length===0&&n.a_();break}s=a.batchId,dS(e,a)}catch(a){await Pu(e,a)}sv(e)&&ov(e)}function fS(i){return Yi(i)&&i.B_.length<10}function dS(i,e){i.B_.push(e);const n=li(i);n.s_()&&n.f_&&n.g_(e.mutations)}function sv(i){return Yi(i)&&!li(i).i_()&&i.B_.length>0}function ov(i){li(i).start()}async function pS(i){li(i).w_()}async function mS(i){const e=li(i);for(const n of i.B_)e.g_(n.mutations)}async function gS(i,e,n){const s=i.B_.shift(),a=$f.from(s,e,n);await iv(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await Ku(i)}async function yS(i,e){e&&li(i).f_&&await(async function(s,a){if((function(h){return nI(h)&&h!==J.ABORTED})(a.code)){const u=s.B_.shift();li(s).__(),await iv(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a))),await Ku(s)}})(i,e),sv(i)&&ov(i)}async function vg(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const s=Yi(n);n.k_.add(3),await Fa(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Wu(n)}async function vS(i,e){const n=we(i);e?(n.k_.delete(2),await Wu(n)):e||(n.k_.add(2),await Fa(n),n.K_.set("Unknown"))}function ho(i){return i.W_||(i.W_=(function(n,s,a){const u=we(n);return u.b_(),new rS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(i.datastore,i.asyncQueue,{Ro:lS.bind(null,i),mo:uS.bind(null,i),po:cS.bind(null,i),R_:hS.bind(null,i)}),i.q_.push((async e=>{e?(i.W_.__(),Jf(i)?Xf(i):i.K_.set("Unknown")):(await i.W_.stop(),rv(i))}))),i.W_}function li(i){return i.G_||(i.G_=(function(n,s,a){const u=we(n);return u.b_(),new iS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:pS.bind(null,i),po:yS.bind(null,i),p_:mS.bind(null,i),y_:gS.bind(null,i)}),i.q_.push((async e=>{e?(i.G_.__(),await Ku(i)):(await i.G_.stop(),i.B_.length>0&&(oe("RemoteStore",`Stopping write stream with ${i.B_.length} pending writes`),i.B_=[]))}))),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){const h=Date.now()+s,d=new Zf(e,n,h,a,u);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ed(i,e){if(Sr("AsyncQueue",`${e}: ${i}`),co(i))return new fe(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{static emptySet(e){return new Gs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=da(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Gs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(){this.z_=new nt(ye.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):_e():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ro{constructor(e,n,s,a,u,h,d,m,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,a,u){const h=[];return n.forEach((d=>{h.push({type:0,doc:d})})),new ro(e,n,Gs.emptySet(n),h,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((e=>e.Z_()))}}class ES{constructor(){this.queries=Eg(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=we(n),u=a.queries;a.queries=Eg(),u.forEach(((h,d)=>{for(const m of d.J_)m.onError(s)}))})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function Eg(){return new Gi((i=>Ry(i)),zu)}async function av(i,e){const n=we(i);let s=3;const a=e.query;let u=n.queries.get(a);u?!u.Y_()&&e.Z_()&&(s=2):(u=new _S,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await n.onListen(a,!0);break;case 1:u.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const d=ed(h,`Initialization of query '${qs(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,u),u.J_.push(e),e.ea(n.onlineState),u.H_&&e.ta(u.H_)&&td(n)}async function lv(i,e){const n=we(i),s=e.query;let a=3;const u=n.queries.get(s);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?a=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wS(i,e){const n=we(i);let s=!1;for(const a of e){const u=a.query,h=n.queries.get(u);if(h){for(const d of h.J_)d.ta(a)&&(s=!0);h.H_=a}}s&&td(n)}function TS(i,e,n){const s=we(i),a=s.queries.get(e);if(a)for(const u of a.J_)u.onError(n);s.queries.delete(e)}function td(i){i.X_.forEach((e=>{e.next()}))}var Ef,wg;(wg=Ef||(Ef={})).na="default",wg.Cache="cache";class uv{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Ef.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this.key=e}}class hv{constructor(e){this.key=e}}class IS{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ce(),this.mutatedKeys=Ce(),this.Va=Cy(e),this.ma=new Gs(this.Va)}get fa(){return this.Ea}ga(e,n){const s=n?n.pa:new _g,a=n?n.ma:this.ma;let u=n?n.mutatedKeys:this.mutatedKeys,h=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((E,T)=>{const C=a.get(E),V=Uu(this.query,T)?T:null,$=!!C&&this.mutatedKeys.has(C.key),q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let M=!1;C&&V?C.data.isEqual(V.data)?$!==q&&(s.track({type:3,doc:V}),M=!0):this.ya(C,V)||(s.track({type:2,doc:V}),M=!0,(m&&this.Va(V,m)>0||y&&this.Va(V,y)<0)&&(d=!0)):!C&&V?(s.track({type:0,doc:V}),M=!0):C&&!V&&(s.track({type:1,doc:C}),M=!0,(m||y)&&(d=!0)),M&&(V?(h=h.add(V),u=q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{ma:h,pa:s,ss:d,mutatedKeys:u}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort(((E,T)=>(function(V,$){const q=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return q(V)-q($)})(E.type,T.type)||this.Va(E.doc,T.doc))),this.wa(s),a=a!=null&&a;const d=n&&!a?this.Sa():[],m=this.Ra.size===0&&this.current&&!a?1:0,y=m!==this.Aa;return this.Aa=m,h.length!==0||y?{snapshot:new ro(this.query,e.ma,u,h,e.mutatedKeys,m===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new _g,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach((n=>this.Ea=this.Ea.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ea=this.Ea.delete(n))),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ce(),this.ma.forEach((s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))}));const n=[];return e.forEach((s=>{this.Ra.has(s)||n.push(new hv(s))})),this.Ra.forEach((s=>{e.has(s)||n.push(new cv(s))})),n}va(e){this.Ea=e.Es,this.Ra=Ce();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return ro.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class SS{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class AS{constructor(e){this.key=e,this.Fa=!1}}class RS{constructor(e,n,s,a,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Gi((d=>Ry(d)),zu),this.Oa=new Map,this.Na=new Set,this.Ba=new nt(ye.comparator),this.La=new Map,this.ka=new Wf,this.qa={},this.Qa=new Map,this.Ka=no.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function CS(i,e,n=!0){const s=yv(i);let a;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Ca()):a=await fv(s,e,n,!0),a}async function PS(i,e){const n=yv(i);await fv(n,e,!0,!1)}async function fv(i,e,n,s){const a=await YI(i.localStore,Gn(e)),u=a.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await kS(i,e,u,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&tv(i.remoteStore,a),d}async function kS(i,e,n,s,a){i.Ua=(T,C,V)=>(async function(q,M,G,re){let Q=M.view.ga(G);Q.ss&&(Q=await mg(q.localStore,M.query,!1).then((({documents:D})=>M.view.ga(D,Q))));const ue=re&&re.targetChanges.get(M.targetId),Ie=re&&re.targetMismatches.get(M.targetId)!=null,Te=M.view.applyChanges(Q,q.isPrimaryClient,ue,Ie);return Ig(q,M.targetId,Te.ba),Te.snapshot})(i,T,C,V);const u=await mg(i.localStore,e,!0),h=new IS(e,u.Es),d=h.ga(u.documents),m=Ma.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),y=h.applyChanges(d,i.isPrimaryClient,m);Ig(i,n,y.ba);const E=new SS(e,n,h);return i.xa.set(e,E),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),y.snapshot}async function xS(i,e,n){const s=we(i),a=s.xa.get(e),u=s.Oa.get(a.targetId);if(u.length>1)return s.Oa.set(a.targetId,u.filter((h=>!zu(h,e)))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await _f(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Gf(s.remoteStore,a.targetId),wf(s,a.targetId)})).catch(uo)):(wf(s,a.targetId),await _f(s.localStore,a.targetId,!0))}async function NS(i,e){const n=we(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gf(n.remoteStore,s.targetId))}async function DS(i,e,n){const s=bS(i);try{const a=await(function(h,d){const m=we(h),y=gt.now(),E=d.reduce(((V,$)=>V.add($.key)),Ce());let T,C;return m.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let $=Ar(),q=Ce();return m.hs.getEntries(V,E).next((M=>{$=M,$.forEach(((G,re)=>{re.isValidDocument()||(q=q.add(G))}))})).next((()=>m.localDocuments.getOverlayedDocuments(V,$))).next((M=>{T=M;const G=[];for(const re of d){const Q=XT(re,T.get(re.key).overlayedDocument);Q!=null&&G.push(new di(re.key,Q,_y(Q.value.mapValue),Yn.exists(!0)))}return m.mutationQueue.addMutationBatch(V,y,G,d)})).next((M=>{C=M;const G=M.applyToLocalDocumentSet(T,q);return m.documentOverlayCache.saveOverlays(V,M.batchId,G)}))})).then((()=>({batchId:C.batchId,changes:ky(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(h,d,m){let y=h.qa[h.currentUser.toKey()];y||(y=new nt(ke)),y=y.insert(d,m),h.qa[h.currentUser.toKey()]=y})(s,a.batchId,n),await ja(s,a.changes),await Ku(s.remoteStore)}catch(a){const u=ed(a,"Failed to persist write");n.reject(u)}}async function dv(i,e){const n=we(i);try{const s=await KI(n.localStore,e);e.targetChanges.forEach(((a,u)=>{const h=n.La.get(u);h&&(ze(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Fa=!0:a.modifiedDocuments.size>0?ze(h.Fa):a.removedDocuments.size>0&&(ze(h.Fa),h.Fa=!1))})),await ja(n,s,e)}catch(s){await uo(s)}}function Tg(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach(((u,h)=>{const d=h.view.ea(e);d.snapshot&&a.push(d.snapshot)})),(function(h,d){const m=we(h);m.onlineState=d;let y=!1;m.queries.forEach(((E,T)=>{for(const C of T.J_)C.ea(d)&&(y=!0)})),y&&td(m)})(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function VS(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.La.get(e),u=a&&a.key;if(u){let h=new nt(ye.comparator);h=h.insert(u,Ft.newNoDocument(u,Ee.min()));const d=Ce().add(u),m=new Hu(Ee.min(),new Map,new nt(ke),h,d);await dv(s,m),s.Ba=s.Ba.remove(u),s.La.delete(e),nd(s)}else await _f(s.localStore,e,!1).then((()=>wf(s,e,n))).catch(uo)}async function LS(i,e){const n=we(i),s=e.batch.batchId;try{const a=await WI(n.localStore,e);mv(n,s,null),pv(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ja(n,a)}catch(a){await uo(a)}}async function OS(i,e,n){const s=we(i);try{const a=await(function(h,d){const m=we(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return m.mutationQueue.lookupMutationBatch(y,d).next((T=>(ze(T!==null),E=T.keys(),m.mutationQueue.removeMutationBatch(y,T)))).next((()=>m.mutationQueue.performConsistencyCheck(y))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(y,E,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>m.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);mv(s,e,n),pv(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ja(s,a)}catch(a){await uo(a)}}function pv(i,e){(i.Qa.get(e)||[]).forEach((n=>{n.resolve()})),i.Qa.delete(e)}function mv(i,e,n){const s=we(i);let a=s.qa[s.currentUser.toKey()];if(a){const u=a.get(e);u&&(n?u.reject(n):u.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function wf(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach((s=>{i.ka.containsKey(s)||gv(i,s)}))}function gv(i,e){i.Na.delete(e.path.canonicalString());const n=i.Ba.get(e);n!==null&&(Gf(i.remoteStore,n),i.Ba=i.Ba.remove(e),i.La.delete(n),nd(i))}function Ig(i,e,n){for(const s of n)s instanceof cv?(i.ka.addReference(s.key,e),MS(i,s)):s instanceof hv?(oe("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||gv(i,s.key)):_e()}function MS(i,e){const n=e.key,s=n.path.canonicalString();i.Ba.get(n)||i.Na.has(s)||(oe("SyncEngine","New document in limbo: "+n),i.Na.add(s),nd(i))}function nd(i){for(;i.Na.size>0&&i.Ba.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new ye(Xe.fromString(e)),s=i.Ka.next();i.La.set(s,new AS(n)),i.Ba=i.Ba.insert(n,s),tv(i.remoteStore,new Jr(Gn(Uf(n.path)),s,"TargetPurposeLimboResolution",Mu.oe))}}async function ja(i,e,n){const s=we(i),a=[],u=[],h=[];s.xa.isEmpty()||(s.xa.forEach(((d,m)=>{h.push(s.Ua(m,e,n).then((y=>{var E;if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(y){a.push(y);const T=Qf.zi(m.targetId,y);u.push(T)}})))})),await Promise.all(h),s.Ma.R_(a),await(async function(m,y){const E=we(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>W.forEach(y,(C=>W.forEach(C.Wi,(V=>E.persistence.referenceDelegate.addReference(T,C.targetId,V))).next((()=>W.forEach(C.Gi,(V=>E.persistence.referenceDelegate.removeReference(T,C.targetId,V)))))))))}catch(T){if(!co(T))throw T;oe("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const C=T.targetId;if(!T.fromCache){const V=E.us.get(C),$=V.snapshotVersion,q=V.withLastLimboFreeSnapshotVersion($);E.us=E.us.insert(C,q)}}})(s.localStore,u))}async function FS(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const s=await Xy(n.localStore,e);n.currentUser=e,(function(u,h){u.Qa.forEach((d=>{d.forEach((m=>{m.reject(new fe(J.CANCELLED,h))}))})),u.Qa.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ja(n,s.Ts)}}function jS(i,e){const n=we(i),s=n.La.get(e);if(s&&s.Fa)return Ce().add(s.key);{let a=Ce();const u=n.Oa.get(e);if(!u)return a;for(const h of u){const d=n.xa.get(h);a=a.unionWith(d.view.fa)}return a}}function yv(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=dv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VS.bind(null,e),e.Ma.R_=wS.bind(null,e.eventManager),e.Ma.Wa=TS.bind(null,e.eventManager),e}function bS(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OS.bind(null,e),e}class ku{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return qI(this.persistence,new $I,e.initialUser,this.serializer)}ja(e){return new Yy(Kf.ei,this.serializer)}za(e){return new JI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ku.provider={build:()=>new ku};class zS extends ku{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ze(this.persistence.referenceDelegate instanceof Cu);const s=this.persistence.referenceDelegate.garbageCollector;return new PI(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new Yy((s=>Cu.ei(s,n)),this.serializer)}}class Tf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Tg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FS.bind(null,this.syncEngine),await vS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ES})()}createDatastore(e){const n=qu(e.databaseInfo.databaseId),s=(function(u){return new nS(u)})(e.databaseInfo);return(function(u,h,d,m){return new sS(u,h,d,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,u,h,d){return new aS(s,a,u,h,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>Tg(this.syncEngine,n,0)),(function(){return yg.p()?new yg:new ZI})())}createSyncEngine(e,n){return(function(a,u,h,d,m,y,E){const T=new RS(a,u,h,d,m,y);return E&&(T.$a=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const u=we(a);oe("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await Fa(u),u.Q_.shutdown(),u.K_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Tf.provider={build:()=>new Tf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,s,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=gy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{oe("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(oe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ed(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Bh(i,e){i.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Xy(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Sg(i,e){i.asyncQueue.verifyOperationInProgress();const n=await BS(i);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>vg(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,a)=>vg(e.remoteStore,a))),i._onlineComponents=e}async function BS(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===J.FAILED_PRECONDITION||a.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Js("Error using user provided cache. Falling back to memory cache: "+n),await Bh(i,new ku)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await Bh(i,new zS(void 0));return i._offlineComponents}async function _v(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await Sg(i,i._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await Sg(i,new Tf))),i._onlineComponents}function $S(i){return _v(i).then((e=>e.syncEngine))}async function Ev(i){const e=await _v(i),n=e.eventManager;return n.onListen=CS.bind(null,e.syncEngine),n.onUnlisten=xS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NS.bind(null,e.syncEngine),n}function HS(i,e,n={}){const s=new wr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,d,m,y){const E=new vv({next:C=>{E.eu(),h.enqueueAndForget((()=>lv(u,T)));const V=C.docs.has(d);!V&&C.fromCache?y.reject(new fe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&C.fromCache&&m&&m.source==="server"?y.reject(new fe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),T=new uv(Uf(d.path),E,{includeMetadataChanges:!0,ua:!0});return av(u,T)})(await Ev(i),i.asyncQueue,e,n,s))),s.promise}function qS(i,e,n={}){const s=new wr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,d,m,y){const E=new vv({next:C=>{E.eu(),h.enqueueAndForget((()=>lv(u,T))),C.fromCache&&m.source==="server"?y.reject(new fe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),T=new uv(d,E,{includeMetadataChanges:!0,ua:!0});return av(u,T)})(await Ev(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(i,e,n){if(!n)throw new fe(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function WS(i,e,n,s){if(e===!0&&s===!0)throw new fe(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Rg(i){if(!ye.isDocumentKey(i))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Cg(i){if(ye.isDocumentKey(i))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function rd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":_e()}function ui(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rd(i);throw new fe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pg(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new rT;switch(s.type){case"firstParty":return new aT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Ag.get(n);s&&(oe("ComponentProvider","Removing Datastore"),Ag.delete(n),s.terminate())})(this),Promise.resolve()}}function KS(i,e,n,s={}){var a;const u=(i=ui(i,Qu))._getSettings(),h=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let d,m;if(typeof s.mockUserToken=="string")d=s.mockUserToken,m=Mt.MOCK_USER;else{d=bw(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Mt(y)}i._authCredentials=new iT(new my(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Gu(this.firestore,e,this._query)}}class an{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class ni extends Gu{constructor(e,n,s){super(e,n,Uf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new ye(e))}withConverter(e){return new ni(this.firestore,e,this._path)}}function ci(i,e,...n){if(i=ri(i),Tv("collection","path",e),i instanceof Qu){const s=Xe.fromString(e,...n);return Cg(s),new ni(i,null,s)}{if(!(i instanceof an||i instanceof ni))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Xe.fromString(e,...n));return Cg(s),new ni(i.firestore,null,s)}}function id(i,e,...n){if(i=ri(i),arguments.length===1&&(e=gy.newId()),Tv("doc","path",e),i instanceof Qu){const s=Xe.fromString(e,...n);return Rg(s),new an(i,null,new ye(s))}{if(!(i instanceof an||i instanceof ni))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Xe.fromString(e,...n));return Rg(s),new an(i.firestore,i instanceof ni?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Zy(this,"async_queue_retry"),this.fu=()=>{const s=Uh();s&&oe("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Uh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=Uh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise((()=>{}));const n=new wr;return this.yu((()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Iu.push(e),this.wu())))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!co(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(e){const n=this.gu.then((()=>(this.Ru=!0,e().catch((s=>{this.Au=s,this.Ru=!1;const a=(function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d})(s);throw Sr("INTERNAL UNHANDLED ERROR: ",a),s})).then((s=>(this.Ru=!1,s))))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=Zf.createAndSchedule(this,e,n,s,(u=>this.Su(u)));return this.Eu.push(a),a}pu(){this.Au&&_e()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then((()=>{this.Eu.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()}))}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class ba extends Qu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new kg,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kg(e),this._firestoreClient=void 0,await e}}}function za(i,e){const n=typeof i=="object"?i:Va(),s=typeof i=="string"?i:"(default)",a=H0(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=Fw("firestore");u&&KS(a,...u)}return a}function sd(i){if(i._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||QS(i),i._firestoreClient}function QS(i){var e,n,s;const a=i._freezeSettings(),u=(function(d,m,y,E){return new TT(d,m,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,wv(E.experimentalLongPollingOptions),E.useFetchStreams)})(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new US(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&(function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(xt.fromBase64String(e))}catch(n){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new io(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=/^__.*__$/;class YS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new di(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oa(e,this.data,n,this.fieldTransforms)}}class Iv{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Sv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class ld{constructor(e,n,s,a,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new ld(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Bu(e),a}Lu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return xu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Sv(this.Mu)&&GS.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class XS{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||qu(e)}$u(e,n,s,a=!1){return new ld({Mu:e,methodName:n,Ku:s,path:kt.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Av(i){const e=i._freezeSettings(),n=qu(i._databaseId);return new XS(i._databaseId,!!e.ignoreUndefinedProperties,n)}function JS(i,e,n,s,a,u={}){const h=i.$u(u.merge||u.mergeFields?2:0,e,n,a);cd("Data must be an object, but it was:",h,s);const d=Rv(s,h);let m,y;if(u.merge)m=new on(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const C=If(e,T,n);if(!h.contains(C))throw new fe(J.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);Pv(E,C)||E.push(C)}m=new on(E),y=h.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,y=h.fieldTransforms;return new YS(new Xt(d),m,y)}class Ju extends Xu{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ju}}class ud extends Xu{constructor(e,n){super(e),this.Wu=n}_toFieldTransform(e){const n=new ka(e.serializer,Dy(e.serializer,this.Wu));return new KT(e.path,n)}isEqual(e){return e instanceof ud&&this.Wu===e.Wu}}function ZS(i,e,n,s){const a=i.$u(1,e,n);cd("Data must be an object, but it was:",a,s);const u=[],h=Xt.empty();fi(s,((m,y)=>{const E=hd(e,m,n);y=ri(y);const T=a.Lu(E);if(y instanceof Ju)u.push(E);else{const C=Zu(y,T);C!=null&&(u.push(E),h.set(E,C))}}));const d=new on(u);return new Iv(h,d,a.fieldTransforms)}function eA(i,e,n,s,a,u){const h=i.$u(1,e,n),d=[If(e,s,n)],m=[a];if(u.length%2!=0)throw new fe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)d.push(If(e,u[C])),m.push(u[C+1]);const y=[],E=Xt.empty();for(let C=d.length-1;C>=0;--C)if(!Pv(y,d[C])){const V=d[C];let $=m[C];$=ri($);const q=h.Lu(V);if($ instanceof Ju)y.push(V);else{const M=Zu($,q);M!=null&&(y.push(V),E.set(V,M))}}const T=new on(y);return new Iv(E,T,h.fieldTransforms)}function Zu(i,e){if(Cv(i=ri(i)))return cd("Unsupported field value:",e,i),Rv(i,e);if(i instanceof Xu)return(function(s,a){if(!Sv(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return(function(s,a){const u=[];let h=0;for(const d of s){let m=Zu(d,a.ku(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,a){if((s=ri(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Dy(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=gt.fromDate(s);return{timestampValue:Ru(a.serializer,u)}}if(s instanceof gt){const u=new gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ru(a.serializer,u)}}if(s instanceof od)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof io)return{bytesValue:$y(a.serializer,s._byteString)};if(s instanceof an){const u=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw a.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:qf(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ad)return(function(h,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map((m=>{if(typeof m!="number")throw d.qu("VectorValues must only contain numeric values.");return Bf(d.serializer,m)}))}}}}}})(s,a);throw a.qu(`Unsupported field value: ${rd(s)}`)})(i,e)}function Rv(i,e){const n={};return yy(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fi(i,((s,a)=>{const u=Zu(a,e.Ou(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Cv(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof gt||i instanceof od||i instanceof io||i instanceof an||i instanceof Xu||i instanceof ad)}function cd(i,e,n){if(!Cv(n)||!(function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)})(n)){const s=rd(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function If(i,e,n){if((e=ri(e))instanceof Yu)return e._internalPath;if(typeof e=="string")return hd(i,e);throw xu("Field path arguments must be of type string or ",i,!1,void 0,n)}const tA=new RegExp("[~\\*/\\[\\]]");function hd(i,e,n){if(e.search(tA)>=0)throw xu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Yu(...e.split("."))._internalPath}catch{throw xu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function xu(i,e,n,s,a){const u=s&&!s.isEmpty(),h=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${s}`),h&&(m+=` in document ${a}`),m+=")"),new fe(J.INVALID_ARGUMENT,d+i+m)}function Pv(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n,s,a,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nA extends kv{data(){return super.data()}}function xv(i,e){return typeof e=="string"?hd(i,e):e instanceof Yu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iA{convertValue(e,n="none"){switch(ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return fi(e,((a,u)=>{s[a]=this.convertValue(u,n)})),s}convertVectorValue(e){var n,s,a;const u=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map((h=>ot(h.doubleValue)));return new ad(u)}convertGeoPoint(e){return new od(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ju(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Sa(e));default:return null}}convertTimestamp(e){const n=si(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Xe.fromString(e);ze(Gy(s));const a=new Aa(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return a.isEqual(n)||Sr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nv extends kv{constructor(e,n,s,a,u,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(xv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class yu extends Nv{data(e={}){return super.data(e)}}class oA{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ma(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new yu(this._firestore,this._userDataWriter,s.key,s,new ma(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map((d=>{const m=new yu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ma(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const m=new yu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ma(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,E=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:aA(d.type),doc:m,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aA(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(i){i=ui(i,an);const e=ui(i.firestore,ba);return HS(sd(e),i._key).then((n=>cA(e,i,n)))}class Dv extends iA{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function Ki(i){i=ui(i,Gu);const e=ui(i.firestore,ba),n=sd(e),s=new Dv(e);return rA(i._query),qS(n,i._query).then((a=>new oA(e,s,i,a)))}function Vv(i,e,n,...s){i=ui(i,an);const a=ui(i.firestore,ba),u=Av(a);let h;return h=typeof(e=ri(e))=="string"||e instanceof Yu?eA(u,"updateDoc",i._key,e,n,s):ZS(u,"updateDoc",i._key,e),Lv(a,[h.toMutation(i._key,Yn.exists(!0))])}function uA(i,e){const n=ui(i.firestore,ba),s=id(i),a=sA(i.converter,e);return Lv(n,[JS(Av(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,Yn.exists(!1))]).then((()=>s))}function Lv(i,e){return(function(s,a){const u=new wr;return s.asyncQueue.enqueueAndForget((async()=>DS(await $S(s),a,u))),u.promise})(sd(i),e)}function cA(i,e,n){const s=n.docs.get(e._key),a=new Dv(i);return new Nv(i,a,e._key,s,new ma(n.hasPendingWrites,n.fromCache),e.converter)}function hA(i){return new ud("increment",i)}(function(e,n=!0){(function(a){lo=a})(K0),wu(new wa("firestore",((s,{instanceIdentifier:a,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new ba(new sT(s.getProvider("auth-internal")),new uT(s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Aa(y.options.projectId,E)})(h,a),h);return u=Object.assign({useFetchStreams:n},u),d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Qs(Wm,"4.7.6",e),Qs(Wm,"4.7.6","esm2017")})();var fA="firebase",dA="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qs(fA,dA,"app");const pA={apiKey:"AIzaSyC2lYNp66IAWL-Yjzpr9WIRUuiNqMbsuJo",authDomain:"mis-carousel-elements.firebaseapp.com",projectId:"mis-carousel-elements",storageBucket:"mis-carousel-elements.firebasestorage.app",messagingSenderId:"719513831136",appId:"1:719513831136:web:d26d7afb6de73d56c37285",measurementId:"G-27YFNYFVH6"},mA=La().length===0?ao(pA):Va(),gA=za(mA),$h=900,yA=3500,vA=40,_A=i=>i&&Number(i.replace("px","").trim())||0,EA=()=>{const i=U.useRef(null),e=U.useRef(null),n=U.useRef(null),[s,a]=U.useState([]),[u,h]=U.useState(1),[d,m]=U.useState(1),[y,E]=U.useState(0),[T,C]=U.useState(!1),[V,$]=U.useState(0),[q,M]=U.useState(8),G=U.useRef(null),re=U.useRef(!1);U.useEffect(()=>{(async()=>{try{const N=await Ki(ci(gA,"CarouselURLs")),A=[];N.forEach(Me=>{A.push(...Object.values(Me.data()))}),a(A)}catch(N){console.error("Error fetching slides:",N)}})()},[]),U.useEffect(()=>{const R=()=>{const N=window.innerWidth;N<=720?h(1):N<=1100?h(2):h(3)};return R(),window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),U.useEffect(()=>{m(u)},[u]);const Q=_r.useMemo(()=>{if(!s.length)return[];const R=s.length,N=[];for(let A=d;A>0;A--)N.push(s[(R-A+R)%R]);N.push(...s);for(let A=0;A<d;A++)N.push(s[A%R]);return N},[s,d]),ue=U.useCallback(()=>{const R=e.current,N=i.current;if(!R||!N)return;const A=R.clientWidth,Me=getComputedStyle(N),Qe=Me.getPropertyValue("gap")||Me.getPropertyValue("--slide-gap"),Je=_A(Qe)||8;M(Je);const be=Je*(u-1),ne=Math.max(0,(A-be)/u),pe=Math.min(ne,A);$(Math.round(pe))},[u]);U.useEffect(()=>{ue();const R=e.current;if(!R){const Me=window.setTimeout(ue,40);return window.addEventListener("resize",ue),()=>{clearTimeout(Me),window.removeEventListener("resize",ue)}}const N=new ResizeObserver(()=>{ue()});N.observe(R),window.addEventListener("resize",ue);const A=window.setTimeout(ue,80);return()=>{N.disconnect(),window.removeEventListener("resize",ue),clearTimeout(A)}},[ue,Q.length]),U.useEffect(()=>{if(!Q.length)return;const R=i.current;if(!R)return;R.style.transition="none",E(d);const N=-(d*(V+q));R.style.transform=`translateX(${N}px)`,requestAnimationFrame(()=>{R.style.transition=`transform ${$h}ms ease`})},[Q.length,d,V,q]),U.useEffect(()=>{const R=i.current;if(!R)return;if(V===0){R.style.transform="translateX(0px)";return}const N=-(y*(V+q));R.style.transform=`translateX(${N}px)`},[y,V,q]);const Ie=U.useCallback(()=>{T||!Q.length||(C(!0),E(R=>R+1))},[T,Q.length]),Te=U.useCallback(()=>{T||!Q.length||(C(!0),E(R=>R-1))},[T,Q.length]);U.useEffect(()=>{const R=i.current;if(!R||!Q.length)return;const N=()=>{if(V===0){C(!1);return}const A=d,Me=d+s.length-1;if(y>Me){const Qe=A;R.style.transition="none";const Je=-(Qe*(V+q));R.style.transform=`translateX(${Je}px)`,R.offsetHeight,R.style.transition=`transform ${$h}ms ease`,E(Qe),setTimeout(()=>C(!1),20);return}if(y<A){const Qe=Me;R.style.transition="none";const Je=-(Qe*(V+q));R.style.transform=`translateX(${Je}px)`,R.offsetHeight,R.style.transition=`transform ${$h}ms ease`,E(Qe),setTimeout(()=>C(!1),20);return}C(!1)};return R.addEventListener("transitionend",N),()=>R.removeEventListener("transitionend",N)},[y,d,s.length,V,q,Q.length]),U.useEffect(()=>{if(Q.length)return n.current&&window.clearInterval(n.current),n.current=window.setInterval(()=>Ie(),yA),()=>{n.current&&window.clearInterval(n.current)}},[Ie,Q.length]);const D=()=>{n.current&&(window.clearInterval(n.current),n.current=null)},I=R=>{D(),G.current=R,re.current=!0},P=R=>{if(!re.current||G.current==null)return;const N=R-G.current;Math.abs(N)>=vA&&(N<0?Ie():Te(),re.current=!1,G.current=null)},x=()=>{re.current=!1,G.current=null};return Q.length?b.jsxs("div",{className:"carousel",onMouseDown:R=>{R.preventDefault(),I(R.clientX)},onMouseMove:R=>P(R.clientX),onMouseUp:x,onMouseLeave:x,onTouchStart:R=>I(R.touches[0].clientX),onTouchMove:R=>P(R.touches[0].clientX),onTouchEnd:x,children:[b.jsx("button",{className:"slider_button left",onClick:()=>{D(),Te()},"aria-label":"Previous slide",children:""}),b.jsx("div",{className:"carousel-viewport",ref:e,children:b.jsx("div",{className:"carousel-slider",ref:i,style:{gap:"var(--slide-gap)"},children:Q.map((R,N)=>b.jsx("div",{className:"carousel-slide",style:{width:V?`${V}px`:"100%"},children:b.jsx("img",{src:R,alt:`slide-${N}`,draggable:!1})},N))})}),b.jsx("button",{className:"slider_button right",onClick:()=>{D(),Ie()},"aria-label":"Next slide",children:""})]}):b.jsx("div",{className:"carousel-loading",children:"adowanie..."})},wA={apiKey:"AIzaSyDHr4iMg3HYJuWkODHczfqR4lPAZuYr5hI",authDomain:"portrait-data.firebaseapp.com",projectId:"portrait-data",storageBucket:"portrait-data.firebasestorage.app",messagingSenderId:"78857993195",appId:"1:78857993195:web:d8e45b29f28b2b3019b7ae",measurementId:"G-7X993G10RH"},TA=La().find(i=>i.name==="counter01")||ao(wA,"counter01"),IA=za(TA),SA=()=>{const i=async()=>{const e=id(IA,"PortraitData","NsXOGRWHw71ZuLGxy2BQ");try{await Vv(e,{the_unwelcomers_dwnld_counter:hA(1)})}catch(n){console.error("Error updating counter: ",n)}};return b.jsxs("div",{className:"novel_section",children:[b.jsx("h2",{className:"headline",children:"POBIERZ DARMOW POWIE"}),b.jsx("p",{className:"description",children:"Na rynku mnstwo jest kryminaw, a troch za mao thrillerw. Postanowiem nieco to zmieni. Pobierzcie za darmo mj autorski thriller z akcj w miecie Lublin."}),b.jsxs("a",{href:"/MAT_PODST_PODR_MP3_TRACK001.mp3",download:!0,className:"download_link",onClick:i,children:['POBIERZ POWIE "NIEMILEWIDZIANI"',b.jsx("span",{className:"icon",children:""})]})]})},ec=()=>b.jsxs("div",{className:"footer_section",children:[b.jsxs("ul",{children:[b.jsx("li",{children:"email address: florianmusial86@gmail.com"}),b.jsx("li",{children:"facebook profile: ........................"}),b.jsx("li",{children:"This page URL: .........................."})]}),b.jsx("p",{className:"footer_section_signature",children:"Florian Musia 2025"})]});var Hh,xg;function AA(){if(xg)return Hh;xg=1;var i=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(u,h){if(u===h)return!0;if(u&&h&&typeof u=="object"&&typeof h=="object"){if(u.constructor!==h.constructor)return!1;var d,m,y;if(Array.isArray(u)){if(d=u.length,d!=h.length)return!1;for(m=d;m--!==0;)if(!a(u[m],h[m]))return!1;return!0}var E;if(e&&u instanceof Map&&h instanceof Map){if(u.size!==h.size)return!1;for(E=u.entries();!(m=E.next()).done;)if(!h.has(m.value[0]))return!1;for(E=u.entries();!(m=E.next()).done;)if(!a(m.value[1],h.get(m.value[0])))return!1;return!0}if(n&&u instanceof Set&&h instanceof Set){if(u.size!==h.size)return!1;for(E=u.entries();!(m=E.next()).done;)if(!h.has(m.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(u)&&ArrayBuffer.isView(h)){if(d=u.length,d!=h.length)return!1;for(m=d;m--!==0;)if(u[m]!==h[m])return!1;return!0}if(u.constructor===RegExp)return u.source===h.source&&u.flags===h.flags;if(u.valueOf!==Object.prototype.valueOf&&typeof u.valueOf=="function"&&typeof h.valueOf=="function")return u.valueOf()===h.valueOf();if(u.toString!==Object.prototype.toString&&typeof u.toString=="function"&&typeof h.toString=="function")return u.toString()===h.toString();if(y=Object.keys(u),d=y.length,d!==Object.keys(h).length)return!1;for(m=d;m--!==0;)if(!Object.prototype.hasOwnProperty.call(h,y[m]))return!1;if(i&&u instanceof Element)return!1;for(m=d;m--!==0;)if(!((y[m]==="_owner"||y[m]==="__v"||y[m]==="__o")&&u.$$typeof)&&!a(u[y[m]],h[y[m]]))return!1;return!0}return u!==u&&h!==h}return Hh=function(h,d){try{return a(h,d)}catch(m){if((m.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw m}},Hh}var RA=AA();const CA=Nu(RA);var qh,Ng;function PA(){if(Ng)return qh;Ng=1;var i=function(e,n,s,a,u,h,d,m){if(!e){var y;if(n===void 0)y=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var E=[s,a,u,h,d,m],T=0;y=new Error(n.replace(/%s/g,function(){return E[T++]})),y.name="Invariant Violation"}throw y.framesToPop=1,y}};return qh=i,qh}var kA=PA();const Dg=Nu(kA);var Wh,Vg;function xA(){return Vg||(Vg=1,Wh=function(e,n,s,a){var u=s?s.call(a,e,n):void 0;if(u!==void 0)return!!u;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var h=Object.keys(e),d=Object.keys(n);if(h.length!==d.length)return!1;for(var m=Object.prototype.hasOwnProperty.bind(n),y=0;y<h.length;y++){var E=h[y];if(!m(E))return!1;var T=e[E],C=n[E];if(u=s?s.call(a,T,C,E):void 0,u===!1||u===void 0&&T!==C)return!1}return!0}),Wh}var NA=xA();const DA=Nu(NA);var Ov=(i=>(i.BASE="base",i.BODY="body",i.HEAD="head",i.HTML="html",i.LINK="link",i.META="meta",i.NOSCRIPT="noscript",i.SCRIPT="script",i.STYLE="style",i.TITLE="title",i.FRAGMENT="Symbol(react.fragment)",i))(Ov||{}),Kh={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Lg=Object.values(Ov),fd={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},VA=Object.entries(fd).reduce((i,[e,n])=>(i[n]=e,i),{}),On="data-rh",Ys={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Xs=(i,e)=>{for(let n=i.length-1;n>=0;n-=1){const s=i[n];if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}return null},LA=i=>{let e=Xs(i,"title");const n=Xs(i,Ys.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const s=Xs(i,Ys.DEFAULT_TITLE);return e||s||void 0},OA=i=>Xs(i,Ys.ON_CHANGE_CLIENT_STATE)||(()=>{}),Qh=(i,e)=>e.filter(n=>typeof n[i]<"u").map(n=>n[i]).reduce((n,s)=>({...n,...s}),{}),MA=(i,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,s)=>{if(!n.length){const a=Object.keys(s);for(let u=0;u<a.length;u+=1){const d=a[u].toLowerCase();if(i.indexOf(d)!==-1&&s[d])return n.concat(s)}}return n},[]),FA=i=>console&&typeof console.warn=="function"&&console.warn(i),ua=(i,e,n)=>{const s={};return n.filter(a=>Array.isArray(a[i])?!0:(typeof a[i]<"u"&&FA(`Helmet: ${i} should be of type "Array". Instead found type "${typeof a[i]}"`),!1)).map(a=>a[i]).reverse().reduce((a,u)=>{const h={};u.filter(m=>{let y;const E=Object.keys(m);for(let C=0;C<E.length;C+=1){const V=E[C],$=V.toLowerCase();e.indexOf($)!==-1&&!(y==="rel"&&m[y].toLowerCase()==="canonical")&&!($==="rel"&&m[$].toLowerCase()==="stylesheet")&&(y=$),e.indexOf(V)!==-1&&(V==="innerHTML"||V==="cssText"||V==="itemprop")&&(y=V)}if(!y||!m[y])return!1;const T=m[y].toLowerCase();return s[y]||(s[y]={}),h[y]||(h[y]={}),s[y][T]?!1:(h[y][T]=!0,!0)}).reverse().forEach(m=>a.push(m));const d=Object.keys(h);for(let m=0;m<d.length;m+=1){const y=d[m],E={...s[y],...h[y]};s[y]=E}return a},[]).reverse()},jA=(i,e)=>{if(Array.isArray(i)&&i.length){for(let n=0;n<i.length;n+=1)if(i[n][e])return!0}return!1},bA=i=>({baseTag:MA(["href"],i),bodyAttributes:Qh("bodyAttributes",i),defer:Xs(i,Ys.DEFER),encode:Xs(i,Ys.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Qh("htmlAttributes",i),linkTags:ua("link",["rel","href"],i),metaTags:ua("meta",["name","charset","http-equiv","property","itemprop"],i),noscriptTags:ua("noscript",["innerHTML"],i),onChangeClientState:OA(i),scriptTags:ua("script",["src","innerHTML"],i),styleTags:ua("style",["cssText"],i),title:LA(i),titleAttributes:Qh("titleAttributes",i),prioritizeSeoTags:jA(i,Ys.PRIORITIZE_SEO_TAGS)}),Mv=i=>Array.isArray(i)?i.join(""):i,zA=(i,e)=>{const n=Object.keys(i);for(let s=0;s<n.length;s+=1)if(e[n[s]]&&e[n[s]].includes(i[n[s]]))return!0;return!1},Gh=(i,e)=>Array.isArray(i)?i.reduce((n,s)=>(zA(s,e)?n.priority.push(s):n.default.push(s),n),{priority:[],default:[]}):{default:i,priority:[]},Og=(i,e)=>({...i,[e]:void 0}),UA=["noscript","script","style"],Sf=(i,e=!0)=>e===!1?String(i):String(i).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Fv=i=>Object.keys(i).reduce((e,n)=>{const s=typeof i[n]<"u"?`${n}="${i[n]}"`:`${n}`;return e?`${e} ${s}`:s},""),BA=(i,e,n,s)=>{const a=Fv(n),u=Mv(e);return a?`<${i} ${On}="true" ${a}>${Sf(u,s)}</${i}>`:`<${i} ${On}="true">${Sf(u,s)}</${i}>`},$A=(i,e,n=!0)=>e.reduce((s,a)=>{const u=a,h=Object.keys(u).filter(y=>!(y==="innerHTML"||y==="cssText")).reduce((y,E)=>{const T=typeof u[E]>"u"?E:`${E}="${Sf(u[E],n)}"`;return y?`${y} ${T}`:T},""),d=u.innerHTML||u.cssText||"",m=UA.indexOf(i)===-1;return`${s}<${i} ${On}="true" ${h}${m?"/>":`>${d}</${i}>`}`},""),jv=(i,e={})=>Object.keys(i).reduce((n,s)=>{const a=fd[s];return n[a||s]=i[s],n},e),HA=(i,e,n)=>{const s={key:e,[On]:!0},a=jv(n,s);return[_r.createElement("title",a,e)]},vu=(i,e)=>e.map((n,s)=>{const a={key:s,[On]:!0};return Object.keys(n).forEach(u=>{const d=fd[u]||u;if(d==="innerHTML"||d==="cssText"){const m=n.innerHTML||n.cssText;a.dangerouslySetInnerHTML={__html:m}}else a[d]=n[u]}),_r.createElement(i,a)}),vn=(i,e,n=!0)=>{switch(i){case"title":return{toComponent:()=>HA(i,e.title,e.titleAttributes),toString:()=>BA(i,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>jv(e),toString:()=>Fv(e)};default:return{toComponent:()=>vu(i,e),toString:()=>$A(i,e,n)}}},qA=({metaTags:i,linkTags:e,scriptTags:n,encode:s})=>{const a=Gh(i,Kh.meta),u=Gh(e,Kh.link),h=Gh(n,Kh.script);return{priorityMethods:{toComponent:()=>[...vu("meta",a.priority),...vu("link",u.priority),...vu("script",h.priority)],toString:()=>`${vn("meta",a.priority,s)} ${vn("link",u.priority,s)} ${vn("script",h.priority,s)}`},metaTags:a.default,linkTags:u.default,scriptTags:h.default}},WA=i=>{const{baseTag:e,bodyAttributes:n,encode:s=!0,htmlAttributes:a,noscriptTags:u,styleTags:h,title:d="",titleAttributes:m,prioritizeSeoTags:y}=i;let{linkTags:E,metaTags:T,scriptTags:C}=i,V={toComponent:()=>{},toString:()=>""};return y&&({priorityMethods:V,linkTags:E,metaTags:T,scriptTags:C}=qA(i)),{priority:V,base:vn("base",e,s),bodyAttributes:vn("bodyAttributes",n,s),htmlAttributes:vn("htmlAttributes",a,s),link:vn("link",E,s),meta:vn("meta",T,s),noscript:vn("noscript",u,s),script:vn("script",C,s),style:vn("style",h,s),title:vn("title",{title:d,titleAttributes:m},s)}},Af=WA,uu=[],bv=!!(typeof window<"u"&&window.document&&window.document.createElement),Rf=class{constructor(i,e){vr(this,"instances",[]);vr(this,"canUseDOM",bv);vr(this,"context");vr(this,"value",{setHelmet:i=>{this.context.helmet=i},helmetInstances:{get:()=>this.canUseDOM?uu:this.instances,add:i=>{(this.canUseDOM?uu:this.instances).push(i)},remove:i=>{const e=(this.canUseDOM?uu:this.instances).indexOf(i);(this.canUseDOM?uu:this.instances).splice(e,1)}}});this.context=i,this.canUseDOM=e||!1,e||(i.helmet=Af({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},KA={},zv=_r.createContext(KA),Hi,Uv=(Hi=class extends U.Component{constructor(n){super(n);vr(this,"helmetData");this.helmetData=new Rf(this.props.context||{},Hi.canUseDOM)}render(){return _r.createElement(zv.Provider,{value:this.helmetData.value},this.props.children)}},vr(Hi,"canUseDOM",bv),Hi),$s=(i,e)=>{const n=document.head||document.querySelector("head"),s=n.querySelectorAll(`${i}[${On}]`),a=[].slice.call(s),u=[];let h;return e&&e.length&&e.forEach(d=>{const m=document.createElement(i);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y))if(y==="innerHTML")m.innerHTML=d.innerHTML;else if(y==="cssText")m.styleSheet?m.styleSheet.cssText=d.cssText:m.appendChild(document.createTextNode(d.cssText));else{const E=y,T=typeof d[E]>"u"?"":d[E];m.setAttribute(y,T)}m.setAttribute(On,"true"),a.some((y,E)=>(h=E,m.isEqualNode(y)))?a.splice(h,1):u.push(m)}),a.forEach(d=>{var m;return(m=d.parentNode)==null?void 0:m.removeChild(d)}),u.forEach(d=>n.appendChild(d)),{oldTags:a,newTags:u}},Cf=(i,e)=>{const n=document.getElementsByTagName(i)[0];if(!n)return;const s=n.getAttribute(On),a=s?s.split(","):[],u=[...a],h=Object.keys(e);for(const d of h){const m=e[d]||"";n.getAttribute(d)!==m&&n.setAttribute(d,m),a.indexOf(d)===-1&&a.push(d);const y=u.indexOf(d);y!==-1&&u.splice(y,1)}for(let d=u.length-1;d>=0;d-=1)n.removeAttribute(u[d]);a.length===u.length?n.removeAttribute(On):n.getAttribute(On)!==h.join(",")&&n.setAttribute(On,h.join(","))},QA=(i,e)=>{typeof i<"u"&&document.title!==i&&(document.title=Mv(i)),Cf("title",e)},Mg=(i,e)=>{const{baseTag:n,bodyAttributes:s,htmlAttributes:a,linkTags:u,metaTags:h,noscriptTags:d,onChangeClientState:m,scriptTags:y,styleTags:E,title:T,titleAttributes:C}=i;Cf("body",s),Cf("html",a),QA(T,C);const V={baseTag:$s("base",n),linkTags:$s("link",u),metaTags:$s("meta",h),noscriptTags:$s("noscript",d),scriptTags:$s("script",y),styleTags:$s("style",E)},$={},q={};Object.keys(V).forEach(M=>{const{newTags:G,oldTags:re}=V[M];G.length&&($[M]=G),re.length&&(q[M]=V[M].oldTags)}),e&&e(),m(i,$,q)},ca=null,GA=i=>{ca&&cancelAnimationFrame(ca),i.defer?ca=requestAnimationFrame(()=>{Mg(i,()=>{ca=null})}):(Mg(i),ca=null)},YA=GA,Fg=class extends U.Component{constructor(){super(...arguments);vr(this,"rendered",!1)}shouldComponentUpdate(e){return!DA(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let s=null;const a=bA(e.get().map(u=>{const h={...u.props};return delete h.context,h}));Uv.canUseDOM?YA(a):Af&&(s=Af(a)),n(s)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Zh,tc=(Zh=class extends U.Component{shouldComponentUpdate(i){return!CA(Og(this.props,"helmetData"),Og(i,"helmetData"))}mapNestedChildrenToProps(i,e){if(!e)return null;switch(i.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${i.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(i,e,n,s){return{...e,[i.type]:[...e[i.type]||[],{...n,...this.mapNestedChildrenToProps(i,s)}]}}mapObjectTypeChildren(i,e,n,s){switch(i.type){case"title":return{...e,[i.type]:s,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[i.type]:{...n}}}}mapArrayTypeChildrenToProps(i,e){let n={...e};return Object.keys(i).forEach(s=>{n={...n,[s]:i[s]}}),n}warnOnInvalidChildren(i,e){return Dg(Lg.some(n=>i.type===n),typeof i.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Lg.join(", ")} are allowed. Helmet does not support rendering <${i.type}> elements. Refer to our API for more information.`),Dg(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${i.type}>. Did you forget to wrap your children in braces? ( <${i.type}>{\`\`}</${i.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(i,e){let n={};return _r.Children.forEach(i,s=>{if(!s||!s.props)return;const{children:a,...u}=s.props,h=Object.keys(u).reduce((m,y)=>(m[VA[y]||y]=u[y],m),{});let{type:d}=s;switch(typeof d=="symbol"?d=d.toString():this.warnOnInvalidChildren(s,a),d){case"Symbol(react.fragment)":e=this.mapChildrenToProps(a,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(s,n,h,a);break;default:e=this.mapObjectTypeChildren(s,e,h,a);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:i,...e}=this.props;let n={...e},{helmetData:s}=e;if(i&&(n=this.mapChildrenToProps(i,n)),s&&!(s instanceof Rf)){const a=s;s=new Rf(a.context,!0),delete n.helmetData}return s?_r.createElement(Fg,{...n,context:s.value}):_r.createElement(zv.Consumer,null,a=>_r.createElement(Fg,{...n,context:a}))}},vr(Zh,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Zh);function XA(){return b.jsxs(b.Fragment,{children:[b.jsx(tc,{children:b.jsx("title",{children:"STRONA GWNA"})}),b.jsxs("section",{children:[b.jsx(Lu,{}),b.jsx(Ou,{}),b.jsxs("h1",{className:"expo_header",children:["Dzie dobry, dobry wieczr",b.jsx("span",{className:"ending",children:"lub dobranoc :) "})]}),b.jsx(EA,{}),b.jsxs("div",{className:"grid_menu_section",children:[b.jsx("h1",{children:"N U R T Y :"}),b.jsxs("div",{className:"entries",children:[b.jsx(qi,{to:"/duarealizm",children:b.jsx("div",{className:"entry entry_duarealism",children:"D U A R E A L I Z M to dosy prostolinijne w swoim stylu malarstwo. Odcienie nie zlewaj si tutaj ze sob, a nawet - mona powiedzie - gryz si. W rezultacie daje to efekt wyrazistoci, bijcego po oczach kontrastu barw. Tematyk zawsze jest natura i czowiek, ktry niewiadomie znajduje swoje odbicie w otaczajcym go wiecie przyrody..."})}),b.jsx(qi,{to:"/proegzystencjalizm",children:b.jsx("div",{className:"entry entry_proexistentialism",children:'P R O E G Z Y S T E N C J A L I Z M charakteryzuje si niema pynnoci kolorw. Jest prb przetumaczenia jzyka wiata na jzyk farb. Bo to wanie ostre wiato jest tutaj gwnym narzdziem. To przez nie wyraa si denie czowieka do kontaktu (a nawet jednoci) z natur, czyli gwny motyw tego nurtu. To wiato zamazuje granic pomidzy czowiekiem a jego "kuzynami", czy to w wiecie zwierzt czy rolin....'})}),b.jsx(qi,{to:"/uniformizm",children:b.jsx("div",{className:"entry entry_uniformism",children:"U N I F O R M I Z M komentuje zachowania spoeczne, jakich, delikatnie mwic, nie brakuje we wspczesnym wiecie. Std przewijajcymi si na obrazach postaciami bd bardzo przypominajce siebie nawzajem manekiny. Bez ubra, bez wyrazu twarzy, a moe nawet - jak to manekiny - bez ycia... Co na temat stylu..."})})]})]}),b.jsx(SA,{}),b.jsx(ec,{})]})]})}const JA={apiKey:"AIzaSyBsflnoDdBulB4w9KJf2fO1buebBDHLt54",authDomain:"duarealism-entries.firebaseapp.com",projectId:"duarealism-entries",storageBucket:"duarealism-entries.firebasestorage.app",messagingSenderId:"562470942726",appId:"1:562470942726:web:e45eab4f294c2e845eeb87",measurementId:"G-RH3NTNPTRP"},ZA=La().find(i=>i.name==="DRConf")?Va("DRConf"):ao(JA,"DRConf"),Yh=za(ZA),dd=({closeModal:i,entry:e,addComment:n,db:s,collectionName:a})=>{const[u,h]=U.useState(!1),[d,m]=U.useState(!1),y=()=>{document.body.style.overflow="",document.body.style.touchAction=""},E=async T=>{T.preventDefault(),h(!0);const C=T.target,V=new FormData(C),$={id:Date.now().toString(),content:V.get("the_content"),signature:V.get("the_signature")};try{const q=ci(s,a,e.entryId,"entry_comments");await uA(q,$);const M=id(s,a,e.entryId),re=(await lA(M)).data().entry_comments_count||0;await Vv(M,{entry_comments_count:re+1}),n(e.entryId,$,$.id),m(!0),C.reset(),setTimeout(()=>{i(),y()},1500)}catch(q){console.error("Error adding comment: ",q),alert("Nie udao si doda komentarza!")}finally{h(!1),localStorage.setItem("signature",$.signature)}};return b.jsx("div",{id:"add_comment_modal",children:d?b.jsx("div",{className:"success-message",children:" KOMENTARZ DODANY!"}):b.jsxs(b.Fragment,{children:[b.jsxs("form",{className:"add_comment_form",onSubmit:E,children:[b.jsxs("label",{children:["Twj komentarz:",b.jsx("textarea",{name:"the_content",required:!0,maxLength:300,placeholder:"Do 300 znakw."})]}),b.jsxs("label",{children:["Twj podpis:",b.jsx("input",{name:"the_signature",type:"text",required:!0,maxLength:30,placeholder:"Do 30 znakw."})]}),b.jsx("button",{className:"add_button",type:"submit",disabled:u,children:u?"DODAWANIE...":"DODAJ KOMENTARZ"}),b.jsx("button",{className:"cancel_button",type:"button",onClick:()=>{i(),y()},children:"ALBO NIE :)"})]}),b.jsx("div",{className:"image_box",children:b.jsx("img",{className:e.entry_position==="vertical"?"image_vertical":"image_horizontal",src:e.entryURL,alt:"preview"})})]})})},eR=()=>{const[i,e]=U.useState([]),[n,s]=U.useState(!1),[a,u]=U.useState(null);U.useEffect(()=>{(async()=>{try{const m=ci(Yh,"DuarealismEntries"),y=await Ki(m),E=[];for(const T of y.docs){const C=T.data(),V=T.id,$=ci(Yh,"DuarealismEntries",V,"entry_comments"),q=await Ki($),M={};q.forEach(G=>{M[G.id]=G.data()}),E.push({entryId:V,...C,entry_comments:M})}e(E)}catch(m){console.error("Error loading entries:",m)}})()},[]);const h=(d,m,y)=>{e(E=>E.map(T=>T.entryId===d?{...T,entry_comments:{...T.entry_comments,[y]:m}}:T))};return b.jsxs(b.Fragment,{children:[b.jsx(tc,{children:b.jsx("title",{children:"DUAREALIZM"})}),b.jsx(Lu,{}),b.jsx(Ou,{}),b.jsx("p",{className:"intro",children:'D U A R E A L I Z M to dosy prostolinijne w swoim stylu malarstwo. Odcienie nie zlewaj si tutaj ze sob, a nawet - mona powiedzie - gryz si. W rezultacie daje to efekt wyrazistoci, bijcego po oczach kontrastu barw. Tematyk zawsze jest natura i czowiek, ktry niewiadomie znajduje swoje odbicie w otaczajcym go wiecie przyrody. Nazwa pochodzi od dwch czonw: angielskiego "dual", czyli "podwjne" (odniesienie do obydwu warstw obrazu: ludzkiej oraz przyrodniczej), i "arealizm", a wic co nie do koca realistycznego, prymitywnego w swoim warsztacie.'}),b.jsx("div",{className:"entries_section",children:i.map(d=>b.jsxs("div",{className:"entry",children:[b.jsxs("div",{className:"main_chunk",children:[b.jsx("div",{className:"image_box",children:b.jsx("img",{className:d.entry_position==="vertical"?"image_vertical":"image_horizontal",src:d.entryURL,alt:d.entry_name})}),b.jsxs("div",{className:"about",children:[b.jsx("p",{children:b.jsx("strong",{children:d.entry_name})}),b.jsx("p",{children:d.entry_description})]})]}),b.jsxs("div",{className:"comments_box",children:[Object.values(d.entry_comments).length>0&&b.jsx("h3",{children:"KOMENTARZE:"}),b.jsx("div",{className:"comments",children:Object.values(d.entry_comments).sort((m,y)=>Number(y.id)-Number(m.id)).map(m=>b.jsxs("div",{className:"comment",children:[b.jsx("strong",{children:b.jsx("p",{className:"content",children:m.content})}),b.jsx("i",{children:b.jsxs("p",{className:"signature",children:["-",m.signature]})}),b.jsx("small",{children:b.jsx("p",{className:"date",children:new Date(Number(m.id)).toLocaleString()})})]},m.id))}),b.jsx("button",{className:"add_button",onClick:()=>{u(d),s(!0)},children:"DODAJ KOMENTARZ"})]})]},d.entryId||d.id))}),n&&a&&b.jsx(dd,{closeModal:()=>s(!1),entry:a,addComment:h,db:Yh,collectionName:"DuarealismEntries"}),b.jsx(ec,{})]})},tR={apiKey:"AIzaSyAwROrWuEbtxFGIoHU5ABsseqz8vWeMFVU",authDomain:"proegs-entries.firebaseapp.com",projectId:"proegs-entries",storageBucket:"proegs-entries.firebasestorage.app",messagingSenderId:"465814528430",appId:"1:465814528430:web:6de3c025700493214be83f",measurementId:"G-W4TTZVMRYJ"},nR=La().find(i=>i.name==="ProEgConf")?Va("ProEgConf"):ao(tR,"ProEgConf"),Xh=za(nR),rR=()=>{const[i,e]=U.useState([]),[n,s]=U.useState(!1),[a,u]=U.useState(null);U.useEffect(()=>{(async()=>{try{const m=ci(Xh,"ProEgsEntries"),y=await Ki(m),E=[];for(const T of y.docs){const C=T.data(),V=T.id,$=ci(Xh,"ProEgsEntries",V,"entry_comments"),q=await Ki($),M={};q.forEach(G=>{M[G.id]=G.data()}),E.push({entryId:V,...C,entry_comments:M})}e(E)}catch(m){console.error("Error loading entries:",m)}})()},[]);const h=(d,m,y)=>{e(E=>E.map(T=>T.entryId===d?{...T,entry_comments:{...T.entry_comments,[y]:m}}:T))};return b.jsxs(b.Fragment,{children:[b.jsx(tc,{children:b.jsx("title",{children:"PROEGZYSTENCJALIZM"})}),b.jsx(Lu,{}),b.jsx(Ou,{}),b.jsx("p",{className:"intro",children:'P R O E G Z Y S T E N C J A L I Z M charakteryzuje si niema pynnoci kolorw. Jest prb przetumaczenia jzyka wiata na jzyk farb. Bo to wanie ostre wiato jest tutaj gwnym narzdziem. To przez nie wyraa si denie czowieka do kontaktu (a nawet jednoci) z natur, czyli gwny motyw tego nurtu. To wiato zamazuje granic pomidzy czowiekiem a jego "kuzynami", czy to w wiecie zwierzt czy rolin. Co do nazwy, to chciaem, eby odzwierciedlaa pozytywne nastawienie do podstawowej wartoci ycia. Do naszego yjcego rodowiska, ktre po prostu jest, a wic jest wystarczajcym powodem do radoci :)'}),b.jsx("div",{className:"entries_section",children:i.map(d=>b.jsxs("div",{className:"entry",children:[b.jsxs("div",{className:"main_chunk",children:[b.jsx("div",{className:"image_box",children:b.jsx("img",{className:d.entry_position==="vertical"?"image_vertical":"image_horizontal",src:d.entryURL,alt:d.entry_name})}),b.jsxs("div",{className:"about",children:[b.jsx("p",{children:b.jsx("strong",{children:d.entry_name})}),b.jsx("p",{children:d.entry_description})]})]}),b.jsxs("div",{className:"comments_box",children:[Object.values(d.entry_comments).length>0&&b.jsx("h3",{children:"KOMENTARZE:"}),b.jsx("div",{className:"comments",children:Object.values(d.entry_comments).sort((m,y)=>Number(y.id)-Number(m.id)).map(m=>b.jsxs("div",{className:"comment",children:[b.jsx("strong",{children:b.jsx("p",{className:"content",children:m.content})}),b.jsx("i",{children:b.jsxs("p",{className:"signature",children:["-",m.signature]})}),b.jsx("small",{children:b.jsx("p",{className:"date",children:new Date(Number(m.id)).toLocaleString()})})]},m.id))}),b.jsx("button",{className:"add_button",onClick:()=>{u(d),s(!0)},children:"DODAJ KOMENTARZ"})]})]},d.entryId||d.id))}),n&&a&&b.jsx(dd,{closeModal:()=>s(!1),entry:a,addComment:h,db:Xh,collectionName:"ProEgsEntries"}),b.jsx(ec,{})]})},iR={apiKey:"AIzaSyBot1Pm4l2fWWRbduRIrdRrQCPrN3H5hZQ",authDomain:"uniformism-entries.firebaseapp.com",projectId:"uniformism-entries",storageBucket:"uniformism-entries.firebasestorage.app",messagingSenderId:"645196019346",appId:"1:645196019346:web:0b8a1e14fa00eed1cd984b",measurementId:"G-3DMNC1BYCS"},sR=La().find(i=>i.name==="UNiConf")?Va("UNiConf"):ao(iR,"UNiConf"),Jh=za(sR),oR=()=>{const[i,e]=U.useState([]),[n,s]=U.useState(!1),[a,u]=U.useState(null);U.useEffect(()=>{(async()=>{try{const m=ci(Jh,"UniformismEntries"),y=await Ki(m),E=[];for(const T of y.docs){const C=T.data(),V=T.id,$=ci(Jh,"UniformismEntries",V,"entry_comments"),q=await Ki($),M={};q.forEach(G=>{M[G.id]=G.data()}),E.push({entryId:V,...C,entry_comments:M})}e(E)}catch(m){console.error("Error loading entries:",m)}})()},[]);const h=(d,m,y)=>{e(E=>E.map(T=>T.entryId===d?{...T,entry_comments:{...T.entry_comments,[y]:m}}:T))};return b.jsxs(b.Fragment,{children:[b.jsx(tc,{children:b.jsx("title",{children:"UNIFORMIZM"})}),b.jsx(Lu,{}),b.jsx(Ou,{}),b.jsx("p",{className:"intro",children:"U N I F O R M I Z M komentuje zachowania spoeczne, jakich, delikatnie mwic, nie brakuje we wspczesnym wiecie. Std przewijajcymi si na obrazach postaciami bd bardzo przypominajce siebie nawzajem manekiny. Bez ubra, bez wyrazu twarzy, a moe nawet - jak to manekiny - bez ycia..."}),b.jsx("div",{className:"entries_section",children:i.map(d=>b.jsxs("div",{className:"entry",children:[b.jsxs("div",{className:"main_chunk",children:[b.jsx("div",{className:"image_box",children:b.jsx("img",{className:d.entry_position==="vertical"?"image_vertical":"image_horizontal",src:d.entryURL,alt:d.entry_name})}),b.jsxs("div",{className:"about",children:[b.jsx("p",{children:b.jsx("strong",{children:d.entry_name})}),b.jsx("p",{children:d.entry_description})]})]}),b.jsxs("div",{className:"comments_box",children:[Object.values(d.entry_comments).length>0&&b.jsx("h3",{children:"KOMENTARZE:"}),b.jsx("div",{className:"comments",children:Object.values(d.entry_comments).sort((m,y)=>Number(y.id)-Number(m.id)).map(m=>b.jsxs("div",{className:"comment",children:[b.jsx("strong",{children:b.jsx("p",{className:"content",children:m.content})}),b.jsx("i",{children:b.jsxs("p",{className:"signature",children:["-",m.signature]})}),b.jsx("small",{children:b.jsx("p",{className:"date",children:new Date(Number(m.id)).toLocaleString()})})]},m.id))}),b.jsx("button",{className:"add_button",onClick:()=>{u(d),s(!0)},children:"DODAJ KOMENTARZ"})]})]},d.entryId||d.id))}),n&&a&&b.jsx(dd,{closeModal:()=>s(!1),entry:a,addComment:h,db:Jh,collectionName:"UniformismEntries"}),b.jsx(ec,{})]})};function aR(){return b.jsx(Uv,{children:b.jsx(yw,{children:b.jsxs(QE,{children:[b.jsx(ha,{path:"/",element:b.jsx(XA,{})}),b.jsx(ha,{path:"/duarealizm",element:b.jsx(eR,{})}),b.jsx(ha,{path:"/proegzystencjalizm",element:b.jsx(rR,{})}),b.jsx(ha,{path:"/uniformizm",element:b.jsx(oR,{})})]})})})}tE.createRoot(document.getElementById("root")).render(b.jsx(U.StrictMode,{children:b.jsx(aR,{})}));
